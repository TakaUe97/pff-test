!function(){"use strict";var e={56:function(e,t,r){r.d(t,{D:function(){return i}});var n=r(1639);function i(e,t){try{if(!e||"object"!=typeof e)return(0,n.Z)(3);if(!t||"object"!=typeof t)return(0,n.Z)(4);const r=Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),s=0===Object.keys(r).length?e:r;for(let o in s)if(void 0!==e[o])try{if(null===e[o]){r[o]=null;continue}Array.isArray(e[o])&&Array.isArray(t[o])?r[o]=Array.from(new Set([...e[o],...t[o]])):"object"==typeof e[o]&&"object"==typeof t[o]?r[o]=i(e[o],t[o]):r[o]=e[o]}catch(e){(0,n.Z)(1,e)}return r}catch(e){(0,n.Z)(2,e)}}},8312:function(e,t,r){r.d(t,{C5:function(){return c},CX:function(){return l},JY:function(){return a}});var n=r(3131),i=r(56);const s={beacon:n.ce.beacon,errorBeacon:n.ce.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0},o={};function a(e){try{const t=c(e);return!!t.licenseKey&&!!t.errorBeacon&&!!t.applicationID}catch(e){return!1}}function c(e){if(!e)throw new Error("All info objects require an agent identifier!");if(!o[e])throw new Error("Info for ".concat(e," was never set"));return o[e]}function l(e,t){if(!e)throw new Error("All info objects require an agent identifier!");o[e]=(0,i.D)(t,s);const r=(0,n.ek)(e);r&&(r.info=o[e])}},4613:function(e,t,r){r.d(t,{P_:function(){return f},Mt:function(){return g},Dg:function(){return m}});var n=r(8089),i=r(5146);const s=e=>{if(!e||"string"!=typeof e)return!1;try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0};var o=r(9181),a=r(1639),c=r(3131),l=r(56);const u="[data-nr-mask]",h=()=>{const e={feature_flags:[],experimental:{marks:!1,measures:!1,resources:!1},mask_selector:"*",block_selector:"[data-nr-block]",mask_input_options:{color:!1,date:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:!1,search:!1,tel:!1,text:!1,time:!1,url:!1,week:!1,textarea:!1,select:!1,password:!0}};return{ajax:{deny_list:void 0,block_internal:!0,enabled:!0,autoStart:!0},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},get feature_flags(){return e.feature_flags},set feature_flags(t){e.feature_flags=t},generic_events:{enabled:!0,autoStart:!0},harvest:{interval:30},jserrors:{enabled:!0,autoStart:!0},logging:{enabled:!0,autoStart:!0,level:i.yK.INFO},metrics:{enabled:!0,autoStart:!0},obfuscate:void 0,page_action:{enabled:!0},page_view_event:{enabled:!0,autoStart:!0},page_view_timing:{enabled:!0,autoStart:!0},performance:{get capture_marks(){return e.feature_flags.includes(n.y8.MARKS)||e.experimental.marks},set capture_marks(t){e.experimental.marks=t},get capture_measures(){return e.feature_flags.includes(n.y8.MEASURES)||e.experimental.measures},set capture_measures(t){e.experimental.measures=t},capture_detail:!0,resources:{get enabled(){return e.feature_flags.includes(n.y8.RESOURCES)||e.experimental.resources},set enabled(t){e.experimental.resources=t},asset_types:[],first_party_domains:[],ignore_newrelic:!0}},privacy:{cookies_enabled:!0},proxy:{assets:void 0,beacon:void 0},session:{expiresMs:o.oD,inactiveMs:o.Hb},session_replay:{autoStart:!0,enabled:!1,preload:!1,sampling_rate:10,error_sampling_rate:100,collect_fonts:!1,inline_images:!1,fix_stylesheets:!0,mask_all_inputs:!0,get mask_text_selector(){return e.mask_selector},set mask_text_selector(t){s(t)?e.mask_selector="".concat(t,",").concat(u):""===t||null===t?e.mask_selector=u:(0,a.Z)(5,t)},get block_class(){return"nr-block"},get ignore_class(){return"nr-ignore"},get mask_text_class(){return"nr-mask"},get block_selector(){return e.block_selector},set block_selector(t){s(t)?e.block_selector+=",".concat(t):""!==t&&(0,a.Z)(6,t)},get mask_input_options(){return e.mask_input_options},set mask_input_options(t){t&&"object"==typeof t?e.mask_input_options={...t,password:!0}:(0,a.Z)(7,t)}},session_trace:{enabled:!0,autoStart:!0},soft_navigations:{enabled:!0,autoStart:!0},spa:{enabled:!0,autoStart:!0},ssl:void 0,user_actions:{enabled:!0,elementAttributes:["id","className","tagName","type"]}}},d={},p="All configuration objects require an agent identifier!";function f(e){if(!e)throw new Error(p);if(!d[e])throw new Error("Configuration for ".concat(e," was never set"));return d[e]}function m(e,t){if(!e)throw new Error(p);d[e]=(0,l.D)(t,h());const r=(0,c.ek)(e);r&&(r.init=d[e])}function g(e,t){if(!e)throw new Error(p);var r=f(e);if(r){for(var n=t.split("."),i=0;i<n.length-1;i++)if("object"!=typeof(r=r[n[i]]))return;r=r[n[n.length-1]]}return r}},6910:function(e,t,r){r.d(t,{D:function(){return a},G:function(){return c}});var n=r(3131),i=r(56);const s={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},o={};function a(e){if(!e)throw new Error("All loader-config objects require an agent identifier!");if(!o[e])throw new Error("LoaderConfig for ".concat(e," was never set"));return o[e]}function c(e,t){if(!e)throw new Error("All loader-config objects require an agent identifier!");o[e]=(0,i.D)(t,s);const r=(0,n.ek)(e);r&&(r.loader_config=o[e])}},3807:function(e,t,r){r.d(t,{O:function(){return h},s:function(){return d}});var n=r(56),i=r(3131),s=r(9152),o=r(8445);let a=0;const c={buildEnv:o.Re,distMethod:o.gF,version:o.q4,originTime:s.sK},l={customTransaction:void 0,disabled:!1,isolatedBacklog:!1,loaderType:void 0,maxBytes:3e4,onerror:void 0,ptid:void 0,releaseIds:{},appMetadata:{},session:void 0,denyList:void 0,timeKeeper:void 0,obfuscator:void 0,harvester:void 0},u={};function h(e){if(!e)throw new Error("All runtime objects require an agent identifier!");if(!u[e])throw new Error("Runtime for ".concat(e," was never set"));return u[e]}function d(e,t){if(!e)throw new Error("All runtime objects require an agent identifier!");u[e]={...(0,n.D)(t,l),...c},Object.hasOwnProperty.call(u[e],"harvestCount")||Object.defineProperty(u[e],"harvestCount",{get:()=>++a});const r=(0,i.ek)(e);r&&(r.runtime=u[e])}},6314:function(e,t,r){r.d(t,{Y:function(){return i},f:function(){return n}});const n=64e3,i=1e6},8445:function(e,t,r){r.d(t,{Re:function(){return i},gF:function(){return s},lF:function(){return o},q4:function(){return n}});const n="1.281.0",i="NPM",s="NPM",o="^2.0.0-alpha.17"},9152:function(e,t,r){r.d(t,{FN:function(){return l},IF:function(){return d},LW:function(){return a},Tt:function(){return u},_A:function(){return o},iS:function(){return c},il:function(){return i},sK:function(){return p},ux:function(){return h},v6:function(){return s}});var n=r(1595);const i="undefined"!=typeof window&&!!window.document,s="undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self.navigator instanceof WorkerNavigator||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis.navigator instanceof WorkerNavigator),o=i?window:"undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis),a="complete"===o?.document?.readyState,c=Boolean("hidden"===o?.document?.visibilityState),l=""+o?.location,u=/iPad|iPhone|iPod/.test(o.navigator?.userAgent),h=u&&"undefined"==typeof SharedWorker,d=(()=>{const e=o.navigator?.userAgent?.match(/Firefox[/\s](\d+\.\d+)/);return Array.isArray(e)&&e.length>=2?+e[1]:0})(),p=Date.now()-(0,n.z)()},4741:function(e,t,r){r.d(t,{R2:function(){return o},zR:function(){return i},zh:function(){return s}});var n=[];function i(e){if(!e||s(e))return!1;if(0===n.length)return!0;for(var t=0;t<n.length;t++){var r=n[t];if("*"===r.hostname)return!1;if(a(r.hostname,e.hostname)&&c(r.pathname,e.pathname))return!1}return!0}function s(e){return void 0===e.hostname}function o(e){if(n=[],e&&e.length)for(var t=0;t<e.length;t++){let r=e[t];if(!r)continue;0===r.indexOf("http://")?r=r.substring(7):0===r.indexOf("https://")&&(r=r.substring(8));const i=r.indexOf("/");let s,o;i>0?(s=r.substring(0,i),o=r.substring(i)):(s=r,o="");let[a]=s.split(":");n.push({hostname:a,pathname:o})}}function a(e,t){return!(e.length>t.length)&&t.indexOf(e)===t.length-e.length}function c(e,t){return 0===e.indexOf("/")&&(e=e.substring(1)),0===t.indexOf("/")&&(t=t.substring(1)),""===e||e===t}},2422:function(e,t,r){function n(e){return!!e&&e.self!==e.top}r.d(t,{u:function(){return n}})},1019:function(e,t,r){r.d(t,{LP:function(){return h},RP:function(){return c},o5:function(){return l}});var n=r(5891),i=r(5992),s=r(4663),o=r(5783);const a={};function c(e,t){const r={staged:!1,priority:s.pQ[t]||0};u(e),a[e].get(t)||a[e].set(t,r)}function l(e,t){e&&a[e]&&(a[e].get(t)&&a[e].delete(t),p(e,t,!1),a[e].size&&d(e))}function u(e){if(!e)throw new Error("agentIdentifier required");a[e]||(a[e]=new Map)}function h(e="",t="feature",r=!1){if(u(e),!e||!a[e].get(t)||r)return p(e,t);a[e].get(t).staged=!0,d(e)}function d(e){const t=Array.from(a[e]);t.every((([e,t])=>t.staged))&&(t.sort(((e,t)=>e[1].priority-t[1].priority)),t.forEach((([t])=>{a[e].delete(t),p(e,t)})))}function p(e,t,r=!0){const s=e?n.ee.get(e):n.ee,a=i.X.handlers;if(!s.aborted&&s.backlog&&a){if(r){const e=s.backlog[t],r=a[t];if(r){for(let t=0;e&&t<e.length;++t)f(e[t],r);Object.entries(r).forEach((([e,t])=>{Object.values(t||{}).forEach((t=>{t[0]?.on&&t[0]?.context()instanceof o.A&&t[0].on(e,t[1])}))}))}}s.isolatedBacklog||delete a[t],s.backlog[t]=null,s.emit("drain-"+t,[])}}function f(e,t){var r=e[1];Object.values(t[r]||{}).forEach((t=>{var r=e[0];if(t[0]===r){var n=t[1],i=e[3],s=e[2];n.apply(i,s)}}))}},5891:function(e,t,r){r.d(t,{A:function(){return c},ee:function(){return l}});var n=r(3131),i=r(7047),s=r(3807),o=r(5783),a=r(2965);const c="nr@context:".concat(a.a),l=function e(t,r){var n={},a={},u={},h=!1;try{h=16===r.length&&(0,s.O)(r).isolatedBacklog}catch(e){}var d={on:f,addEventListener:f,removeEventListener:function(e,t){var r=n[e];if(!r)return;for(var i=0;i<r.length;i++)r[i]===t&&r.splice(i,1)},emit:function(e,r,n,i,s){!1!==s&&(s=!0);if(l.aborted&&!i)return;t&&s&&t.emit(e,r,n);for(var o=p(n),c=m(e),u=c.length,h=0;h<u;h++)c[h].apply(o,r);var f=y()[a[e]];f&&f.push([d,e,r,o]);return o},get:g,listeners:m,context:p,buffer:function(e,t){const r=y();if(t=t||"feature",d.aborted)return;Object.entries(e||{}).forEach((([e,n])=>{a[n]=t,t in r||(r[t]=[])}))},abort:function(){d._aborted=!0,Object.keys(d.backlog).forEach((e=>{delete d.backlog[e]}))},isBuffering:function(e){return!!y()[a[e]]},debugId:r,backlog:h?{}:t&&"object"==typeof t.backlog?t.backlog:{},isolatedBacklog:h};return Object.defineProperty(d,"aborted",{get:()=>{let e=d._aborted||!1;return e||(t&&(e=t.aborted),e)}}),d;function p(e){return e&&e instanceof o.A?e:e?(0,i.X)(e,c,(()=>new o.A(c))):new o.A(c)}function f(e,t){n[e]=m(e).concat(t)}function m(e){return n[e]||[]}function g(t){return u[t]=u[t]||e(d,t)}function y(){return d.backlog}}(void 0,"globalEE"),u=(0,n.fP)();u.ee||(u.ee=l)},5783:function(e,t,r){r.d(t,{A:function(){return n}});class n{constructor(e){this.contextId=e}}},5300:function(e,t,r){r.d(t,{E:function(){return n},p:function(){return i}});var n=r(5891).ee.get("handle");function i(e,t,r,i,s){s?(s.buffer([e],i),s.emit(e,t,r)):(n.buffer([e],i),n.emit(e,t,r))}},5992:function(e,t,r){r.d(t,{X:function(){return s}});var n=r(5300);s.on=o;var i=s.handlers={};function s(e,t,r,s){o(s||n.E,i,e,t,r)}function o(e,t,r,i,s){s||(s="feature"),e||(e=n.E);var o=t[s]=t[s]||{};(o[r]=o[r]||[]).push([e,i])}},5944:function(e,t,r){function n(e,t){return{capture:e,passive:!1,signal:t}}function i(e,t,r=!1,i){window.addEventListener(e,t,n(r,i))}function s(e,t,r=!1,i){document.addEventListener(e,t,n(r,i))}r.d(t,{bP:function(){return i},iz:function(){return s},m$:function(){return n}})},2965:function(e,t,r){r.d(t,{a:function(){return n}});const n=(0,r(765).Rl)()},765:function(e,t,r){r.d(t,{Ht:function(){return l},M:function(){return c},Rl:function(){return o},ky:function(){return a}});var n=r(9152);const i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function s(e,t){return e?15&e[t]:16*Math.random()|0}function o(){const e=n._A?.crypto||n._A?.msCrypto;let t,r=0;return e&&e.getRandomValues&&(t=e.getRandomValues(new Uint8Array(30))),i.split("").map((e=>"x"===e?s(t,r++).toString(16):"y"===e?(3&s()|8).toString(16):e)).join("")}function a(e){const t=n._A?.crypto||n._A?.msCrypto;let r,i=0;t&&t.getRandomValues&&(r=t.getRandomValues(new Uint8Array(e)));const o=[];for(var a=0;a<e;a++)o.push(s(r,i++).toString(16));return o.join("")}function c(){return a(16)}function l(){return a(32)}},6834:function(e,t,r){r.d(t,{AG:function(){return a},FX:function(){return l},n1:function(){return u},uR:function(){return c}});var n=r(4155),i=r(3807),s=Object.prototype.hasOwnProperty,o=64;function a(e,t,r){return e||0===e||""===e?t(e)+(r?",":""):"!"}function c(e,t){return t?Math.floor(e).toString(36):void 0===e||0===e?"":Math.floor(e).toString(36)}function l(e){let t=0;const r=Object.prototype.hasOwnProperty.call(Object,"create")?Object.create(null):{},n=(0,i.O)(e).obfuscator;return function(e){if(void 0===e||""===e)return"";return e=n.obfuscateString(String(e)),s.call(r,e)?c(r[e],!0):(r[e]=t++,function(e){return"'"+e.replace(h,"\\$1")}(e))}}function u(e,t){var r=[];return Object.entries(e||{}).forEach((([e,i])=>{if(!(r.length>=o)){var s,a=5;switch(e=t(e),typeof i){case"object":i?s=t((0,n.P)(i)):a=9;break;case"number":a=6,s=i%1?i:i+".";break;case"boolean":a=i?7:8;break;case"undefined":a=9;break;default:s=t(i)}r.push([a,e+(s?","+s:"")])}})),r}var h=/([,\\;])/g},9181:function(e,t,r){r.d(t,{Bq:function(){return n},Hb:function(){return o},IK:function(){return l},K4:function(){return i},oD:function(){return s},uT:function(){return c},wO:function(){return a}});const n="NRBA",i="SESSION",s=144e5,o=18e5,a={STARTED:"session-started",PAUSE:"session-pause",RESET:"session-reset",RESUME:"session-resume",UPDATE:"session-update"},c={SAME_TAB:"same-tab",CROSS_TAB:"cross-tab"},l={OFF:0,FULL:1,ERROR:2}},1131:function(e,t,r){r.d(t,{uB:function(){return m},wu:function(){return f},zJ:function(){return p}});var n="Start",i="End",s="unloadEvent",o="redirect",a="domainLookup",c="onnect",l="request",u="response",h="loadEvent",d="domContentLoadedEvent";const p=[];function f(e,t,r={},p=!1){if(t)return r.of=e,g(r.of,r,"n",!0),g(t[s+n],r,"u",p),g(t[o+n],r,"r",p),g(t[s+i],r,"ue",p),g(t[o+i],r,"re",p),g(t["fetch"+n],r,"f",p),g(t[a+n],r,"dn",p),g(t[a+i],r,"dne",p),g(t["c"+c+n],r,"c",p),g(t["secureC"+c+"ion"+n],r,"s",p),g(t["c"+c+i],r,"ce",p),g(t[l+n],r,"rq",p),g(t[u+n],r,"rp",p),g(t[u+i],r,"rpe",p),g(t.domLoading,r,"dl",p),g(t.domInteractive,r,"di",p),g(t[d+n],r,"ds",p),g(t[d+i],r,"de",p),g(t.domComplete,r,"dc",p),g(t[h+n],r,"l",p),g(t[h+i],r,"le",p),r}function m(e,t){var r;return g("number"==typeof(r=e.type)?r:{navigate:void 0,reload:1,back_forward:2,prerender:3}[r],t,"ty"),g(e.redirectCount,t,"rc"),t}function g(e,t,r,n){if("number"==typeof e&&e>0){if(n){const r=t?.of>0?t.of:0;e=Math.max(e-r,0)}e=Math.round(e),t[r]=e,p.push(e)}else p.push(void 0)}},1595:function(e,t,r){function n(){return Math.floor(performance.now())}r.d(t,{z:function(){return n}})},1478:function(e,t,r){r.d(t,{f:function(){return s}});var n=/([^?#]*)[^#]*(#[^?]*|$).*/,i=/([^?#]*)().*/;function s(e,t){return e.replace(t?n:i,"$1$2")}},9306:function(e,t,r){r.d(t,{j6:function(){return l},wu:function(){return u}});var n=r(4155),i={"%2C":",","%3A":":","%2F":"/","%40":"@","%24":"$","%3B":";"},s=Object.keys(i),o=new RegExp(s.join("|"),"g");function a(e){return i[e]}function c(e){return null==e?"null":encodeURIComponent(e).replace(o,a)}function l(e,t){var r=0,i="";return Object.entries(e||{}).forEach((([e,s])=>{var o,a,l=[];if("string"==typeof s||!Array.isArray(s)&&null!=s&&s.toString().length)o="&"+e+"="+c(s),r+=o.length,i+=o;else if(Array.isArray(s)&&s.length){for(r+=9,a=0;a<s.length&&(o=c((0,n.P)(s[a])),r+=o.length,!(void 0!==t&&r>=t));a++)l.push(o);i+="&"+e+"=%5B"+l.join(",")+"%5D"}})),i}function u(e,t,r={}){return Object.keys(r).includes(e)?"":t&&"string"==typeof t?"&"+e+"="+c(t):""}},8490:function(e,t,r){r.d(t,{e:function(){return i}});var n=r(9152);function i(e){if(0===(e||"").indexOf("data:"))return{protocol:"data"};try{const t=new URL(e,location.href),r={port:t.port,hostname:t.hostname,pathname:t.pathname,search:t.search,protocol:t.protocol.slice(0,t.protocol.indexOf(":")),sameOrigin:t.protocol===n._A?.location?.protocol&&t.host===n._A?.location?.host};return r.port&&""!==r.port||("http:"===t.protocol&&(r.port="80"),"https:"===t.protocol&&(r.port="443")),r.pathname&&""!==r.pathname?r.pathname.startsWith("/")||(r.pathname="/".concat(r.pathname)):r.pathname="/",r}catch(e){return{}}}},8584:function(e,t,r){r.d(t,{V:function(){return i}});var n=r(9152);function i(){return Boolean("file:"===n._A?.location?.protocol)}},1639:function(e,t,r){function n(e,t){console.debug}r.d(t,{Z:function(){return n}})},7918:function(e,t,r){r.d(t,{N:function(){return c},T:function(){return a}});var n=r(5891),i=r(9152);const s="newrelic";const o=new Set,a={};function c(e,t){const r=n.ee.get(t);a[t]??={},e&&"object"==typeof e&&(o.has(t)||(r.emit("rumresp",[e]),a[t]=e,o.add(t),function(e={}){try{i._A.dispatchEvent(new CustomEvent(s,{detail:e}))}catch(e){}}({loaded:!0})))}},7047:function(e,t,r){r.d(t,{X:function(){return i}});var n=Object.prototype.hasOwnProperty;function i(e,t,r){if(n.call(e,t))return e[t];var i=r();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},8597:function(e,t,r){function n(e,t=500,r={}){const n=r?.leading||!1;let i;return(...r)=>{n&&void 0===i&&(e.apply(this,r),i=setTimeout((()=>{i=clearTimeout(i)}),t)),n||(clearTimeout(i),i=setTimeout((()=>{e.apply(this,r)}),t))}}function i(e){let t=!1;return(...r)=>{t||(t=!0,e.apply(this,r))}}r.d(t,{D:function(){return n},Z:function(){return i}})},4155:function(e,t,r){r.d(t,{P:function(){return s}});var n=r(5891);const i=()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}};function s(e){try{return JSON.stringify(e,i())??""}catch(e){try{n.ee.emit("internal-error",[e])}catch(e){}return""}}},3403:function(e,t,r){function n(e,t,r="string",i=[]){return e&&"object"==typeof e?(Object.keys(e).forEach((s=>{"object"==typeof e[s]?n(e[s],t,r,i):typeof e[s]!==r||i.includes(s)||(e[s]=t(e[s]))})),e):e}r.d(t,{R:function(){return n}})},1731:function(e,t,r){function n(e){return e?.constructor==={}.constructor}r.d(t,{S:function(){return n}})},2148:function(e,t,r){r.d(t,{S:function(){return n}});const n={FIRST_PAINT:"fp",FIRST_CONTENTFUL_PAINT:"fcp",FIRST_INPUT_DELAY:"fi",LARGEST_CONTENTFUL_PAINT:"lcp",CUMULATIVE_LAYOUT_SHIFT:"cls",INTERACTION_TO_NEXT_PAINT:"inp",TIME_TO_FIRST_BYTE:"ttfb"}},3892:function(e,t,r){r.d(t,{y:function(){return o}});var n=r(5528),i=r(9152),s=r(2148);const o=new(r(2656).U)(s.S.FIRST_CONTENTFUL_PAINT);if(i.il)if(i.ux)try{if(!i.iS){performance.getEntriesByType("paint").forEach((e=>{"first-contentful-paint"===e.name&&o.update({value:Math.floor(e.startTime)})}))}}catch(e){}else(0,n.a4)((({value:e,attribution:t})=>{if(i.iS||o.isValid)return;const r={timeToFirstByte:t.timeToFirstByte,firstByteToFCP:t.firstByteToFCP,loadState:t.loadState};o.update({value:e,attrs:r})}))},3600:function(e,t,r){r.d(t,{U:function(){return s}});var n=r(9152),i=r(2148);const s=new(r(2656).U)(i.S.FIRST_PAINT);if(n.il){const e=e=>{e.forEach((e=>{"first-paint"!==e.name||s.isValid||(t.disconnect(),s.update({value:e.startTime}))}))};let t;try{PerformanceObserver.supportedEntryTypes.includes("paint")&&!n.iS&&(t=new PerformanceObserver((t=>{Promise.resolve().then((()=>{e(t.getEntries())}))})),t.observe({type:"paint",buffered:!0}))}catch(e){}}},755:function(e,t,r){r.d(t,{P:function(){return a}});var n=r(9152),i=r(2148),s=r(2656),o=r(5528);const a=new s.U(i.S.TIME_TO_FIRST_BYTE);if(n.il&&"undefined"!=typeof PerformanceNavigationTiming&&!n.Tt&&window===window.parent)(0,o.mr)((({value:e,attribution:t})=>{a.isValid||a.update({value:e,attrs:{navigationEntry:t.navigationEntry}})}));else if(!a.isValid){const e={};for(let t in n._A?.performance?.timing||{})e[t]=Math.max(n._A?.performance?.timing[t]-n.sK,0);a.update({value:e.responseStart,attrs:{navigationEntry:e}})}},2656:function(e,t,r){r.d(t,{U:function(){return n}});class n{#e=new Set;history=[];constructor(e,t){this.name=e,this.attrs={},this.roundingMethod="function"==typeof t?t:Math.floor}update({value:e,attrs:t={}}){if(null==e||e<0)return;const r={value:this.roundingMethod(e),name:this.name,attrs:t};this.history.push(r),this.#e.forEach((e=>{try{e(r)}catch(e){}}))}get current(){return this.history[this.history.length-1]||{value:void 0,name:this.name,attrs:{}}}get isValid(){return this.current.value>=0}subscribe(e,t=!0){if("function"==typeof e)return this.#e.add(e),this.isValid&&t&&this.history.forEach((t=>{e(t)})),()=>{this.#e.delete(e)}}}},2277:function(e,t,r){r.d(t,{KB:function(){return o},b2:function(){return s}});var n=r(5944);function i(){return"undefined"==typeof document||"complete"===document.readyState}function s(e,t){if(i())return e();(0,n.bP)("load",e,t)}function o(e){if(i())return e();(0,n.iz)("DOMContentLoaded",e)}},3131:function(e,t,r){r.d(t,{EZ:function(){return u},ce:function(){return s},ek:function(){return l},fP:function(){return o},gG:function(){return h},h5:function(){return c},mF:function(){return a}});var n=r(9152),i=r(1595);const s={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net"};function o(){return n._A.NREUM||(n._A.NREUM={}),void 0===n._A.newrelic&&(n._A.newrelic=n._A.NREUM),n._A.NREUM}function a(){let e=o();return e.o||(e.o={ST:n._A.setTimeout,SI:n._A.setImmediate,CT:n._A.clearTimeout,XHR:n._A.XMLHttpRequest,REQ:n._A.Request,EV:n._A.Event,PR:n._A.Promise,MO:n._A.MutationObserver,FETCH:n._A.fetch,WS:n._A.WebSocket}),e}function c(e,t){let r=o();r.initializedAgents??={},t.initializedAt={ms:(0,i.z)(),date:new Date},r.initializedAgents[e]=t}function l(e){let t=o();return t.initializedAgents?.[e]}function u(e,t){o()[e]=t}function h(){return function(){let e=o();const t=e.info||{};e.info={beacon:s.beacon,errorBeacon:s.errorBeacon,...t}}(),function(){let e=o();const t=e.init||{};e.init={...t}}(),a(),function(){let e=o();const t=e.loader_config||{};e.loader_config={...t}}(),o()}},7973:function(e,t,r){r.d(t,{N:function(){return i}});var n=r(5944);function i(e,t=!1,r,i){(0,n.iz)("visibilitychange",(function(){if(t)return void("hidden"===document.visibilityState&&e());e(document.visibilityState)}),r,i)}},1520:function(e,t,r){r.d(t,{e:function(){return d}});var n=r(5891),i=r(6371),s=r(7047),o=r(9152);const a={},c=o._A.XMLHttpRequest,l="addEventListener",u="removeEventListener",h="nr@wrapped:".concat(n.A);function d(e){var t=function(e){return(e||n.ee).get("events")}(e);if(a[t.debugId]++)return t;a[t.debugId]=1;var r=(0,i.xJ)(t,!0);function d(e){r.inPlace(e,[l,u],"-",f)}function f(e,t){return e[1]}return"getPrototypeOf"in Object&&(o.il&&p(document,d),c&&p(c.prototype,d),p(o._A,d)),t.on(l+"-start",(function(e,t){var n=e[1];if(null!==n&&("function"==typeof n||"object"==typeof n)){var i=(0,s.X)(n,h,(function(){var e={object:function(){if("function"!=typeof n.handleEvent)return;return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return e?r(e,"fn-",null,e.name||"anonymous"):n}));this.wrapped=e[1]=i}})),t.on(u+"-start",(function(e){e[1]=this.wrapped||e[1]})),t}function p(e,t,...r){let n=e;for(;"object"==typeof n&&!Object.prototype.hasOwnProperty.call(n,l);)n=Object.getPrototypeOf(n);n&&t(n,...r)}},6371:function(e,t,r){r.d(t,{Cc:function(){return s},xJ:function(){return c}});var n=r(5891),i=r(2965);const s="nr@original:".concat(i.a);var o=Object.prototype.hasOwnProperty,a=!1;function c(e,t){return e||(e=n.ee),r.inPlace=function(e,t,n,i,s){n||(n="");const o="-"===n.charAt(0);for(let a=0;a<t.length;a++){const c=t[a],l=e[c];u(l)||(e[c]=r(l,o?c+n:n,i,c,s))}},r.flag=s,r;function r(t,r,n,a,c){return u(t)?t:(r||(r=""),h[s]=t,function(e,t,r){if(Object.defineProperty&&Object.keys)try{return Object.keys(e).forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){return e[r]=t,t}})})),t}catch(e){l([e],r)}for(var n in e)o.call(e,n)&&(t[n]=e[n])}(t,h,e),h);function h(){var s,o,u,h;try{o=this,s=[...arguments],u="function"==typeof n?n(s,o):n||{}}catch(t){l([t,"",[s,o,a],u],e)}i(r+"start",[s,o,a],u,c);try{return h=t.apply(o,s)}catch(e){throw i(r+"err",[s,o,e],u,c),e}finally{i(r+"end",[s,o,h],u,c)}}}function i(r,n,i,s){if(!a||t){var o=a;a=!0;try{e.emit(r,n,i,t,s)}catch(t){l([t,r,n,i],e)}a=o}}}function l(e,t){t||(t=n.ee);try{t.emit("internal-error",e)}catch(e){}}function u(e){return!(e&&"function"==typeof e&&e.apply&&!e[s])}},7430:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return y}});var n=r(5992),i=r(4155),s=r(5300),o=r(4741),a=r(513),c=r(4663),l=r(4716),u=r(2745),h=r(1731);function d({body:e,query:t}={}){if(e||t)try{const r=function(e){if(!e)return;Array.isArray(e)||(e=[e]);const t=[],r=[];for(let n of e){const e=p(n);e&&(t.push(e.operationName),r.push(e.operationType))}if(!r.length)return;return{operationName:t.join(","),operationType:r.join(","),operationFramework:"GraphQL"}}(f(e));if(r)return r;const n=p(function(e){if(!e||"string"!=typeof e)return;const t=new URLSearchParams(e);return f(Object.fromEntries(t))}(t));if(n)return n}catch(e){}}function p(e){if("object"!=typeof e||!e.query||"string"!=typeof e.query)return;const t=e.query.trim().match(/^(query|mutation|subscription)\s?(\w*)/),r=t?.[1];if(!r)return;return{operationName:e.operationName||t?.[2]||"Anonymous",operationType:r,operationFramework:"GraphQL"}}function f(e){let t;if(!e||"string"!=typeof e&&"object"!=typeof e)return;if(t="string"==typeof e?JSON.parse(e):e,!(0,h.S)(t)&&!Array.isArray(t))return;let r=!1;return r=Array.isArray(t)?t.some((e=>m(e))):m(t),r?t:void 0}function m(e){return!("object"!=typeof e||!e.query||"string"!=typeof e.query)}var g=r(6834);class y extends u.m{static featureName=a.t;constructor(e){super(e,a.t),(0,o.R2)(e.runtime.denyList),this.underSpaEvents={};const t=this;this.ee.on("interactionDone",((e,t)=>{this.underSpaEvents[e.id]&&(t||this.underSpaEvents[e.id].forEach((e=>this.events.add(e))),delete this.underSpaEvents[e.id])})),(0,n.X)("returnAjax",(e=>this.events.add(e)),this.featureName,this.ee),(0,n.X)("xhr",(function(){t.storeXhr(...arguments,this)}),this.featureName,this.ee),this.waitForFlags([]).then((()=>this.drain()))}storeXhr(e,t,r,n,a,u){let h;t.time=r,h=e.cat?(0,i.P)([e.status,e.cat]):(0,i.P)([e.status,e.host,e.pathname]);const p=(0,o.zR)(e),f=this.agentRef.init.feature_flags?.includes("ajax_metrics_deny_list");if(!Boolean(this.agentRef.features?.[c.DT.jserrors])||!p&&f||this.agentRef.sharedAggregator.add(["xhr",h,e,t]),!p)return void(e.hostname===this.agentRef.info.errorBeacon||this.agentRef.init.proxy?.beacon&&e.hostname===this.agentRef.init.proxy.beacon?((0,s.p)(l.xS,["Ajax/Events/Excluded/Agent"],void 0,c.DT.metrics,this.ee),f&&(0,s.p)(l.xS,["Ajax/Metrics/Excluded/Agent"],void 0,c.DT.metrics,this.ee)):((0,s.p)(l.xS,["Ajax/Events/Excluded/App"],void 0,c.DT.metrics,this.ee),f&&(0,s.p)(l.xS,["Ajax/Metrics/Excluded/App"],void 0,c.DT.metrics,this.ee)));(0,s.p)("bstXhrAgg",["xhr",h,e,t],void 0,c.DT.sessionTrace,this.ee);const m={method:e.method,status:e.status,domain:e.host,path:e.pathname,requestSize:t.txSize,responseSize:t.rxSize,type:a,startTime:r,endTime:n,callbackDuration:t.cbTime};u.dt&&(m.spanId=u.dt.spanId,m.traceId=u.dt.traceId,m.spanTimestamp=Math.floor(this.agentRef.runtime.timeKeeper.correctAbsoluteTimestamp(u.dt.timestamp))),m.gql=e.gql=d({body:u.body,query:u.parsedOrigin?.search}),m.gql&&(0,s.p)(l.xS,["Ajax/Events/GraphQL/Bytes-Added",(0,i.P)(m.gql).length],void 0,c.DT.metrics,this.ee);if(Boolean(this.agentRef.features?.[c.DT.softNav]))(0,s.p)("ajax",[m],void 0,c.DT.softNav,this.ee);else if(u.spaNode){const e=u.spaNode.interaction.id;this.underSpaEvents[e]??=[],this.underSpaEvents[e].push(m)}else this.events.add(m)}serializer(e){const t=(0,g.FX)(this.agentIdentifier);let r="bel.7;";for(let n=0;n<e.length;n++){const i=e[n],s=[(0,g.uR)(i.startTime),(0,g.uR)(i.endTime-i.startTime),(0,g.uR)(0),(0,g.uR)(0),t(i.method),(0,g.uR)(i.status),t(i.domain),t(i.path),(0,g.uR)(i.requestSize),(0,g.uR)(i.responseSize),"fetch"===i.type?1:"",t(0),(0,g.AG)(i.spanId,t,!0)+(0,g.AG)(i.traceId,t,!0)+(0,g.AG)(i.spanTimestamp,g.uR,!1)];let o="2,";const a=this.agentRef.info.jsAttributes,c=(0,g.n1)({...a||{},...i.gql||{}},t);s.unshift((0,g.uR)(c.length)),o+=s.join(","),c&&c.length>0&&(o+=";"+c.join(";")),n+1<e.length&&(o+=";"),r+=o}return r}}},513:function(e,t,r){r.d(t,{t:function(){return n}});const n=r(4663).DT.ajax},5364:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return b}});var n=r(4155),i=r(1478),s=r(8089),o=r(9152),a=r(2745),c=r(1639),l=r(1595),u=r(5992),h=r(4716),d=r(3403);class p{constructor(e,t,r){this.event=e,this.count=1,this.originMs=Math.floor(e.timeStamp),this.relativeMs=[0],this.selectorPath=t,this.rageClick=void 0,this.nearestTargetFields=r}aggregate(e){this.count++,this.relativeMs.push(Math.floor(e.timeStamp-this.originMs)),this.isRageClick()&&(this.rageClick=!0)}isRageClick(){const e=this.relativeMs.length;return"click"===this.event.type&&e>=s.lj&&this.relativeMs[e-1]-this.relativeMs[e-s.lj]<s.LV}}class f{#t=void 0;#r="";get aggregationEvent(){const e=this.#t;return this.#r="",this.#t=void 0,e}process(e,t){if(!e)return;const{selectorPath:r,nearestTargetFields:n}=function(e,t){let r,n={};if(s.jC.includes(e.type)||e.target===window)r="window";else if(e.target===document)r="document";else{const{path:i,nearestFields:s}=((e,t=[])=>{if(!e)return{path:void 0,nearestFields:{}};let r="",n=(e=>{try{let t=1;const{tagName:r}=e;for(;e.previousElementSibling;)e.previousElementSibling.tagName===r&&t++,e=e.previousElementSibling;return t}catch(e){}})(e);const i={};try{for(;e?.tagName;){const{id:n,localName:o}=e;t.forEach((t=>{i[s(t)]||=e[t]})),r=[o,n?"#".concat(n):"",r?">".concat(r):""].join(""),e=e.parentNode}}catch(e){}return{path:r?n?"".concat(r,":nth-of-type(").concat(n,")"):r:void 0,nearestFields:i};function s(e){return"tagName"===e&&(e="tag"),"className"===e&&(e="class"),"nearest".concat(e.charAt(0).toUpperCase()+e.slice(1))}})(e.target,t);r=i,n=s}return{selectorPath:r,nearestTargetFields:n}}(e,t),i=function(e,t){let r=e.type;"scrollend"!==e.type&&(r+="-"+t);return r}(e,r);if(!i||i!==this.#r){const t=this.#t;return this.#r=i,this.#t=new p(e,r,n),t}this.#t.aggregate(e)}}var m=r(2422),g=r(5300),y=r(1731),v=r(4663);class b extends a.m{static featureName=s.t9;constructor(e){super(e,s.t9),this.eventsPerHarvest=1e3,this.referrerUrl=o.il&&document.referrer?(0,i.f)(document.referrer):void 0,this.waitForFlags(["ins"]).then((([t])=>{if(!t)return this.blocked=!0,void this.deregisterDrain();this.trackSupportabilityMetrics(),(0,u.X)("api-recordCustomEvent",((e,t,r)=>{if(s.J2.includes(t))return(0,c.Z)(46);this.addEvent({eventType:t,timestamp:this.toEpoch(e),...r})}),this.featureName,this.ee),e.init.page_action.enabled&&(0,u.X)("api-addPageAction",((e,t,r)=>{this.addEvent({...r,eventType:"PageAction",timestamp:this.toEpoch(e),timeSinceLoad:e/1e3,actionName:t,referrerUrl:this.referrerUrl,...o.il&&{browserWidth:window.document.documentElement?.clientWidth,browserHeight:window.document.documentElement?.clientHeight}})}),this.featureName,this.ee);let r=()=>{};o.il&&e.init.user_actions.enabled&&(this.userActionAggregator=new f,this.harvestOpts.beforeUnload=()=>r?.(this.userActionAggregator.aggregationEvent),r=e=>{try{if(e?.event){const{target:t,timeStamp:r,type:n}=e.event;function i(e){return"tagName"===e&&(e="tag"),"className"===e&&(e="class"),"target".concat(e.charAt(0).toUpperCase()+e.slice(1))}this.addEvent({eventType:"UserAction",timestamp:this.toEpoch(r),action:n,actionCount:e.count,actionDuration:e.relativeMs[e.relativeMs.length-1],actionMs:e.relativeMs,rageClick:e.rageClick,target:e.selectorPath,...(0,m.u)(window)&&{iframe:!0},...this.agentRef.init.user_actions.elementAttributes.reduce(((r,n)=>{var s;return s=n,"window"!==e.selectorPath&&"document"!==e.selectorPath&&t instanceof HTMLElement&&t?.[s]&&(r[i(n)]=String(t[n]).trim().slice(0,128)),r}),{}),...e.nearestTargetFields})}}catch(s){}},(0,u.X)("ua",(e=>{r(this.userActionAggregator.process(e,this.agentRef.init.user_actions.elementAttributes))}),this.featureName,this.ee));const n=[...e.init.performance.capture_marks?["mark"]:[],...e.init.performance.capture_measures?["measure"]:[]];if(n.length)try{n.forEach((t=>{if(PerformanceObserver.supportedEntryTypes.includes(t)){new PerformanceObserver((r=>{r.getEntries().forEach((r=>{try{(0,g.p)(h.xS,["Generic/Performance/"+t+"/Seen"],void 0,v.DT.metrics,this.ee);const n=e.init.performance.capture_detail?s(r.detail):{};function s(e){return null==e?{}:(0,y.S)(e)?function e(t,r="entryDetail"){let n={};return null==t||Object.keys(t).forEach((i=>{let s=r+"."+i;(0,y.S)(t[i])?Object.assign(n,e(t[i],s)):null!==t[i]&&void 0!==t[i]&&(n[s]=t[i])})),n}(e):{entryDetail:e}}this.addEvent({...n,eventType:"BrowserPerformance",timestamp:this.toEpoch(r.startTime),entryName:(0,i.f)(r.name),entryDuration:r.duration,entryType:t})}catch(o){}}))})).observe({buffered:!0,type:t})}}))}catch(e){}o.il&&e.init.performance.resources.enabled&&(0,u.X)("browserPerformance.resource",(t=>{try{const{name:r,duration:n,...i}=t.toJSON();let s=!1;try{const t=new URL(r).hostname,n=t.includes("newrelic.com")||t.includes("nr-data.net")||t.includes("nr-local.net");if(this.agentRef.init.performance.resources.ignore_newrelic&&n)return;if(this.agentRef.init.performance.resources.asset_types.length&&!this.agentRef.init.performance.resources.asset_types.includes(i.initiatorType))return;s=t===o._A?.location.hostname||e.init.performance.resources.first_party_domains.includes(t),s&&(0,g.p)(h.xS,["Generic/Performance/FirstPartyResource/Seen"],void 0,v.DT.metrics,this.ee),n&&(0,g.p)(h.xS,["Generic/Performance/NrResource/Seen"],void 0,v.DT.metrics,this.ee)}catch(e){}(0,g.p)(h.xS,["Generic/Performance/Resource/Seen"],void 0,v.DT.metrics,this.ee);const a={...i,eventType:"BrowserPerformance",timestamp:Math.floor(e.runtime.timeKeeper.correctRelativeTimestamp(i.startTime)),entryName:r,entryDuration:n,firstParty:s};this.addEvent(a)}catch(e){this.ee.emit("internal-error",[e,"GenericEvents-Resource"])}}),this.featureName,this.ee),e.runtime.harvester.triggerHarvestFor(this),this.drain()}))}addEvent(e={}){if(!e||!Object.keys(e).length)return;if(!e.eventType)return void(0,c.Z)(44);for(let t in e){let r=e[t];e[t]=r&&"object"==typeof r?(0,n.P)(r):r}const t={timestamp:Math.floor(this.agentRef.runtime.timeKeeper.correctRelativeTimestamp((0,l.z)())),pageUrl:(0,i.f)(""+o.FN),currentUrl:(0,i.f)(""+location)},r={...this.agentRef.info.jsAttributes||{},...t,...e};this.events.add(r)||this.events.isEmpty()||(this.ee.emit(h.xS,["GenericEvents/Harvest/Max/Seen"]),this.agentRef.runtime.harvester.triggerHarvestFor(this),this.events.add(r))}serializer(e){return(0,d.R)({ins:e},this.obfuscator.obfuscateString.bind(this.obfuscator),"string")}queryStringsBuilder(){return{ua:this.agentRef.info.userAttributes,at:this.agentRef.info.atts}}toEpoch(e){return Math.floor(this.agentRef.runtime.timeKeeper.correctRelativeTimestamp(e))}trackSupportabilityMetrics(){const e="Config/Performance/";this.agentRef.init.performance.capture_marks&&(0,g.p)(h.xS,[e+"CaptureMarks/Enabled"],void 0,v.DT.metrics,this.ee),this.agentRef.init.performance.capture_measures&&(0,g.p)(h.xS,[e+"CaptureMeasures/Enabled"],void 0,v.DT.metrics,this.ee),this.agentRef.init.performance.resources.enabled&&(0,g.p)(h.xS,[e+"Resources/Enabled"],void 0,v.DT.metrics,this.ee),0!==this.agentRef.init.performance.resources.asset_types?.length&&(0,g.p)(h.xS,[e+"Resources/AssetTypes/Changed"],void 0,v.DT.metrics,this.ee),0!==this.agentRef.init.performance.resources.first_party_domains?.length&&(0,g.p)(h.xS,[e+"Resources/FirstPartyDomains/Changed"],void 0,v.DT.metrics,this.ee),!1===this.agentRef.init.performance.resources.ignore_newrelic&&(0,g.p)(h.xS,[e+"Resources/IgnoreNewrelic/Changed"],void 0,v.DT.metrics,this.ee)}}},8089:function(e,t,r){r.d(t,{J2:function(){return c},LV:function(){return a},jC:function(){return s},lj:function(){return o},t9:function(){return n},y8:function(){return l},z5:function(){return i}});const n=r(4663).DT.genericEvents,i=["auxclick","click","copy","keydown","paste","scrollend"],s=["focus","blur"],o=4,a=1e3,c=["PageAction","UserAction","BrowserPerformance"],l={MARKS:"experimental.marks",MEASURES:"experimental.measures",RESOURCES:"experimental.resources"}},4150:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return M}});const n=/([a-z0-9]+)$/i;function i(e){if(!e)return;const t=e.match(n);return t?t[1]:void 0}var s=/^\n+|\n+$/g;function o(e){return function(e){var t;if(e.length>100){var r=e.length-100;t=e.slice(0,50).join("\n"),t+="\n< ...truncated "+r+" lines... >\n",t+=e.slice(-50).join("\n")}else t=e.join("\n");return t}(e).replace(s,"")}var a=r(9152),c=r(1478);function l(e){if("string"!=typeof e)return"";const t=(0,c.f)(e);return t===(0,c.f)(a.FN)?"<inline>":t}var u=!1,h=/function (.+?)\s*\(/,d=/^\s*at (?:((?:\[object object\])?(?:[^(]*\([^)]*\))*[^()]*(?: \[as \S+\])?) )?\(?((?:file|http|https|chrome-extension):.*?)?:(\d+)(?::(\d+))?\)?\s*$/i,p=/^\s*(?:(\S*|global code)(?:\(.*?\))?@)?((?:file|http|https|chrome|safari-extension).*?):(\d+)(?::(\d+))?\s*$/i,f=/^\s*at .+ \(eval at \S+ \((?:(?:file|http|https):[^)]+)?\)(?:, [^:]*:\d+:\d+)?\)$/i,m=/^\s*at Function code \(Function code:\d+:\d+\)\s*/i;function g(e){var t=null;try{if(t=function(e){if(!e.stack)return null;var t=e.stack.split("\n").reduce(y,{frames:[],stackLines:[],wrapperSeen:!1});return t.frames.length?{mode:"stack",name:e.name||v(e),message:e.message,stackString:o(t.stackLines),frames:t.frames}:null}(e),t)return t}catch(e){u}try{if(t=function(e){if(!("line"in e))return null;var t=e.name||v(e);if(!e.sourceURL)return{mode:"sourceline",name:t,message:e.message,stackString:t+": "+e.message+"\n    in evaluated code",frames:[{func:"evaluated code"}]};var r=l(e.sourceURL),n=t+": "+e.message+"\n    at "+r;e.line&&(n+=":"+e.line,e.column&&(n+=":"+e.column));return{mode:"sourceline",name:t,message:e.message,stackString:n,frames:[{url:r,line:e.line,column:e.column}]}}(e),t)return t}catch(e){u}try{if(t=function(e){var t=e.name||v(e);return t?{mode:"nameonly",name:t,message:e.message,stackString:t+": "+e.message,frames:[]}:null}(e),t)return t}catch(e){u}return{mode:"failed",stackString:"",frames:[]}}function y(e,t){let r=function(e){var t=e.match(p);t||(t=e.match(d));if(t)return{url:t[2],func:"Anonymous function"!==t[1]&&"global code"!==t[1]&&t[1]||null,line:+t[3],column:t[4]?+t[4]:null};if(e.match(f)||e.match(m)||"anonymous"===e)return{func:"evaluated code"}}(t);if(!r)return e.stackLines.push(t),e;var n;if((n=r.func)&&n.indexOf("nrWrapper")>=0&&(e.wrapperSeen=!0),!e.wrapperSeen){let n=l(r.url);n!==r.url&&(t=t.replace(r.url,n),r.url=n),e.stackLines.push(t),e.frames.push(r)}return e}function v(e){var t=h.exec(String(e.constructor));return t&&t.length>1?t[1]:"unknown"}function b(e){var t=0;if(!e||!e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}var w=r(5992),S=r(4155),T=r(5300),I=r(6067),C=r(4663),x=r(2745),R=r(1595),E=r(3403);const A="Rrweb",k="Security-Policy";var O=r(4716);class M extends x.m{static featureName=I.t;constructor(e){super(e,I.t),this.stackReported={},this.observedAt={},this.pageviewReported={},this.bufferedErrorsUnderSpa={},this.errorOnPage=!1,this.ee.on("interactionDone",((e,t)=>this.onInteractionDone(e,t))),(0,w.X)("err",((...e)=>this.storeError(...e)),this.featureName,this.ee),(0,w.X)("ierr",((...e)=>this.storeError(...e)),this.featureName,this.ee),(0,w.X)("softNavFlush",((e,t,r)=>this.onSoftNavNotification(e,t,r)),this.featureName,this.ee),this.harvestOpts.aggregatorTypes=["err","ierr","xhr"],this.waitForFlags(["err"]).then((([e])=>{e?this.drain():(this.blocked=!0,this.deregisterDrain())}))}serializer(e){return(0,E.R)(e,this.obfuscator.obfuscateString.bind(this.obfuscator),"string")}queryStringsBuilder(e){const t={},r=(0,S.P)(this.agentRef.runtime.releaseIds);return"{}"!==r&&(t.ri=r),e?.err?.length&&(this.errorOnPage||(t.pve="1",this.errorOnPage=!0),this.agentRef.features?.[C.DT.sessionReplay]?.featAggregate?.replayIsActive()||e.err.forEach((e=>delete e.params.hasReplay))),t}buildCanonicalStackString(e){for(var t="",r=0;r<e.frames.length;r++){var n=e.frames[r],s=i(n.func);t&&(t+="\n"),s&&(t+=s+"@"),"string"==typeof n.url&&(t+=n.url),n.line&&(t+=":"+n.line)}return t}storeError(e,t,r,n,i,s){if(!e)return;let o;if(t=t||(0,R.z)(),!r&&this.agentRef.runtime.onerror&&(o=this.agentRef.runtime.onerror(e),o&&("string"!=typeof o.group||!o.group.length)))return;var c=g(e);const{shouldSwallow:l,reason:u}=function(e,t,r){const n={shouldSwallow:t||!1,reason:r||"Other"},i=e.frames?.[0];if(!i||"string"!=typeof e?.message)return n;const s=i?.url?.match(/nr-(.*)-recorder.min.js/),o=i?.url?.match(/rrweb/),a=i?.url?.match(/recorder/),c=e.message.toLowerCase().match(/an attempt was made to break through the security policy of the user agent/);return s||o?(n.shouldSwallow=!0,n.reason=A,c&&(n.reason+="-"+k)):a&&c&&(n.shouldSwallow=!0,n.reason=A+"-"+k),n}(c,r,s);if(l)return void(0,T.p)(O.xS,["Internal/Error/"+u],void 0,C.DT.metrics,this.ee);const h={stackHash:b(this.buildCanonicalStackString(c)),exceptionClass:c.name,request_uri:a._A?.location.pathname};c.message&&(h.message=""+c.message),o?.group&&(h.errorGroup=o.group),i&&(h.hasReplay=i);var d,p=b("".concat(c.name,"_").concat(c.message,"_").concat(c.stackString,"_").concat(h.hasReplay?1:0));this.stackReported[p]?h.browser_stack_hash=b(c.stackString):(this.stackReported[p]=!0,h.stack_trace=(d=c.stackString).length>65530?d.substr(0,65530):d,this.observedAt[p]=Math.floor(this.agentRef.runtime.timeKeeper.correctRelativeTimestamp(t))),h.releaseIds=(0,S.P)(this.agentRef.runtime.releaseIds),this.pageviewReported[p]||(h.pageview=1,this.pageviewReported[p]=!0),h.firstOccurrenceTimestamp=this.observedAt[p],h.timestamp=Math.floor(this.agentRef.runtime.timeKeeper.correctRelativeTimestamp(t));const f=["err",p,h,{time:t},n];if((0,T.p)("trace-jserror",f,void 0,C.DT.sessionTrace,this.ee),this.blocked)return;e?.__newrelic?.[this.agentIdentifier]&&(h._interactionId=e.__newrelic[this.agentIdentifier].interactionId,h._interactionNodeId=e.__newrelic[this.agentIdentifier].interactionNodeId);Boolean(this.agentRef.features?.[C.DT.softNav])?(0,T.p)("jserror",[h,t],void 0,C.DT.softNav,this.ee):(0,T.p)("spa-jserror",f,void 0,C.DT.spa,this.ee),h.browserInteractionId&&!h._softNavFinished?(this.bufferedErrorsUnderSpa[h.browserInteractionId]??=[],this.bufferedErrorsUnderSpa[h.browserInteractionId].push(f)):null!=h._interactionId?(this.bufferedErrorsUnderSpa[h._interactionId]=this.bufferedErrorsUnderSpa[h._interactionId]||[],this.bufferedErrorsUnderSpa[h._interactionId].push(f)):this.#n(f,void 0!==h.browserInteractionId,h._softNavAttributes)}#n(e,t,r={}){let[n,i,s,o,a]=e;const c={};t?(Object.entries(r).forEach((([e,t])=>u(e,t))),i+=s.browserInteractionId,delete s._softNavAttributes,delete s._softNavFinished):(Object.entries(this.agentRef.info.jsAttributes).forEach((([e,t])=>u(e,t))),delete s.browserInteractionId),a&&Object.entries(a).forEach((([e,t])=>u(e,t)));const l=i+":"+b((0,S.P)(c));function u(e,t){c[e]=t&&"object"==typeof t?(0,S.P)(t):t}this.events.add([n,l,s,o,c])}onInteractionDone(e,t){this.bufferedErrorsUnderSpa[e.id]&&!this.blocked&&(this.bufferedErrorsUnderSpa[e.id].forEach((r=>{var n={};const i=r[4];Object.entries(e.root.attrs.custom||{}).forEach(a),Object.entries(i||{}).forEach(a);var s=r[2];t&&(s.browserInteractionId=e.root.attrs.id,s._interactionNodeId&&(s.parentNodeId=s._interactionNodeId.toString())),delete s._interactionId,delete s._interactionNodeId;var o=(t?r[1]+e.root.attrs.id:r[1])+":"+b((0,S.P)(n));function a([e,t]){n[e]=t&&"object"==typeof t?(0,S.P)(t):t}this.events.add([r[0],o,s,r[3],n])})),delete this.bufferedErrorsUnderSpa[e.id])}onSoftNavNotification(e,t,r){this.blocked||(this.bufferedErrorsUnderSpa[e]?.forEach((e=>this.#n(e,t,r))),delete this.bufferedErrorsUnderSpa[e])}}},6067:function(e,t,r){r.d(t,{t:function(){return n}});const n=r(4663).DT.jserrors},8051:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return y}});var n=r(5300),i=r(5992),s=r(1639),o=r(4155),a=r(4716),c=r(2745),l=r(5146),u=r(9152),h=r(1478);class d{timestamp;message;attributes;level;constructor(e,t,r={},n=l.yK.INFO){this.timestamp=e,this.message=t,this.attributes={...r,pageUrl:(0,h.f)(""+u.FN)},this.level=n.toUpperCase()}}var p=r(598),f=r(3403),m=r(6314),g=r(4663);class y extends c.m{static featureName=l.t9;constructor(e){super(e,l.t9),this.harvestOpts.raw=!0,this.waitForFlags([]).then((()=>{(0,i.X)(l.ve,this.handleLog.bind(this),this.featureName,this.ee),this.drain(),e.runtime.harvester.triggerHarvestFor(this)}))}handleLog(e,t,r={},i=l.yK.INFO){if(this.blocked)return;if(r&&"object"==typeof r||(r={}),"string"==typeof i&&(i=i.toUpperCase()),!(0,p.b)(i))return(0,s.Z)(30,i);try{if("string"!=typeof t){const e=(0,o.P)(t);t=e&&"{}"!==e?e:String(t)}}catch(e){return void(0,s.Z)(16,t)}if("string"!=typeof t||!t)return(0,s.Z)(32);const c=new d(Math.floor(this.agentRef.runtime.timeKeeper.correctRelativeTimestamp(e)),t,r,i),u=c.message.length+(0,o.P)(c.attributes).length+c.level.length+10,h="Logging/Harvest/Failed/Seen";if(u>m.Y)return(0,n.p)(a.xS,[h,u],void 0,g.DT.metrics,this.ee),void(0,s.Z)(31,c.message.slice(0,25)+"...");this.events.wouldExceedMaxSize(u)&&((0,n.p)(a.xS,["Logging/Harvest/Early/Seen",this.events.byteSize()+u],void 0,g.DT.metrics,this.ee),this.agentRef.runtime.harvester.triggerHarvestFor(this)),this.events.add(c)||((0,n.p)(a.xS,[h,u],void 0,g.DT.metrics,this.ee),(0,s.Z)(31,c.message.slice(0,25)+"..."))}serializer(e){const t=this.agentRef.runtime.session;return[{common:{attributes:{"entity.guid":this.agentRef.runtime.appMetadata?.agents?.[0]?.entityGuid,...t&&{session:t.state.value||"0",hasReplay:1===t.state.sessionReplayMode,hasTrace:1===t.state.sessionTraceMode},ptid:this.agentRef.runtime.ptid,appId:this.agentRef.info.applicationID,standalone:Boolean(this.agentRef.info.sa),agentVersion:this.agentRef.runtime.version,"instrumentation.provider":"browser","instrumentation.version":this.agentRef.runtime.version,"instrumentation.name":this.agentRef.runtime.loaderType}},logs:(0,f.R)(e,this.obfuscator.obfuscateString.bind(this.obfuscator),"string")}]}queryStringsBuilder(){return{browser_monitoring_key:this.agentRef.info.licenseKey}}}},5146:function(e,t,r){r.d(t,{t9:function(){return o},ve:function(){return s},yK:function(){return i}});var n=r(4663);const i={ERROR:"ERROR",WARN:"WARN",INFO:"INFO",DEBUG:"DEBUG",TRACE:"TRACE"},s="log",o=n.DT.logging},598:function(e,t,r){r.d(t,{M:function(){return c},b:function(){return l}});var n=r(5300),i=r(1595),s=r(4663),o=r(4716),a=r(5146);function c(e,t,r={},c=a.yK.INFO){(0,n.p)(o.xS,["API/logging/".concat(c.toLowerCase(),"/called")],void 0,s.DT.metrics,e),(0,n.p)(a.ve,[(0,i.z)(),t,r,c],void 0,s.DT.logging,e)}function l(e){return"string"==typeof e&&Object.values(a.yK).some((t=>t===e.toUpperCase().trim()))}},7814:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return M}});var n=r(5992),i=r(4716),s=r(9152);const o="React",a="NextJS",c="Vue",l="NuxtJS",u="Angular",h="AngularUniversal",d="Svelte",p="SvelteKit",f="Preact",m="PreactSSR",g="AngularJS",y="Backbone",v="Ember",b="Meteor",w="Zepto",S="Jquery",T="MooTools",I="Qwik",C="Electron";function x(){if(!s.il)return[];const e=[];try{(function(){try{return Object.prototype.hasOwnProperty.call(window,"React")||Object.prototype.hasOwnProperty.call(window,"ReactDOM")||Object.prototype.hasOwnProperty.call(window,"ReactRedux")||document.querySelector("[data-reactroot], [data-reactid]")||(()=>{const e=document.querySelectorAll("body > div");for(let t=0;t<e.length;t++)if(Object.prototype.hasOwnProperty.call(e[t],"_reactRootContainer"))return!0})()}catch(e){return!1}})()&&(e.push(o),function(){try{return Object.prototype.hasOwnProperty.call(window,"next")&&Object.prototype.hasOwnProperty.call(window.next,"version")}catch(e){return!1}}()&&e.push(a)),function(){try{return Object.prototype.hasOwnProperty.call(window,"Vue")}catch(e){return!1}}()&&(e.push(c),function(){try{return Object.prototype.hasOwnProperty.call(window,"$nuxt")&&Object.prototype.hasOwnProperty.call(window.$nuxt,"nuxt")}catch(e){return!1}}()&&e.push(l)),function(){try{return Object.prototype.hasOwnProperty.call(window,"ng")||document.querySelector("[ng-version]")}catch(e){return!1}}()&&(e.push(u),function(){try{return document.querySelector("[ng-server-context]")}catch(e){return!1}}()&&e.push(h)),function(){try{return Object.prototype.hasOwnProperty.call(window,"__svelte")}catch(e){return!1}}()&&(e.push(d),function(){try{return!!Object.keys(window).find((e=>e.startsWith("__sveltekit")))}catch(e){return!1}}()&&e.push(p)),function(){try{return Object.prototype.hasOwnProperty.call(window,"preact")}catch(e){return!1}}()&&(e.push(f),function(){try{return document.querySelector('script[type="__PREACT_CLI_DATA__"]')}catch(e){return!1}}()&&e.push(m)),function(){try{return Object.prototype.hasOwnProperty.call(window,"angular")||document.querySelector(".ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]")||document.querySelector('script[src*="angular.js"], script[src*="angular.min.js"]')}catch(e){return!1}}()&&e.push(g),Object.prototype.hasOwnProperty.call(window,"Backbone")&&e.push(y),Object.prototype.hasOwnProperty.call(window,"Ember")&&e.push(v),Object.prototype.hasOwnProperty.call(window,"Meteor")&&e.push(b),Object.prototype.hasOwnProperty.call(window,"Zepto")&&e.push(w),Object.prototype.hasOwnProperty.call(window,"jQuery")&&e.push(S),Object.prototype.hasOwnProperty.call(window,"MooTools")&&e.push(T),Object.prototype.hasOwnProperty.call(window,"qwikevents")&&e.push(I),function(){try{return"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}catch(e){return!1}}()&&e.push(C)}catch(e){}return e}var R=r(8584),E=r(2277),A=r(5944),k=r(2745),O=r(2422);class M extends k.m{static featureName=i.t9;constructor(e){super(e,i.t9),this.harvestOpts.aggregatorTypes=["cm","sm"],this.waitForFlags(["err"]).then((([e])=>{e?this.drain():(this.blocked=!0,this.deregisterDrain())})),(0,n.X)(i.xS,this.storeSupportabilityMetrics.bind(this),this.featureName,this.ee),(0,n.X)(i.vz,this.storeEventMetrics.bind(this),this.featureName,this.ee),this.singleChecks(),this.eachSessionChecks()}preHarvestChecks(e){return this.drained&&e.isFinalHarvest}storeSupportabilityMetrics(e,t){if(this.blocked)return;const r=i.mY,n={name:e};this.events.addMetric(r,e,n,t)}storeEventMetrics(e,t){if(this.blocked)return;const r=i.gF,n={name:e};this.events.add([r,e,n,t])}singleChecks(){const{distMethod:e,loaderType:t}=this.agentRef.runtime,{proxy:r,privacy:n}=this.agentRef.init;if(t&&this.storeSupportabilityMetrics("Generic/LoaderType/".concat(t,"/Detected")),e&&this.storeSupportabilityMetrics("Generic/DistMethod/".concat(e,"/Detected")),s.il){this.storeSupportabilityMetrics("Generic/Runtime/Browser/Detected");const e=document?.currentScript?.nonce;e&&""!==e&&this.storeSupportabilityMetrics("Generic/Runtime/Nonce/Detected"),(0,E.KB)((()=>{x().forEach((e=>{this.storeSupportabilityMetrics("Framework/"+e+"/Detected")}))})),n.cookies_enabled||this.storeSupportabilityMetrics("Config/SessionTracking/Disabled")}else s.v6?this.storeSupportabilityMetrics("Generic/Runtime/Worker/Detected"):this.storeSupportabilityMetrics("Generic/Runtime/Unknown/Detected");if((0,R.V)()&&this.storeSupportabilityMetrics("Generic/FileProtocol/Detected"),this.obfuscator.obfuscateConfigRules.length>0&&this.storeSupportabilityMetrics("Generic/Obfuscate/Detected"),r.assets&&this.storeSupportabilityMetrics("Config/AssetsUrl/Changed"),r.beacon&&this.storeSupportabilityMetrics("Config/BeaconUrl/Changed"),s.il&&window.MutationObserver){(0,O.u)(window)&&this.storeSupportabilityMetrics("Generic/Runtime/IFrame/Detected");const e=window.document.querySelectorAll("video").length;e&&this.storeSupportabilityMetrics("Generic/VideoElement/Added",e);const t=window.document.querySelectorAll("iframe").length;t&&this.storeSupportabilityMetrics("Generic/IFrame/Added",t);new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e instanceof HTMLVideoElement&&this.storeSupportabilityMetrics("Generic/VideoElement/Added",1),e instanceof HTMLIFrameElement&&this.storeSupportabilityMetrics("Generic/IFrame/Added",1)}))}))})).observe(window.document.body,{childList:!0,subtree:!0})}}eachSessionChecks(){s.il&&(0,A.bP)("pageshow",(e=>{e?.persisted&&this.storeSupportabilityMetrics("Generic/BFCache/PageRestored")}))}}},4716:function(e,t,r){r.d(t,{gF:function(){return s},mY:function(){return i},t9:function(){return n},vz:function(){return a},xS:function(){return o}});const n=r(4663).DT.metrics,i="sm",s="cm",o="storeSupportabilityMetrics",a="storeEventMetrics"},8982:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return S}});var n=r(9152),i=r(1131),s=r(4155),o=r(8312),a=r(5785),c=r(4663),l=r(3131);function u(e){const t=[],r=(0,l.fP)();try{Object.keys(r.initializedAgents[e].features).forEach((e=>{switch(e){case c.DT.ajax:t.push("xhr");break;case c.DT.jserrors:t.push("err");break;case c.DT.genericEvents:t.push("ins");break;case c.DT.sessionTrace:t.push("stn");break;case c.DT.softNav:case c.DT.spa:t.push("spa")}}))}catch(e){}return t}var h=r(7918),d=r(1639),p=r(2745),f=r(3892),m=r(3600),g=r(755),y=r(1595),v=r(3807);class b{#i;#s;#o;#a=!1;constructor(e){this.#i=(0,v.O)(e)?.session,this.processStoredDiff()}get ready(){return this.#a}get correctedOriginTime(){return this.#s}get localTimeDiff(){return this.#o}processRumRequest(e,t,r,i){if(this.processStoredDiff(),this.#a)return;if(!i)throw new Error("nrServerTime not found");const s=t+(r-t)/2;if(this.#s=Math.floor(i-s),this.#o=n.sK-this.#s,isNaN(this.#s))throw new Error("Failed to correct browser time to server time");this.#i?.write({serverTimeDiff:this.#o}),this.#a=!0}convertRelativeTimestamp(e){return n.sK+e}convertAbsoluteTimestamp(e){return e-n.sK}correctAbsoluteTimestamp(e){return e-this.#o}correctRelativeTimestamp(e){return this.correctAbsoluteTimestamp(this.convertRelativeTimestamp(e))}processStoredDiff(){if(this.#a)return;const e=this.#i?.read()?.serverTimeDiff;"number"!=typeof e||isNaN(e)||(this.#o=e,this.#s=n.sK-this.#o,this.#a=!0)}}var w=r(3403);class S extends p.m{static featureName=a.t;constructor(e){if(super(e,a.t),this.timeToFirstByte=0,this.firstByteToWindowLoad=0,this.firstByteToDomContent=0,!(0,o.JY)(e.agentIdentifier))return this.ee.abort(),(0,d.Z)(43);e.runtime.timeKeeper=new b(e.agentIdentifier),n.il?g.P.subscribe((({value:e,attrs:t})=>{const r=t.navigationEntry;this.timeToFirstByte=Math.max(e,this.timeToFirstByte),this.firstByteToWindowLoad=Math.max(Math.round(r.loadEventEnd-this.timeToFirstByte),this.firstByteToWindowLoad),this.firstByteToDomContent=Math.max(Math.round(r.domContentLoadedEventEnd-this.timeToFirstByte),this.firstByteToDomContent),this.sendRum()})):this.sendRum()}sendRum(){const e=this.agentRef.info,t={};e.queueTime&&(t.qt=e.queueTime),e.applicationTime&&(t.ap=e.applicationTime),t.be=this.timeToFirstByte,t.fe=this.firstByteToWindowLoad,t.dc=this.firstByteToDomContent;const r={tt:e.ttGuid,us:e.user,ac:e.account,pr:e.product,af:u(this.agentIdentifier).join(","),...t,xx:e.extra,ua:e.userAttributes,at:e.atts};let o;if(this.agentRef.runtime.session&&(r.fsh=Number(this.agentRef.runtime.session.isNew)),"object"==typeof e.jsAttributes&&Object.keys(e.jsAttributes).length>0&&(o=(0,w.R)({ja:e.jsAttributes},this.obfuscator.obfuscateString.bind(this.obfuscator),"string")),n._A.performance)if("undefined"!=typeof PerformanceNavigationTiming){const e=n._A?.performance?.getEntriesByType("navigation")?.[0],t={timing:(0,i.wu)(n.sK,e,{}),navigation:(0,i.uB)(e,{})};r.perf=(0,s.P)(t)}else if("undefined"!=typeof PerformanceTiming){const e={timing:(0,i.wu)(n.sK,n._A.performance.timing,{},!0),navigation:(0,i.uB)(n._A.performance.navigation,{})};r.perf=(0,s.P)(e)}r.fp=m.U.current.value,r.fcp=f.y.current.value;const a=this.agentRef.runtime.timeKeeper;a?.ready&&(r.timestamp=Math.floor(a.correctRelativeTimestamp((0,y.z)()))),this.rumStartTime=(0,y.z)(),this.agentRef.runtime.harvester.triggerHarvestFor(this,{directSend:{targetApp:this.agentRef.mainAppKey,payload:{qs:r,body:o}},needResponse:!0,sendEmptyBody:!0})}postHarvestCleanup({status:e,responseText:t,xhr:r}){const n=(0,y.z)();if(e>=400||0===e)return(0,d.Z)(18,e),void this.ee.abort();const{app:i,...s}=JSON.parse(t);try{if(this.agentRef.runtime.timeKeeper.processRumRequest(r,this.rumStartTime,n,i.nrServerTime),!this.agentRef.runtime.timeKeeper.ready)throw new Error("TimeKeeper not ready")}catch(e){return this.ee.abort(),void(0,d.Z)(17,e)}this.agentRef.runtime.appMetadata=i,(0,h.N)(s,this.agentIdentifier),this.drain(),this.agentRef.runtime.harvester.startTimer()}}},5785:function(e,t,r){r.d(t,{t:function(){return n}});const n=r(4663).DT.pageViewEvent},544:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return T}});var n=r(6834),i=r(5992),s=r(5300),o=r(9337),a=r(4663),c=r(2745),l=r(5528),u=r(2148),h=r(2656),d=r(9152);const p=new h.U(u.S.CUMULATIVE_LAYOUT_SHIFT,(e=>e));d.il&&(0,l.mw)((({value:e,attribution:t,id:r})=>{const n={metricId:r,largestShiftTarget:t.largestShiftTarget,largestShiftTime:t.largestShiftTime,largestShiftValue:t.largestShiftValue,loadState:t.loadState};p.update({value:e,attrs:n})}),{reportAllChanges:!0});var f=r(3892);const m=new h.U(u.S.FIRST_INPUT_DELAY);d.il&&(0,l.Fu)((({value:e,attribution:t})=>{if(d.iS||m.isValid)return;const r={type:t.eventType,fid:Math.round(e),eventTarget:t.eventTarget,loadState:t.loadState};m.update({value:t.eventTime,attrs:r})}));var g=r(3600);const y=new h.U(u.S.INTERACTION_TO_NEXT_PAINT);d.il&&(0,l.Yn)((({value:e,attribution:t,id:r})=>{const n={metricId:r,eventTarget:t.interactionTarget,eventTime:t.interactionTime,interactionTarget:t.interactionTarget,interactionTime:t.interactionTime,interactionType:t.interactionType,inputDelay:t.inputDelay,nextPaintTime:t.nextPaintTime,processingDuration:t.processingDuration,presentationDelay:t.presentationDelay,loadState:t.loadState};y.update({value:e,attrs:n})}));var v=r(1478);const b=new h.U(u.S.LARGEST_CONTENTFUL_PAINT);d.il&&(0,l.NO)((({value:e,attribution:t})=>{if(d.iS||b.isValid)return;let r;const n=t.lcpEntry;n&&(r={size:n.size,eid:n.id,element:t.element,timeToFirstByte:t.timeToFirstByte,resourceLoadDelay:t.resourceLoadDelay,resourceLoadDuration:t.resourceLoadDuration,resourceLoadTime:t.resourceLoadDuration,elementRenderDelay:t.elementRenderDelay},t.url&&(r.elUrl=(0,v.f)(t.url)),n.element?.tagName&&(r.elTag=n.element.tagName)),b.update({value:e,attrs:r})}));var w=r(755),S=r(7973);class T extends c.m{static featureName=o.t;#c=({name:e,value:t,attrs:r})=>{this.addTiming(e,t,r)};constructor(e){super(e,o.t),this.curSessEndRecorded=!1,(0,i.X)("docHidden",(e=>this.endCurrentSession(e)),this.featureName,this.ee),(0,i.X)("winPagehide",(e=>this.addTiming("unload",e,null)),this.featureName,this.ee),this.waitForFlags([]).then((()=>{g.U.subscribe(this.#c),f.y.subscribe(this.#c),m.subscribe(this.#c),b.subscribe(this.#c),y.subscribe(this.#c),w.P.subscribe((({attrs:e})=>{this.addTiming("load",Math.round(e.navigationEntry.loadEventEnd))})),(0,S.N)((()=>{const{name:e,value:t,attrs:r}=p.current;void 0!==t&&this.addTiming(e,1e3*t,r)}),!0,!0),this.drain()}))}endCurrentSession(e){this.curSessEndRecorded||(this.addTiming("pageHide",e,null),this.curSessEndRecorded=!0)}addTiming(e,t,r){(function(e){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(!t)return;t.type&&(e["net-type"]=t.type);t.effectiveType&&(e["net-etype"]=t.effectiveType);t.rtt&&(e["net-rtt"]=t.rtt);t.downlink&&(e["net-dlink"]=t.downlink)})(r=r||{}),e!==u.S.CUMULATIVE_LAYOUT_SHIFT&&p.current.value>=0&&(r.cls=p.current.value),this.events.add({name:e,value:t,attrs:r}),(0,s.p)("pvtAdded",[e,t,r],void 0,a.DT.sessionTrace,this.ee)}appendGlobalCustomAttributes(e){var t=e.attrs||{},r=["size","eid","cls","type","fid","elTag","elUrl","net-type","net-etype","net-rtt","net-dlink"];Object.entries(this.agentRef.info.jsAttributes||{}).forEach((([e,n])=>{r.indexOf(e)<0&&(t[e]=n)}))}serializer(e){for(var t=(0,n.FX)(this.agentIdentifier),r="bel.6;",i=0;i<e.length;i++){var s=e[i];r+="e,",r+=t(s.name)+",",r+=(0,n.AG)(s.value,n.uR,!1)+",",this.appendGlobalCustomAttributes(s);var o=(0,n.n1)(s.attrs,t);o&&o.length>0&&(r+=(0,n.uR)(o.length)+";"+o.join(";")),i+1<e.length&&(r+=";")}return r}}},9337:function(e,t,r){r.d(t,{t:function(){return n}});const n=r(4663).DT.pageViewTiming},9568:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return I}});var n=r(5992),i=r(1838),s=r(2745);let o;const a=new Promise((e=>{o=e})),c=Object.freeze({onReplayReady:o,sessionReplayInitialized:a});var l=r(9306),u=r(1639),h=r(9152),d=r(4716),p=r(5300),f=r(4663),m=r(8445),g=r(9181),y=r(4155),v=r(8345),b=r(1595),w=r(4219),S=r(6314),T=r(1478);class I extends s.m{static featureName=i.t9;mode=g.IK.OFF;constructor(e,t){super(e,i.t9),this.initialized=!1,this.blocked=!1,this.gzipper=void 0,this.u8=void 0,this.entitled=!1,this.timeKeeper=void 0,this.recorder=t?.recorder,this.errorNoticed=t?.errorNoticed||!1,this.harvestOpts.raw=!0,(0,p.p)(d.xS,["Config/SessionReplay/Enabled"],void 0,f.DT.metrics,this.ee),this.ee.on(g.wO.RESET,(()=>{this.abort(i.Mi.RESET)})),this.ee.on(g.wO.PAUSE,(()=>{this.recorder?.stopRecording()})),this.ee.on(g.wO.RESUME,(()=>{this.recorder&&(this.mode=e.runtime.session.state.sessionReplayMode,this.initialized&&this.mode!==g.IK.OFF&&this.recorder?.startRecording())})),this.ee.on(g.wO.UPDATE,((e,t)=>{this.recorder&&this.initialized&&!this.blocked&&e===g.uT.CROSS_TAB&&(this.mode!==g.IK.OFF&&t.sessionReplayMode===g.IK.OFF&&this.abort(i.Mi.CROSS_TAB),this.mode=t.sessionReplay)})),(0,n.X)(i.Ef.PAUSE,(()=>{this.forceStop(this.mode===g.IK.FULL)}),this.featureName,this.ee),(0,n.X)(i.Ef.ERROR_DURING_REPLAY,(e=>{this.handleError(e)}),this.featureName,this.ee);const{error_sampling_rate:r,sampling_rate:s,autoStart:o,block_selector:a,mask_text_selector:l,mask_all_inputs:u,inline_images:h,collect_fonts:m}=e.init.session_replay;this.waitForFlags(["srs","sr"]).then((([e,t])=>{if(this.entitled=!!t,!this.entitled)return this.deregisterDrain(),void(this.recorder?.recording&&(this.abort(i.Mi.ENTITLEMENTS),(0,p.p)(d.xS,["SessionReplay/EnabledNotEntitled/Detected"],void 0,f.DT.metrics,this.ee)));this.drain(),this.initializeRecording(e)})).then((()=>{if(this.mode===g.IK.OFF)for(this.recorder?.stopRecording();this.recorder?.getEvents().events.length;)this.recorder?.clearBuffer?.();c.onReplayReady(this.mode)})),o||(0,p.p)(d.xS,["Config/SessionReplay/AutoStart/Modified"],void 0,f.DT.metrics,this.ee),!0===m&&(0,p.p)(d.xS,["Config/SessionReplay/CollectFonts/Modified"],void 0,f.DT.metrics,this.ee),!0===h&&(0,p.p)(d.xS,["Config/SessionReplay/InlineImages/Modifed"],void 0,f.DT.metrics,this.ee),!0!==u&&(0,p.p)(d.xS,["Config/SessionReplay/MaskAllInputs/Modified"],void 0,f.DT.metrics,this.ee),"[data-nr-block]"!==a&&(0,p.p)(d.xS,["Config/SessionReplay/BlockSelector/Modified"],void 0,f.DT.metrics,this.ee),"*"!==l&&(0,p.p)(d.xS,["Config/SessionReplay/MaskTextSelector/Modified"],void 0,f.DT.metrics,this.ee),(0,p.p)(d.xS,["Config/SessionReplay/SamplingRate/Value",s],void 0,f.DT.metrics,this.ee),(0,p.p)(d.xS,["Config/SessionReplay/ErrorSamplingRate/Value",r],void 0,f.DT.metrics,this.ee)}replayIsActive(){return Boolean(this.recorder&&this.mode===g.IK.FULL&&!this.blocked&&this.entitled)}handleError(e){this.recorder&&(this.recorder.currentBufferTarget.hasError=!0),this.mode===g.IK.ERROR&&"visible"===h._A?.document.visibilityState&&this.switchToFull()}switchToFull(){this.entitled&&!this.blocked&&(this.mode=g.IK.FULL,this.recorder&&this.initialized?(this.recorder.recording||this.recorder.startRecording(),this.syncWithSessionManager({sessionReplayMode:this.mode})):this.initializeRecording(g.IK.FULL,!0))}async initializeRecording(e,t){if(this.initialized=!0,!this.entitled)return;const{session:n,timeKeeper:s}=this.agentRef.runtime;if(this.timeKeeper=s,this.recorder?.parent.trigger===i.pB.API&&this.recorder?.recording?this.mode=g.IK.FULL:n.isNew||t?this.mode=e:this.mode=n.state.sessionReplayMode,this.mode!==g.IK.OFF){if(this.recorder)this.recorder.parent=this;else try{const{Recorder:e}=await Promise.resolve().then(r.bind(r,642));this.recorder=new e(this),this.recorder.currentBufferTarget.hasError=this.errorNoticed}catch(e){return this.abort(i.Mi.IMPORT)}this.mode===g.IK.ERROR&&this.errorNoticed&&(this.mode=g.IK.FULL),this.mode===g.IK.FULL&&"preloaded"===this.recorder?.getEvents().type&&this.prepUtils().then((()=>this.agentRef.runtime.harvester.triggerHarvestFor(this))),await this.prepUtils(),this.recorder.recording||this.recorder.startRecording(),this.syncWithSessionManager({sessionReplayMode:this.mode})}}async prepUtils(){try{const{gzipSync:e,strToU8:t}=await Promise.resolve().then(r.bind(r,3778));this.gzipper=e,this.u8=t}catch(e){}}makeHarvestPayload(e){if(this.mode!==g.IK.FULL||this.blocked)return;if(!this.recorder||!this.timeKeeper?.ready||!this.recorder.hasSeenSnapshot)return;const t=this.recorder.getEvents();if(!t.events.length)return;const r=this.getHarvestContents(t);if(!r.body.length)return void this.recorder.clearBuffer();(0,p.p)(d.xS,["SessionReplay/Harvest/Attempts"],void 0,f.DT.metrics,this.ee);let n=0;if(this.gzipper&&this.u8?(r.body=this.gzipper(this.u8("[".concat(r.body.map((({__serialized:e,...t})=>{if(t.__newrelic&&e)return e;const r={...t};return r.__newrelic||(r.__newrelic=(0,w.wi)(t.timestamp,this.timeKeeper),r.timestamp=this.timeKeeper.correctAbsoluteTimestamp(t.timestamp)),(0,y.P)(r)})).join(","),"]"))),n=r.body.length):(r.body=r.body.map((({__serialized:e,...t})=>{if(t.__newrelic)return t;const r={...t};return r.__newrelic=(0,w.wi)(t.timestamp,this.timeKeeper),r.timestamp=this.timeKeeper.correctAbsoluteTimestamp(t.timestamp),r})),n=(0,y.P)(r.body).length),!(n>S.Y))return this.agentRef.runtime.session.state.sessionReplaySentFirstChunk||this.syncWithSessionManager({sessionReplaySentFirstChunk:!0}),this.recorder.clearBuffer(),"preloaded"===t.type&&this.agentRef.runtime.harvester.triggerHarvestFor(this),[{targetApp:void 0,payload:r}];this.abort(i.Mi.TOO_BIG,n)}getCorrectedTimestamp(e){if(e?.timestamp)return e.__newrelic?e.timestamp:this.timeKeeper.correctAbsoluteTimestamp(e.timestamp)}getHarvestContents(e){e??=this.recorder.getEvents();let t=e.events;const r=this.agentRef.runtime,n=this.agentRef.info.jsAttributes?.["enduser.id"];t?.[0]?.type===i.i9.FullSnapshot&&this.recorder.lastMeta&&(e.hasMeta=!0,t.unshift(this.recorder.lastMeta),this.recorder.lastMeta=void 0);t[t.length-1]?.type===i.i9.Meta&&(this.recorder.lastMeta=t[t.length-1],t=t.slice(0,t.length-1),e.hasMeta=!!t.find((e=>e.type===i.i9.Meta)));const s=(0,b.z)(),o=this.getCorrectedTimestamp(t[0]),a=this.getCorrectedTimestamp(t[t.length-1]),c=o||Math.floor(this.timeKeeper.correctAbsoluteTimestamp(e.cycleTimestamp)),u=a||Math.floor(this.timeKeeper.correctRelativeTimestamp(s)),h=r.appMetadata?.agents?.[0]||{};return{qs:{browser_monitoring_key:this.agentRef.info.licenseKey,type:"SessionReplay",app_id:this.agentRef.info.applicationID,protocol_version:"0",timestamp:c,attributes:(0,l.j6)({...!!this.gzipper&&!!this.u8&&{content_encoding:"gzip"},...h.entityGuid&&{entityGuid:h.entityGuid},harvestId:[r.session?.state.value,r.ptid,r.harvestCount].filter((e=>e)).join("_"),"replay.firstTimestamp":c,"replay.lastTimestamp":u,"replay.nodes":t.length,"session.durationMs":r.session.getDuration(),agentVersion:r.version,session:r.session.state.value,rst:s,hasMeta:e.hasMeta||!1,hasSnapshot:e.hasSnapshot||!1,hasError:e.hasError||!1,isFirstChunk:!1===r.session.state.sessionReplaySentFirstChunk,decompressedBytes:e.payloadBytesEstimation,invalidStylesheetsDetected:v.j.invalidStylesheetsDetected,inlinedAllStylesheets:e.inlinedAllStylesheets,"rrweb.version":m.lF,"payload.type":e.type,...n&&{"enduser.id":this.obfuscator.obfuscateString(n)},currentUrl:this.obfuscator.obfuscateString((0,T.f)(""+location))},i.J0).substring(1)},body:t}}postHarvestCleanup(e){429===e.status&&this.abort(i.Mi.TOO_MANY)}forceStop(e){e&&this.agentRef.runtime.harvester.triggerHarvestFor(this),this.mode=g.IK.OFF,this.recorder?.stopRecording?.(),this.syncWithSessionManager({sessionReplayMode:this.mode})}abort(e={},t){for((0,u.Z)(33,e.message),(0,p.p)(d.xS,["SessionReplay/Abort/".concat(e.sm),t],void 0,f.DT.metrics,this.ee),this.blocked=!0,this.mode=g.IK.OFF,this.recorder?.stopRecording?.(),this.syncWithSessionManager({sessionReplayMode:this.mode}),this.recorder?.clearTimestamps?.();this.recorder?.getEvents().events.length;)this.recorder?.clearBuffer?.()}syncWithSessionManager(e={}){this.agentRef.runtime.session.write(e)}}},1838:function(e,t,r){r.d(t,{Ef:function(){return s},J0:function(){return u},Mi:function(){return l},Vb:function(){return o},i9:function(){return a},pB:function(){return h},t9:function(){return i},u0:function(){return c}});var n=r(9181);const i=r(4663).DT.sessionReplay,s={RECORD:"recordReplay",PAUSE:"pauseReplay",REPLAY_RUNNING:"replayRunning",ERROR_DURING_REPLAY:"errorDuringReplay"},o=.12,a={DomContentLoaded:0,Load:1,FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Custom:5},c={[n.IK.ERROR]:15e3,[n.IK.FULL]:3e5,[n.IK.OFF]:0},l={RESET:{message:"Session was reset",sm:"Reset"},IMPORT:{message:"Recorder failed to import",sm:"Import"},TOO_MANY:{message:"429: Too Many Requests",sm:"Too-Many"},TOO_BIG:{message:"Payload was too large",sm:"Too-Big"},CROSS_TAB:{message:"Session Entity was set to OFF on another tab",sm:"Cross-Tab"},ENTITLEMENTS:{message:"Session Replay is not allowed and will not be started",sm:"Entitlement"}},u=5e3,h={API:"api"}},642:function(e,t,r){r.d(t,{Recorder:function(){return Ul}});var n,i=Object.defineProperty,s=(e,t,r)=>((e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),o=Object.defineProperty,a=(e,t,r)=>((e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),c=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(c||{});const l={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},u={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},h={},d=()=>!!globalThis.Zone;function p(e){if(h[e])return h[e];const t=globalThis[e],r=t.prototype,n=e in l?l[e]:void 0,i=Boolean(n&&n.every((e=>{var t,n;return Boolean(null==(n=null==(t=Object.getOwnPropertyDescriptor(r,e))?void 0:t.get)?void 0:n.toString().includes("[native code]"))}))),s=e in u?u[e]:void 0,o=Boolean(s&&s.every((e=>{var t;return"function"==typeof r[e]&&(null==(t=r[e])?void 0:t.toString().includes("[native code]"))})));if(i&&o&&!d())return h[e]=t.prototype,t.prototype;try{const n=document.createElement("iframe");document.body.appendChild(n);const i=n.contentWindow;if(!i)return t.prototype;const s=i[e].prototype;return document.body.removeChild(n),s?h[e]=s:r}catch{return r}}const f={};function m(e,t,r){var n;const i=`${e}.${String(r)}`;if(f[i])return f[i].call(t);const s=p(e),o=null==(n=Object.getOwnPropertyDescriptor(s,r))?void 0:n.get;return o?(f[i]=o,o.call(t)):t[r]}const g={};function y(e,t,r){const n=`${e}.${String(r)}`;if(g[n])return g[n].bind(t);const i=p(e)[r];return"function"!=typeof i?t[r]:(g[n]=i,i.bind(t))}const v={childNodes:function(e){return m("Node",e,"childNodes")},parentNode:function(e){return m("Node",e,"parentNode")},parentElement:function(e){return m("Node",e,"parentElement")},textContent:function(e){return m("Node",e,"textContent")},contains:function(e,t){return y("Node",e,"contains")(t)},getRootNode:function(e){return y("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?m("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?m("Element",e,"shadowRoot"):null},querySelector:function(e,t){return m("Element",e,"querySelector")(t)},querySelectorAll:function(e,t){return m("Element",e,"querySelectorAll")(t)},mutationObserver:function(){return p("MutationObserver").constructor}};function b(e){return e.nodeType===e.ELEMENT_NODE}function w(e){const t=e&&"host"in e&&"mode"in e&&v.host(e)||null;return Boolean(t&&"shadowRoot"in t&&v.shadowRoot(t)===e)}function S(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function T(e){try{const r=e.rules||e.cssRules;if(!r)return null;let n=e.href;!n&&e.ownerNode&&e.ownerNode.ownerDocument&&(n=e.ownerNode.ownerDocument.location.href);const i=Array.from(r,(e=>I(e,n))).join("");return(t=i).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}catch(e){return null}var t}function I(e,t){if(function(e){return"styleSheet"in e}(e)){let t;try{t=T(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const r=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}(e)}catch(r){t=e.cssText}return e.styleSheet.href?_(t,e.styleSheet.href):t}{let r=e.cssText;return function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":")&&(r=function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(r)),t?_(r,t):r}}class C{constructor(){a(this,"idNodeMap",new Map),a(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;return(null==(t=this.getMeta(e))?void 0:t.id)??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function x(){return new C}function R({element:e,maskInputOptions:t,tagName:r,type:n,value:i,maskInputFn:s}){let o=i||"";const a=n&&E(n);return(t[r.toLowerCase()]||a&&t[a])&&(o=s?s(o,e):"*".repeat(o.length)),o}function E(e){return e.toLowerCase()}const A="__rrweb_original__";function k(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?E(t):null}function O(e,t){let r;try{r=new URL(e,t??window.location.href)}catch(e){return null}const n=r.pathname.match(/\.([0-9a-z]+)(?:$)/i);return(null==n?void 0:n[1])??null}const M=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,N=/^(?:[a-z+]+:)?\/\//i,D=/^www\..*/i,P=/^(data:)([^,]*),(.*)/i;function _(e,t){return(e||"").replace(M,((e,r,n,i,s,o)=>{const a=n||s||o,c=r||i||"";if(!a)return e;if(N.test(a)||D.test(a))return`url(${c}${a}${c})`;if(P.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${c})`;const l=t.split("/"),u=a.split("/");l.pop();for(const e of u)"."!==e&&(".."===e?l.pop():l.push(e));return`url(${c}${l.join("/")}${c})`}))}function F(e){return e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"")}function L(e,t){return function(e,t){const r=Array.from(t.childNodes),n=[];if(r.length>1&&e&&"string"==typeof e){const t=F(e);for(let i=1;i<r.length;i++)if(r[i].textContent&&"string"==typeof r[i].textContent){const s=F(r[i].textContent);for(let r=3;r<s.length;r++){const i=s.substring(0,r);if(2===t.split(i).length){const r=t.indexOf(i);for(let t=r;t<e.length;t++)if(F(e.substring(0,t)).length===r){n.push(e.substring(0,t)),e=e.substring(t);break}break}}}}return n.push(e),n}(e,t).join("/* rr_split */")}let j=1;const U=new RegExp("[^a-z0-9-_:]"),B=-2;function z(){return j++}let H,G;const K=/^[^ \t\n\r\u000c]+/,V=/^[, \t\n\r\u000c]+/;const X=new WeakMap;function W(e,t){return t&&""!==t.trim()?Y(e,t):t}function Z(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Y(e,t){let r=X.get(e);if(r||(r=e.createElement("a"),X.set(e,r)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return r.setAttribute("href",t),r.href}function q(e,t,r,n){return n?"src"===r||"href"===r&&("use"!==t||"#"!==n[0])||"xlink:href"===r&&"#"!==n[0]?W(e,n):"background"!==r||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===r?function(e,t){if(""===t.trim())return t;let r=0;function n(e){let n;const i=e.exec(t.substring(r));return i?(n=i[0],r+=n.length,n):""}const i=[];for(;n(V),!(r>=t.length);){let s=n(K);if(","===s.slice(-1))s=W(e,s.substring(0,s.length-1)),i.push(s);else{let n="";s=W(e,s);let o=!1;for(;;){const e=t.charAt(r);if(""===e){i.push((s+n).trim());break}if(o)")"===e&&(o=!1);else{if(","===e){r+=1,i.push((s+n).trim());break}"("===e&&(o=!0)}n+=e,r+=1}}}return i.join(", ")}(e,n):"style"===r?_(n,Y(e)):"object"===t&&"data"===r?W(e,n):n:W(e,n):n}function J(e,t,r){return("video"===e||"audio"===e)&&"autoplay"===t}function $(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!r&&$(v.parentNode(e),t,r);for(let r=e.classList.length;r--;){const n=e.classList[r];if(t.test(n))return!0}return!!r&&$(v.parentNode(e),t,r)}function Q(e,t,r,n){let i;if(b(e)){if(i=e,!v.childNodes(i).length)return!1}else{if(null===v.parentElement(e))return!1;i=v.parentElement(e)}try{if("string"==typeof t){if(n){if(i.closest(`.${t}`))return!0}else if(i.classList.contains(t))return!0}else if($(i,t,n))return!0;if(r)if(n){if(i.closest(r))return!0}else if(i.matches(r))return!0}catch(e){}return!1}function ee(e,t){const{doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:o,inlineStylesheet:a,maskInputOptions:l={},maskTextFn:u,maskInputFn:h,dataURLOptions:d={},inlineImages:p,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:g=!1,cssCaptured:y=!1}=t,b=function(e,t){if(!t.hasNode(e))return;const r=t.getId(e);return 1===r?void 0:r}(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:c.Document,childNodes:[],compatMode:e.compatMode}:{type:c.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:c.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return function(e,t){const{doc:r,blockClass:n,blockSelector:i,inlineStylesheet:s,maskInputOptions:o={},maskInputFn:a,dataURLOptions:l={},inlineImages:u,recordCanvas:h,keepIframeSrcFn:d,newlyAddedElement:p=!1,rootId:f}=t,m=function(e,t,r){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let r=e.classList.length;r--;){const n=e.classList[r];if(t.test(n))return!0}if(r)return e.matches(r)}catch(e){}return!1}(e,n,i),g=function(e){if(e instanceof HTMLFormElement)return"form";const t=E(e.tagName);return U.test(t)?"div":t}(e);let y={};const v=e.attributes.length;for(let t=0;t<v;t++){const n=e.attributes[t];J(g,n.name,n.value)||(y[n.name]=q(r,g,E(n.name),n.value))}if("link"===g&&s){const t=Array.from(r.styleSheets).find((t=>t.href===e.href));let n=null;t&&(n=T(t)),n&&(delete y.rel,delete y.href,y._cssText=n)}if("style"===g&&e.sheet){let t=T(e.sheet);t&&(e.childNodes.length>1&&(t=L(t,e)),y._cssText=t)}if("input"===g||"textarea"===g||"select"===g){const t=e.value,r=e.checked;"radio"!==y.type&&"checkbox"!==y.type&&"submit"!==y.type&&"button"!==y.type&&t?y.value=R({element:e,type:k(e),tagName:g,value:t,maskInputOptions:o,maskInputFn:a}):r&&(y.checked=r)}"option"===g&&(e.selected&&!o.select?y.selected=!0:delete y.selected);"dialog"===g&&e.open&&(y.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal");if("canvas"===g&&h)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let r=0;r<e.width;r+=50)for(let n=0;n<e.height;n+=50){const i=t.getImageData,s=A in i?i[A]:i;if(new Uint32Array(s.call(t,r,n,Math.min(50,e.width-r),Math.min(50,e.height-n)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(y.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const t=e.toDataURL(l.type,l.quality),n=r.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(l.type,l.quality)&&(y.rr_dataURL=t)}if("img"===g&&u){H||(H=r.createElement("canvas"),G=H.getContext("2d"));const t=e,n=(t.currentSrc||t.getAttribute("src"),t.crossOrigin),i=()=>{t.removeEventListener("load",i);try{H.width=t.naturalWidth,H.height=t.naturalHeight,G.drawImage(t,0,0),y.rr_dataURL=H.toDataURL(l.type,l.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i))}"anonymous"===t.crossOrigin&&(n?y.crossOrigin=n:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i)}if("audio"===g||"video"===g){const t=y;t.rr_mediaState=e.paused?"paused":"played",t.rr_mediaCurrentTime=e.currentTime,t.rr_mediaPlaybackRate=e.playbackRate,t.rr_mediaMuted=e.muted,t.rr_mediaLoop=e.loop,t.rr_mediaVolume=e.volume}p||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop));if(m){const{width:t,height:r}=e.getBoundingClientRect();y={class:y.class,rr_width:`${t}px`,rr_height:`${r}px`}}"iframe"!==g||d(y.src)||(e.contentDocument||(y.rr_src=y.src),delete y.src);let b;try{customElements.get(g)&&(b=!0)}catch(e){}return{type:c.Element,tagName:g,attributes:y,childNodes:[],isSVG:Z(e)||void 0,needBlock:m,rootId:f,isCustom:b}}(e,{doc:r,blockClass:i,blockSelector:s,inlineStylesheet:a,maskInputOptions:l,maskInputFn:h,dataURLOptions:d,inlineImages:p,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:g,rootId:b});case e.TEXT_NODE:return function(e,t){const{needsMask:r,maskTextFn:n,rootId:i,cssCaptured:s}=t,o=v.parentNode(e),a=o&&o.tagName;let l="";const u="STYLE"===a||void 0,h="SCRIPT"===a||void 0;h?l="SCRIPT_PLACEHOLDER":s||(l=v.textContent(e),u&&l&&(l=_(l,Y(t.doc))));!u&&!h&&l&&r&&(l=n?n(l,v.parentElement(e)):l.replace(/[\S]/g,"*"));return{type:c.Text,textContent:l||"",rootId:i}}(e,{doc:r,needsMask:o,maskTextFn:u,rootId:b,cssCaptured:y});case e.CDATA_SECTION_NODE:return{type:c.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:c.Comment,textContent:v.textContent(e)||"",rootId:b};default:return!1}}function te(e){return null==e?"":e.toLowerCase()}function re(e,t){const{doc:r,mirror:n,blockClass:i,blockSelector:s,maskTextClass:o,maskTextSelector:a,skipChild:l=!1,inlineStylesheet:u=!0,maskInputOptions:h={},maskTextFn:d,maskInputFn:p,slimDOMOptions:f,dataURLOptions:m={},inlineImages:g=!1,recordCanvas:y=!1,onSerialize:T,onIframeLoad:I,iframeLoadTimeout:C=5e3,onStylesheetLoad:x,stylesheetLoadTimeout:R=5e3,keepIframeSrcFn:E=(()=>!1),newlyAddedElement:A=!1,cssCaptured:k=!1}=t;let{needsMask:M}=t,{preserveWhiteSpace:N=!0}=t;if(!M){M=Q(e,o,a,void 0===M)}const D=ee(e,{doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:M,inlineStylesheet:u,maskInputOptions:h,maskTextFn:d,maskInputFn:p,dataURLOptions:m,inlineImages:g,recordCanvas:y,keepIframeSrcFn:E,newlyAddedElement:A,cssCaptured:k});if(!D)return null;let P;P=n.hasNode(e)?n.getId(e):function(e,t){if(t.comment&&e.type===c.Comment)return!0;if(e.type===c.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===O(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(te(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===te(e.attributes.name)||"icon"===te(e.attributes.rel)||"apple-touch-icon"===te(e.attributes.rel)||"shortcut icon"===te(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&te(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(te(e.attributes.property).match(/^(og|twitter|fb):/)||te(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===te(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===te(e.attributes.name)||"googlebot"===te(e.attributes.name)||"bingbot"===te(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===te(e.attributes.name)||"generator"===te(e.attributes.name)||"framework"===te(e.attributes.name)||"publisher"===te(e.attributes.name)||"progid"===te(e.attributes.name)||te(e.attributes.property).match(/^article:/)||te(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===te(e.attributes.name)||"yandex-verification"===te(e.attributes.name)||"csrf-token"===te(e.attributes.name)||"p:domain_verify"===te(e.attributes.name)||"verify-v1"===te(e.attributes.name)||"verification"===te(e.attributes.name)||"shopify-checkout-api-token"===te(e.attributes.name)))return!0}}return!1}(D,f)||!N&&D.type===c.Text&&!D.textContent.replace(/^\s+|\s+$/gm,"").length?B:z();const _=Object.assign(D,{id:P});if(n.add(e,_),P===B)return null;T&&T(e);let F=!l;if(_.type===c.Element){F=F&&!_.needBlock,delete _.needBlock;const t=v.shadowRoot(e);t&&S(t)&&(_.isShadowHost=!0)}if((_.type===c.Document||_.type===c.Element)&&F){f.headWhitespace&&_.type===c.Element&&"head"===_.tagName&&(N=!1);const t={doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:M,maskTextClass:o,maskTextSelector:a,skipChild:l,inlineStylesheet:u,maskInputOptions:h,maskTextFn:d,maskInputFn:p,slimDOMOptions:f,dataURLOptions:m,inlineImages:g,recordCanvas:y,preserveWhiteSpace:N,onSerialize:T,onIframeLoad:I,iframeLoadTimeout:C,onStylesheetLoad:x,stylesheetLoadTimeout:R,keepIframeSrcFn:E,cssCaptured:!1};if(_.type===c.Element&&"textarea"===_.tagName&&void 0!==_.attributes.value);else{_.type===c.Element&&void 0!==_.attributes._cssText&&"string"==typeof _.attributes._cssText&&(t.cssCaptured=!0);for(const r of Array.from(v.childNodes(e))){const e=re(r,t);e&&_.childNodes.push(e)}}let w=null;if(b(e)&&(w=v.shadowRoot(e)))for(const e of Array.from(v.childNodes(w))){const r=re(e,t);r&&(S(w)&&(r.isShadow=!0),_.childNodes.push(r))}}const L=v.parentNode(e);return L&&w(L)&&S(L)&&(_.isShadow=!0),_.type===c.Element&&"iframe"===_.tagName&&function(e,t,r){const n=e.contentWindow;if(!n)return;let i,s=!1;try{i=n.document.readyState}catch(e){return}if("complete"!==i){const n=setTimeout((()=>{s||(t(),s=!0)}),r);return void e.addEventListener("load",(()=>{clearTimeout(n),s=!0,t()}))}const o="about:blank";if(n.location.href!==o||e.src===o||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&I){const r=re(t,{doc:t,mirror:n,blockClass:i,blockSelector:s,needsMask:M,maskTextClass:o,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:h,maskTextFn:d,maskInputFn:p,slimDOMOptions:f,dataURLOptions:m,inlineImages:g,recordCanvas:y,preserveWhiteSpace:N,onSerialize:T,onIframeLoad:I,iframeLoadTimeout:C,onStylesheetLoad:x,stylesheetLoadTimeout:R,keepIframeSrcFn:E});r&&I(e,r)}}),C),_.type===c.Element&&"link"===_.tagName&&"string"==typeof _.attributes.rel&&("stylesheet"===_.attributes.rel||"preload"===_.attributes.rel&&"string"==typeof _.attributes.href&&"css"===O(_.attributes.href))&&function(e,t,r){let n,i=!1;try{n=e.sheet}catch(e){return}if(n)return;const s=setTimeout((()=>{i||(t(),i=!0)}),r);e.addEventListener("load",(()=>{clearTimeout(s),i=!0,t()}))}(e,(()=>{if(x){const t=re(e,{doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:M,maskTextClass:o,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:h,maskTextFn:d,maskInputFn:p,slimDOMOptions:f,dataURLOptions:m,inlineImages:g,recordCanvas:y,preserveWhiteSpace:N,onSerialize:T,onIframeLoad:I,iframeLoadTimeout:C,onStylesheetLoad:x,stylesheetLoadTimeout:R,keepIframeSrcFn:E});t&&x(e,t)}}),R),_}new RegExp(/(max|min)-device-(width|height)/.source,"g");function ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ie(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var se={exports:{}},oe=String,ae=function(){return{isColorSupported:!1,reset:oe,bold:oe,dim:oe,italic:oe,underline:oe,inverse:oe,hidden:oe,strikethrough:oe,black:oe,red:oe,green:oe,yellow:oe,blue:oe,magenta:oe,cyan:oe,white:oe,gray:oe,bgBlack:oe,bgRed:oe,bgGreen:oe,bgYellow:oe,bgBlue:oe,bgMagenta:oe,bgCyan:oe,bgWhite:oe}};se.exports=ae(),se.exports.createColors=ae;var ce=se.exports;const le=ie(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let ue=ce,he=le,de=class e extends Error{constructor(t,r,n,i,s,o){super(t),this.name="CssSyntaxError",this.reason=t,s&&(this.file=s),i&&(this.source=i),o&&(this.plugin=o),void 0!==r&&void 0!==n&&("number"==typeof r?(this.line=r,this.column=n):(this.line=r.line,this.column=r.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=ue.isColorSupported),he&&e&&(t=he(t));let r,n,i=t.split(/\r?\n/),s=Math.max(this.line-3,0),o=Math.min(this.line+2,i.length),a=String(o).length;if(e){let{bold:e,gray:t,red:i}=ue.createColors(!0);r=t=>e(i(t)),n=e=>t(e)}else r=n=e=>e;return i.slice(s,o).map(((e,t)=>{let i=s+1+t,o=" "+(" "+i).slice(-a)+" | ";if(i===this.line){let t=n(o.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+n(o)+e+"\n "+t+r("^")}return" "+n(o)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};var pe=de;de.default=de;var fe={};fe.isClean=Symbol("isClean"),fe.my=Symbol("my");const me={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let ge=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{let i=(e.raws.between||"")+(t?";":"");this.builder(r+n+i,e)}}beforeAfter(e,t){let r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let n=e.parent,i=0;for(;n&&"root"!==n.type;)i+=1,n=n.parent;if(r.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)r+=t}return r}block(e,t){let r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let r=this.raw(e,"semicolon");for(let n=0;n<e.nodes.length;n++){let i=e.nodes[n],s=this.raw(i,"before");s&&this.builder(s),this.stringify(i,t!==n||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(e,t,r){let n;if(r||(r=t),t&&(n=e.raws[t],void 0!==n))return n;let i=e.parent;if("before"===r){if(!i||"root"===i.type&&i.first===e)return"";if(i&&"document"===i.type)return""}if(!i)return me[r];let s=e.root();if(s.rawCache||(s.rawCache={}),void 0!==s.rawCache[r])return s.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{let i="raw"+((o=r)[0].toUpperCase()+o.slice(1));this[i]?n=this[i](s,e):s.walk((e=>{if(n=e.raws[t],void 0!==n)return!1}))}var o;return void 0===n&&(n=me[r]),s.rawCache[r]=n,n}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments((e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls((e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawBeforeRule(e){let t;return e.walk((r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return t=r.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((r=>{let n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){let e=r.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawValue(e,t){let r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var ye=ge;ge.default=ge;let ve=ye;function be(e,t){new ve(t).stringify(e)}var we=be;be.default=be;let{isClean:Se,my:Te}=fe,Ie=pe,Ce=ye,xe=we;function Re(e,t){let r=new e.constructor;for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;if("proxyCache"===n)continue;let i=e[n],s=typeof i;"parent"===n&&"object"===s?t&&(r[n]=t):"source"===n?r[n]=i:Array.isArray(i)?r[n]=i.map((e=>Re(e,r))):("object"===s&&null!==i&&(i=Re(i)),r[n]=i)}return r}let Ee=class{constructor(e={}){this.raws={},this[Se]=!1,this[Te]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let r of e[t])"function"==typeof r.clone?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=Re(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:n}=this.rangeBy(t);return this.source.input.error(e,{column:n.column,line:n.line},{column:r.column,line:r.line},t)}return new Ie(e)}getProxyProcessor(){return{get(e,t){return"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0}}}markDirty(){if(this[Se]){this[Se]=!1;let e=this;for(;e=e.parent;)e[Se]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){let n=(t=this.toString()).indexOf(e.word);-1!==n&&(r=this.positionInside(n,t))}return r}positionInside(e,t){let r=t||this.toString(),n=this.source.start.column,i=this.source.start.line;for(let t=0;t<e;t++)"\n"===r[t]?(n=1,i+=1):n+=1;return{column:n,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.toString(),i=n.indexOf(e.word);-1!==i&&(t=this.positionInside(i,n),r=this.positionInside(i+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return(new Ce).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let n of e)n===this?r=!0:r?(this.parent.insertAfter(t,n),t=n):this.parent.insertBefore(t,n);r||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let r={},n=null==t;t=t||new Map;let i=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e))continue;if("parent"===e||"proxyCache"===e)continue;let n=this[e];if(Array.isArray(n))r[e]=n.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof n&&n.toJSON)r[e]=n.toJSON(null,t);else if("source"===e){let s=t.get(n.input);null==s&&(s=i,t.set(n.input,i),i++),r[e]={end:n.end,inputId:s,start:n.start}}else r[e]=n}return n&&(r.inputs=[...t.keys()].map((e=>e.toJSON()))),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=xe){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,r){let n={node:this};for(let e in r)n[e]=r[e];return e.warn(t,n)}get proxyOf(){return this}};var Ae=Ee;Ee.default=Ee;let ke=Ae,Oe=class extends ke{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};var Me=Oe;Oe.default=Oe;var Ne={nanoid:(e=21)=>{let t="",r=e;for(;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(r=t)=>{let n="",i=r;for(;i--;)n+=e[Math.random()*e.length|0];return n}};let{SourceMapConsumer:De,SourceMapGenerator:Pe}=le,{existsSync:_e,readFileSync:Fe}=le,{dirname:Le,join:je}=le;let Ue=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,n=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Le(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new De(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var t;let r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}loadFile(e){if(this.root=Le(e),_e(e))return this.mapFile=e,Fe(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof De)return Pe.fromSourceMap(t).toString();if(t instanceof Pe)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let r=t(e);if(r){let e=this.loadFile(r);if(!e)throw new Error("Unable to load previous source map: "+r.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=je(Le(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var Be=Ue;Ue.default=Ue;let{SourceMapConsumer:ze,SourceMapGenerator:He}=le,{fileURLToPath:Ge,pathToFileURL:Ke}=le,{isAbsolute:Ve,resolve:Xe}=le,{nanoid:We}=Ne,Ze=le,Ye=pe,qe=Be,Je=Symbol("fromOffsetCache"),$e=Boolean(ze&&He),Qe=Boolean(Xe&&Ve),et=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Qe||/^\w+:\/\//.test(t.from)||Ve(t.from)?this.file=t.from:this.file=Xe(t.from)),Qe&&$e){let e=new qe(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+We(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,n={}){let i,s,o;if(t&&"object"==typeof t){let e=t,n=r;if("number"==typeof e.offset){let n=this.fromOffset(e.offset);t=n.line,r=n.col}else t=e.line,r=e.column;if("number"==typeof n.offset){let e=this.fromOffset(n.offset);s=e.line,o=e.col}else s=n.line,o=n.column}else if(!r){let e=this.fromOffset(t);t=e.line,r=e.col}let a=this.origin(t,r,s,o);return i=a?new Ye(e,void 0===a.endLine?a.line:{column:a.column,line:a.line},void 0===a.endLine?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,n.plugin):new Ye(e,void 0===s?t:{column:r,line:t},void 0===s?r:{column:o,line:s},this.css,this.file,n.plugin),i.input={column:r,endColumn:o,endLine:s,line:t,source:this.css},this.file&&(Ke&&(i.input.url=Ke(this.file).toString()),i.input.file=this.file),i}fromOffset(e){let t,r;if(this[Je])r=this[Je];else{let e=this.css.split("\n");r=new Array(e.length);let t=0;for(let n=0,i=e.length;n<i;n++)r[n]=t,t+=e[n].length+1;this[Je]=r}t=r[r.length-1];let n=0;if(e>=t)n=r.length-1;else{let t,i=r.length-2;for(;n<i;)if(t=n+(i-n>>1),e<r[t])i=t-1;else{if(!(e>=r[t+1])){n=t;break}n=t+1}}return{col:e-r[n]+1,line:n+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Xe(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,n){if(!this.map)return!1;let i,s,o=this.map.consumer(),a=o.originalPositionFor({column:t,line:e});if(!a.source)return!1;"number"==typeof r&&(i=o.originalPositionFor({column:n,line:r})),s=Ve(a.source)?Ke(a.source):new URL(a.source,this.map.consumer().sourceRoot||Ke(this.map.mapFile));let c={column:a.column,endColumn:i&&i.column,endLine:i&&i.line,line:a.line,url:s.toString()};if("file:"===s.protocol){if(!Ge)throw new Error("file: protocol is not available in this PostCSS build");c.file=Ge(s)}let l=o.sourceContentFor(a.source);return l&&(c.source=l),c}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var tt=et;et.default=et,Ze&&Ze.registerInput&&Ze.registerInput(et);let{SourceMapConsumer:rt,SourceMapGenerator:nt}=le,{dirname:it,relative:st,resolve:ot,sep:at}=le,{pathToFileURL:ct}=le,lt=tt,ut=Boolean(rt&&nt),ht=Boolean(it&&ot&&st&&at);var dt=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.originalCSS=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,r=this.toUrl(this.path(e.file)),n=e.root||it(e.file);!1===this.mapOpts.sourcesContent?(t=new rt(e.text),t.sourcesContent&&(t.sourcesContent=null)):t=e.consumer(),this.map.applySourceMap(t,r,this.toUrl(this.path(n)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),ht&&ut&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=nt.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new nt({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new nt({file:this.outputFile(),ignoreInvalidMapping:!0});let e,t,r=1,n=1,i="<no source>",s={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((o,a,c)=>{if(this.css+=o,a&&"end"!==c&&(s.generated.line=r,s.generated.column=n-1,a.source&&a.source.start?(s.source=this.sourcePath(a),s.original.line=a.source.start.line,s.original.column=a.source.start.column-1,this.map.addMapping(s)):(s.source=i,s.original.line=1,s.original.column=0,this.map.addMapping(s))),e=o.match(/\n/g),e?(r+=e.length,t=o.lastIndexOf("\n"),n=o.length-t):n+=o.length,a&&"start"!==c){let e=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===e.last&&!e.raws.semicolon||(a.source&&a.source.end?(s.source=this.sourcePath(a),s.original.line=a.source.end.line,s.original.column=a.source.end.column-1,s.generated.line=r,s.generated.column=n-2,this.map.addMapping(s)):(s.source=i,s.original.line=1,s.original.column=0,s.generated.line=r,s.generated.column=n-1,this.map.addMapping(s)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?it(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(r=it(ot(r,this.mapOpts.annotation)));let n=st(r,e);return this.memoizedPaths.set(e,n),n}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new lt(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(ct){let t=ct(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===at&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};let pt=Ae,ft=class extends pt{constructor(e){super(e),this.type="comment"}};var mt=ft;ft.default=ft;let gt,yt,vt,bt,{isClean:wt,my:St}=fe,Tt=Me,It=mt,Ct=Ae;function xt(e){return e.map((e=>(e.nodes&&(e.nodes=xt(e.nodes)),delete e.source,e)))}function Rt(e){if(e[wt]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)Rt(t)}let Et=class e extends Ct{append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,r,n=this.getIterator();for(;this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],r=e(this.proxyOf.nodes[t],t),!1!==r);)this.indexes[n]+=1;return delete this.indexes[n],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...r)=>e[t](...r.map((e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e))):"every"===t||"some"===t?r=>e[t](((e,...t)=>r(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0}}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r,n=this.index(e),i=this.normalize(t,this.proxyOf.nodes[n]).reverse();n=this.index(e);for(let e of i)this.proxyOf.nodes.splice(n+1,0,e);for(let e in this.indexes)r=this.indexes[e],n<r&&(this.indexes[e]=r+i.length);return this.markDirty(),this}insertBefore(e,t){let r,n=this.index(e),i=0===n&&"prepend",s=this.normalize(t,this.proxyOf.nodes[n],i).reverse();n=this.index(e);for(let e of s)this.proxyOf.nodes.splice(n,0,e);for(let e in this.indexes)r=this.indexes[e],n<=r&&(this.indexes[e]=r+s.length);return this.markDirty(),this}normalize(t,r){if("string"==typeof t)t=xt(gt(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t)){t=t.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if("root"===t.type&&"document"!==this.type){t=t.nodes.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new Tt(t)]}else if(t.selector)t=[new yt(t)];else if(t.name)t=[new vt(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new It(t)]}return t.map((t=>(t[St]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[wt]&&Rt(t),void 0===t.raws.before&&r&&void 0!==r.raws.before&&(t.raws.before=r.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t)))}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls((n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,r)=>{let n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("atrule"===r.type&&e.test(r.name))return t(r,n)})):this.walk(((r,n)=>{if("atrule"===r.type&&r.name===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("atrule"===e.type)return t(e,r)})))}walkComments(e){return this.walk(((t,r)=>{if("comment"===t.type)return e(t,r)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("decl"===r.type&&e.test(r.prop))return t(r,n)})):this.walk(((r,n)=>{if("decl"===r.type&&r.prop===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("decl"===e.type)return t(e,r)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("rule"===r.type&&e.test(r.selector))return t(r,n)})):this.walk(((r,n)=>{if("rule"===r.type&&r.selector===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("rule"===e.type)return t(e,r)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Et.registerParse=e=>{gt=e},Et.registerRule=e=>{yt=e},Et.registerAtRule=e=>{vt=e},Et.registerRoot=e=>{bt=e};var At=Et;Et.default=Et,Et.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,vt.prototype):"rule"===e.type?Object.setPrototypeOf(e,yt.prototype):"decl"===e.type?Object.setPrototypeOf(e,Tt.prototype):"comment"===e.type?Object.setPrototypeOf(e,It.prototype):"root"===e.type&&Object.setPrototypeOf(e,bt.prototype),e[St]=!0,e.nodes&&e.nodes.forEach((e=>{Et.rebuild(e)}))};let kt,Ot,Mt=At,Nt=class extends Mt{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new kt(new Ot,this,e).stringify()}};Nt.registerLazyResult=e=>{kt=e},Nt.registerProcessor=e=>{Ot=e};var Dt=Nt;Nt.default=Nt;let Pt=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var _t=Pt;Pt.default=Pt;let Ft=_t,Lt=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new Ft(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}};var jt=Lt;Lt.default=Lt;const Ut="'".charCodeAt(0),Bt='"'.charCodeAt(0),zt="\\".charCodeAt(0),Ht="/".charCodeAt(0),Gt="\n".charCodeAt(0),Kt=" ".charCodeAt(0),Vt="\f".charCodeAt(0),Xt="\t".charCodeAt(0),Wt="\r".charCodeAt(0),Zt="[".charCodeAt(0),Yt="]".charCodeAt(0),qt="(".charCodeAt(0),Jt=")".charCodeAt(0),$t="{".charCodeAt(0),Qt="}".charCodeAt(0),er=";".charCodeAt(0),tr="*".charCodeAt(0),rr=":".charCodeAt(0),nr="@".charCodeAt(0),ir=/[\t\n\f\r "#'()/;[\\\]{}]/g,sr=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,or=/.[\r\n"'(/\\]/,ar=/[\da-f]/i;let cr=At,lr=class extends cr{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var ur=lr;lr.default=lr,cr.registerAtRule(lr);let hr,dr,pr=At,fr=class extends pr{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let n=super.normalize(e);if(t)if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of n)e.raws.before=t.raws.before;return n}removeChild(e,t){let r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new hr(new dr,this,e).stringify()}};fr.registerLazyResult=e=>{hr=e},fr.registerProcessor=e=>{dr=e};var mr=fr;fr.default=fr,pr.registerRoot(fr);let gr={comma(e){return gr.split(e,[","],!0)},space(e){return gr.split(e,[" ","\n","\t"])},split(e,t,r){let n=[],i="",s=!1,o=0,a=!1,c="",l=!1;for(let r of e)l?l=!1:"\\"===r?l=!0:a?r===c&&(a=!1):'"'===r||"'"===r?(a=!0,c=r):"("===r?o+=1:")"===r?o>0&&(o-=1):0===o&&t.includes(r)&&(s=!0),s?(""!==i&&n.push(i.trim()),i="",s=!1):i+=r;return(r||""!==i)&&n.push(i.trim()),n}};var yr=gr;gr.default=gr;let vr=At,br=yr,wr=class extends vr{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return br.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var Sr=wr;wr.default=wr,vr.registerRule(wr);let Tr=Me,Ir=function(e,t={}){let r,n,i,s,o,a,c,l,u,h,d=e.css.valueOf(),p=t.ignoreErrors,f=d.length,m=0,g=[],y=[];function v(t){throw e.error("Unclosed "+t,m)}return{back:function(e){y.push(e)},endOfFile:function(){return 0===y.length&&m>=f},nextToken:function(e){if(y.length)return y.pop();if(m>=f)return;let t=!!e&&e.ignoreUnclosed;switch(r=d.charCodeAt(m),r){case Gt:case Kt:case Xt:case Wt:case Vt:n=m;do{n+=1,r=d.charCodeAt(n)}while(r===Kt||r===Gt||r===Xt||r===Wt||r===Vt);h=["space",d.slice(m,n)],m=n-1;break;case Zt:case Yt:case $t:case Qt:case rr:case er:case Jt:{let e=String.fromCharCode(r);h=[e,e,m];break}case qt:if(l=g.length?g.pop()[1]:"",u=d.charCodeAt(m+1),"url"===l&&u!==Ut&&u!==Bt&&u!==Kt&&u!==Gt&&u!==Xt&&u!==Vt&&u!==Wt){n=m;do{if(a=!1,n=d.indexOf(")",n+1),-1===n){if(p||t){n=m;break}v("bracket")}for(c=n;d.charCodeAt(c-1)===zt;)c-=1,a=!a}while(a);h=["brackets",d.slice(m,n+1),m,n],m=n}else n=d.indexOf(")",m+1),s=d.slice(m,n+1),-1===n||or.test(s)?h=["(","(",m]:(h=["brackets",s,m,n],m=n);break;case Ut:case Bt:i=r===Ut?"'":'"',n=m;do{if(a=!1,n=d.indexOf(i,n+1),-1===n){if(p||t){n=m+1;break}v("string")}for(c=n;d.charCodeAt(c-1)===zt;)c-=1,a=!a}while(a);h=["string",d.slice(m,n+1),m,n],m=n;break;case nr:ir.lastIndex=m+1,ir.test(d),n=0===ir.lastIndex?d.length-1:ir.lastIndex-2,h=["at-word",d.slice(m,n+1),m,n],m=n;break;case zt:for(n=m,o=!0;d.charCodeAt(n+1)===zt;)n+=1,o=!o;if(r=d.charCodeAt(n+1),o&&r!==Ht&&r!==Kt&&r!==Gt&&r!==Xt&&r!==Wt&&r!==Vt&&(n+=1,ar.test(d.charAt(n)))){for(;ar.test(d.charAt(n+1));)n+=1;d.charCodeAt(n+1)===Kt&&(n+=1)}h=["word",d.slice(m,n+1),m,n],m=n;break;default:r===Ht&&d.charCodeAt(m+1)===tr?(n=d.indexOf("*/",m+2)+1,0===n&&(p||t?n=d.length:v("comment")),h=["comment",d.slice(m,n+1),m,n],m=n):(sr.lastIndex=m+1,sr.test(d),n=0===sr.lastIndex?d.length-1:sr.lastIndex-2,h=["word",d.slice(m,n+1),m,n],g.push(h),m=n)}return m++,h},position:function(){return m}}},Cr=mt,xr=ur,Rr=mr,Er=Sr;const Ar={empty:!0,space:!0};let kr=At,Or=class{constructor(e){this.input=e,this.root=new Rr,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,r,n,i=new xr;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);let s=!1,o=!1,a=[],c=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?c.push("("===t?")":"]"):"{"===t&&c.length>0?c.push("}"):t===c[c.length-1]&&c.pop(),0===c.length){if(";"===t){i.source.end=this.getPosition(e[2]),i.source.end.offset++,this.semicolon=!0;break}if("{"===t){o=!0;break}if("}"===t){if(a.length>0){for(n=a.length-1,r=a[n];r&&"space"===r[0];)r=a[--n];r&&(i.source.end=this.getPosition(r[3]||r[2]),i.source.end.offset++)}this.end(e);break}a.push(e)}else a.push(e);if(this.tokenizer.endOfFile()){s=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(i.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(i,"params",a),s&&(e=a[a.length-1],i.source.end=this.getPosition(e[3]||e[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),o&&(i.nodes=[],this.current=i)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let r,n=0;for(let i=t-1;i>=0&&(r=e[i],"space"===r[0]||(n+=1,2!==n));i--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}colon(e){let t,r,n,i=0;for(let[s,o]of e.entries()){if(t=o,r=t[0],"("===r&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return s}this.doubleColon(t)}n=t}return!1}comment(e){let t=new Cr;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let e=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=Ir(this.input)}decl(e,t){let r=new Tr;this.init(r,e[0][2]);let n,i=e[e.length-1];for(";"===i[0]&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||function(e){for(let t=e.length-1;t>=0;t--){let r=e[t],n=r[3]||r[2];if(n)return n}}(e)),r.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;r.prop+=e.shift()[1]}for(r.raws.between="";e.length;){if(n=e.shift(),":"===n[0]){r.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s,o=[];for(;e.length&&(s=e[0][0],"space"===s||"comment"===s);)o.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if(n=e[t],"!important"===n[1].toLowerCase()){r.important=!0;let n=this.stringFrom(e,t);n=this.spacesFromEnd(e)+n," !important"!==n&&(r.raws.important=n);break}if("important"===n[1].toLowerCase()){let n=e.slice(0),i="";for(let e=t;e>0;e--){let t=n[e][0];if(0===i.trim().indexOf("!")&&"space"!==t)break;i=n.pop()[1]+i}0===i.trim().indexOf("!")&&(r.important=!0,r.raws.important=i,e=n)}if("space"!==n[0]&&"comment"!==n[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(r.raws.between+=o.map((e=>e[1])).join(""),o=[]),this.raw(r,"value",o.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new Er;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,r=null,n=!1,i=null,s=[],o=e[1].startsWith("--"),a=[],c=e;for(;c;){if(r=c[0],a.push(c),"("===r||"["===r)i||(i=c),s.push("("===r?")":"]");else if(o&&n&&"{"===r)i||(i=c),s.push("}");else if(0===s.length){if(";"===r){if(n)return void this.decl(a,o);break}if("{"===r)return void this.rule(a);if("}"===r){this.tokenizer.back(a.pop()),t=!0;break}":"===r&&(n=!0)}else r===s[s.length-1]&&(s.pop(),0===s.length&&(i=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),s.length>0&&this.unclosedBracket(i),t&&n){if(!o)for(;a.length&&(c=a[a.length-1][0],"space"===c||"comment"===c);)this.tokenizer.back(a.pop());this.decl(a,o)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,n){let i,s,o,a,c=r.length,l="",u=!0;for(let e=0;e<c;e+=1)i=r[e],s=i[0],"space"!==s||e!==c-1||n?"comment"===s?(a=r[e-1]?r[e-1][0]:"empty",o=r[e+1]?r[e+1][0]:"empty",Ar[a]||Ar[o]||","===l.slice(-1)?u=!1:l+=i[1]):l+=i[1]:u=!1;if(!u){let n=r.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:n,value:l}}e[t]=l}rule(e){e.pop();let t=new Er;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}},Mr=tt;function Nr(e,t){let r=new Mr(e,t),n=new Or(r);try{n.parse()}catch(e){throw e}return n.root}var Dr=Nr;Nr.default=Nr,kr.registerParse(Nr);let{isClean:Pr,my:_r}=fe,Fr=dt,Lr=we,jr=At,Ur=Dt,Br=jt,zr=Dr,Hr=mr;const Gr={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Kr={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Vr={Once:!0,postcssPlugin:!0,prepare:!0},Xr=0;function Wr(e){return"object"==typeof e&&"function"==typeof e.then}function Zr(e){let t=!1,r=Gr[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,Xr,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,Xr,r+"Exit"]:[r,r+"Exit"]}function Yr(e){let t;return t="document"===e.type?["Document",Xr,"DocumentExit"]:"root"===e.type?["Root",Xr,"RootExit"]:Zr(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function qr(e){return e[Pr]=!1,e.nodes&&e.nodes.forEach((e=>qr(e))),e}let Jr={},$r=class e{constructor(t,r,n){let i;if(this.stringified=!1,this.processed=!1,"object"!=typeof r||null===r||"root"!==r.type&&"document"!==r.type)if(r instanceof e||r instanceof Br)i=qr(r.root),r.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=r.map);else{let e=zr;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{i=e(r,n)}catch(e){this.processed=!0,this.error=e}i&&!i[_r]&&jr.rebuild(i)}else i=qr(r);this.result=new Br(t,i,n),this.helpers={...Jr,postcss:Jr,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?r.postcssVersion:(e.plugin=r.postcssPlugin,e.setMessage())}catch(e){console&&console.error}return e}prepareVisitors(){this.listeners={};let e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(let t of this.plugins)if("object"==typeof t)for(let r in t){if(!Kr[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Vr[r])if("object"==typeof t[r])for(let n in t[r])e(t,"*"===n?r:r+"-"+n.toLowerCase(),t[r][n]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(Wr(r))try{await r}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Pr];){e[Pr]=!0;let t=[Yr(e)];for(;t.length>0;){let e=this.visitTick(t);if(Wr(e))try{await e}catch(e){let r=t[t.length-1].node;throw this.handleError(e,r)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map((e=>r(e,this.helpers)));await Promise.all(t)}else await r(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return Wr(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=Lr;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new Fr(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(Wr(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Pr];)e[Pr]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,n]of e){let e;this.result.lastPlugin=r;try{e=n(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(Wr(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:n}=t;if("root"!==r.type&&"document"!==r.type&&!r.parent)return void e.pop();if(n.length>0&&t.visitorIndex<n.length){let[e,i]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return i(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){let n,i=t.iterator;for(;n=r.nodes[r.indexes[i]];)if(r.indexes[i]+=1,!n[Pr])return n[Pr]=!0,void e.push(Yr(n));t.iterator=0,delete r.indexes[i]}let i=t.events;for(;t.eventIndex<i.length;){let e=i[t.eventIndex];if(t.eventIndex+=1,e===Xr)return void(r.nodes&&r.nodes.length&&(r[Pr]=!0,t.iterator=r.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[Pr]=!0;let t=Zr(e);for(let r of t)if(r===Xr)e.nodes&&e.each((e=>{e[Pr]||this.walkSync(e)}));else{let t=this.listeners[r];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};$r.registerPostcss=e=>{Jr=e};var Qr=$r;$r.default=$r,Hr.registerLazyResult($r),Ur.registerLazyResult($r);let en=dt,tn=we,rn=Dr;const nn=jt;let sn=class{constructor(e,t,r){let n;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let i=tn;this.result=new nn(this._processor,n,this._opts),this.result.css=t;let s=this;Object.defineProperty(this.result,"root",{get(){return s.root}});let o=new en(i,n,this._opts,t);if(o.isMap()){let[e,t]=o.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=rn;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var on=sn;sn.default=sn;let an=on,cn=Qr,ln=Dt,un=mr,hn=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else{if("object"!=typeof r||!r.parse&&!r.stringify)throw new Error(r+" is not a PostCSS plugin")}return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new cn(this,e,t):new an(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var dn=hn;hn.default=hn,un.registerProcessor(hn),ln.registerProcessor(hn);let pn=Me,fn=Be,mn=mt,gn=ur,yn=tt,vn=mr,bn=Sr;function wn(e,t){if(Array.isArray(e))return e.map((e=>wn(e)));let{inputs:r,...n}=e;if(r){t=[];for(let e of r){let r={...e,__proto__:yn.prototype};r.map&&(r.map={...r.map,__proto__:fn.prototype}),t.push(r)}}if(n.nodes&&(n.nodes=e.nodes.map((e=>wn(e,t)))),n.source){let{inputId:e,...r}=n.source;n.source=r,null!=e&&(n.source.input=t[e])}if("root"===n.type)return new vn(n);if("decl"===n.type)return new pn(n);if("rule"===n.type)return new bn(n);if("comment"===n.type)return new mn(n);if("atrule"===n.type)return new gn(n);throw new Error("Unknown node type: "+e.type)}var Sn=wn;wn.default=wn;let Tn=pe,In=Me,Cn=Qr,xn=At,Rn=dn,En=we,An=Sn,kn=Dt,On=_t,Mn=mt,Nn=ur,Dn=jt,Pn=tt,_n=Dr,Fn=yr,Ln=Sr,jn=mr,Un=Ae;function Bn(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new Rn(e)}Bn.plugin=function(e,t){let r,n=!1;function i(...r){console&&console.warn&&!n&&(n=!0,{NODE_ENV:"production"}.LANG&&{NODE_ENV:"production"}.LANG.startsWith("cn"));let i=t(...r);return i.postcssPlugin=e,i.postcssVersion=(new Rn).version,i}return Object.defineProperty(i,"postcss",{get(){return r||(r=i()),r}}),i.process=function(e,t,r){return Bn([i(r)]).process(e,t)},i},Bn.stringify=En,Bn.parse=_n,Bn.fromJSON=An,Bn.list=Fn,Bn.comment=e=>new Mn(e),Bn.atRule=e=>new Nn(e),Bn.decl=e=>new In(e),Bn.rule=e=>new Ln(e),Bn.root=e=>new jn(e),Bn.document=e=>new kn(e),Bn.CssSyntaxError=Tn,Bn.Declaration=In,Bn.Container=xn,Bn.Processor=Rn,Bn.Document=kn,Bn.Comment=Mn,Bn.Warning=On,Bn.AtRule=Nn,Bn.Result=Dn,Bn.Input=Pn,Bn.Rule=Ln,Bn.Root=jn,Bn.Node=Un,Cn.registerPostcss(Bn);var zn=Bn;Bn.default=Bn;const Hn=ne(zn);Hn.stringify,Hn.fromJSON,Hn.plugin,Hn.parse,Hn.list,Hn.document,Hn.comment,Hn.atRule,Hn.rule,Hn.decl,Hn.root,Hn.CssSyntaxError,Hn.Declaration,Hn.Container,Hn.Processor,Hn.Document,Hn.Comment,Hn.Warning,Hn.AtRule,Hn.Result,Hn.Input,Hn.Rule,Hn.Root,Hn.Node;var Gn=Object.defineProperty,Kn=(e,t,r)=>((e,t,r)=>t in e?Gn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);Object.defineProperty;function Vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Xn(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var Wn={exports:{}},Zn=String,Yn=function(){return{isColorSupported:!1,reset:Zn,bold:Zn,dim:Zn,italic:Zn,underline:Zn,inverse:Zn,hidden:Zn,strikethrough:Zn,black:Zn,red:Zn,green:Zn,yellow:Zn,blue:Zn,magenta:Zn,cyan:Zn,white:Zn,gray:Zn,bgBlack:Zn,bgRed:Zn,bgGreen:Zn,bgYellow:Zn,bgBlue:Zn,bgMagenta:Zn,bgCyan:Zn,bgWhite:Zn}};Wn.exports=Yn(),Wn.exports.createColors=Yn;var qn=Wn.exports;const Jn=Xn(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let $n=qn,Qn=Jn,ei=class e extends Error{constructor(t,r,n,i,s,o){super(t),this.name="CssSyntaxError",this.reason=t,s&&(this.file=s),i&&(this.source=i),o&&(this.plugin=o),void 0!==r&&void 0!==n&&("number"==typeof r?(this.line=r,this.column=n):(this.line=r.line,this.column=r.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=$n.isColorSupported),Qn&&e&&(t=Qn(t));let r,n,i=t.split(/\r?\n/),s=Math.max(this.line-3,0),o=Math.min(this.line+2,i.length),a=String(o).length;if(e){let{bold:e,gray:t,red:i}=$n.createColors(!0);r=t=>e(i(t)),n=e=>t(e)}else r=n=e=>e;return i.slice(s,o).map(((e,t)=>{let i=s+1+t,o=" "+(" "+i).slice(-a)+" | ";if(i===this.line){let t=n(o.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+n(o)+e+"\n "+t+r("^")}return" "+n(o)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}};var ti=ei;ei.default=ei;var ri={};ri.isClean=Symbol("isClean"),ri.my=Symbol("my");const ni={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let ii=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{let i=(e.raws.between||"")+(t?";":"");this.builder(r+n+i,e)}}beforeAfter(e,t){let r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let n=e.parent,i=0;for(;n&&"root"!==n.type;)i+=1,n=n.parent;if(r.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)r+=t}return r}block(e,t){let r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let r=this.raw(e,"semicolon");for(let n=0;n<e.nodes.length;n++){let i=e.nodes[n],s=this.raw(i,"before");s&&this.builder(s),this.stringify(i,t!==n||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(e,t,r){let n;if(r||(r=t),t&&(n=e.raws[t],void 0!==n))return n;let i=e.parent;if("before"===r){if(!i||"root"===i.type&&i.first===e)return"";if(i&&"document"===i.type)return""}if(!i)return ni[r];let s=e.root();if(s.rawCache||(s.rawCache={}),void 0!==s.rawCache[r])return s.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{let i="raw"+((o=r)[0].toUpperCase()+o.slice(1));this[i]?n=this[i](s,e):s.walk((e=>{if(n=e.raws[t],void 0!==n)return!1}))}var o;return void 0===n&&(n=ni[r]),s.rawCache[r]=n,n}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments((e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls((e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1})),t}rawBeforeRule(e){let t;return e.walk((r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return t=r.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((r=>{let n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){let e=r.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1})),t}rawValue(e,t){let r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var si=ii;ii.default=ii;let oi=si;function ai(e,t){new oi(t).stringify(e)}var ci=ai;ai.default=ai;let{isClean:li,my:ui}=ri,hi=ti,di=si,pi=ci;function fi(e,t){let r=new e.constructor;for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;if("proxyCache"===n)continue;let i=e[n],s=typeof i;"parent"===n&&"object"===s?t&&(r[n]=t):"source"===n?r[n]=i:Array.isArray(i)?r[n]=i.map((e=>fi(e,r))):("object"===s&&null!==i&&(i=fi(i)),r[n]=i)}return r}let mi=class{constructor(e={}){this.raws={},this[li]=!1,this[ui]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let r of e[t])"function"==typeof r.clone?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=fi(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:n}=this.rangeBy(t);return this.source.input.error(e,{column:n.column,line:n.line},{column:r.column,line:r.line},t)}return new hi(e)}getProxyProcessor(){return{get(e,t){return"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0}}}markDirty(){if(this[li]){this[li]=!1;let e=this;for(;e=e.parent;)e[li]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){let n=(t=this.toString()).indexOf(e.word);-1!==n&&(r=this.positionInside(n,t))}return r}positionInside(e,t){let r=t||this.toString(),n=this.source.start.column,i=this.source.start.line;for(let t=0;t<e;t++)"\n"===r[t]?(n=1,i+=1):n+=1;return{column:n,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.toString(),i=n.indexOf(e.word);-1!==i&&(t=this.positionInside(i,n),r=this.positionInside(i+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return(new di).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let n of e)n===this?r=!0:r?(this.parent.insertAfter(t,n),t=n):this.parent.insertBefore(t,n);r||this.remove()}return this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){let r={},n=null==t;t=t||new Map;let i=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e))continue;if("parent"===e||"proxyCache"===e)continue;let n=this[e];if(Array.isArray(n))r[e]=n.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof n&&n.toJSON)r[e]=n.toJSON(null,t);else if("source"===e){let s=t.get(n.input);null==s&&(s=i,t.set(n.input,i),i++),r[e]={end:n.end,inputId:s,start:n.start}}else r[e]=n}return n&&(r.inputs=[...t.keys()].map((e=>e.toJSON()))),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=pi){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}warn(e,t,r){let n={node:this};for(let e in r)n[e]=r[e];return e.warn(t,n)}get proxyOf(){return this}};var gi=mi;mi.default=mi;let yi=gi,vi=class extends yi{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};var bi=vi;vi.default=vi;var wi={nanoid:(e=21)=>{let t="",r=e;for(;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(r=t)=>{let n="",i=r;for(;i--;)n+=e[Math.random()*e.length|0];return n}};let{SourceMapConsumer:Si,SourceMapGenerator:Ti}=Jn,{existsSync:Ii,readFileSync:Ci}=Jn,{dirname:xi,join:Ri}=Jn;let Ei=class{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,n=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=xi(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new Si(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var t;let r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}loadFile(e){if(this.root=xi(e),Ii(e))return this.mapFile=e,Ci(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof Si)return Ti.fromSourceMap(t).toString();if(t instanceof Ti)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let r=t(e);if(r){let e=this.loadFile(r);if(!e)throw new Error("Unable to load previous source map: "+r.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=Ri(xi(e),t)),this.loadFile(t)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var Ai=Ei;Ei.default=Ei;let{SourceMapConsumer:ki,SourceMapGenerator:Oi}=Jn,{fileURLToPath:Mi,pathToFileURL:Ni}=Jn,{isAbsolute:Di,resolve:Pi}=Jn,{nanoid:_i}=wi,Fi=Jn,Li=ti,ji=Ai,Ui=Symbol("fromOffsetCache"),Bi=Boolean(ki&&Oi),zi=Boolean(Pi&&Di),Hi=class{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!zi||/^\w+:\/\//.test(t.from)||Di(t.from)?this.file=t.from:this.file=Pi(t.from)),zi&&Bi){let e=new ji(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+_i(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,n={}){let i,s,o;if(t&&"object"==typeof t){let e=t,n=r;if("number"==typeof e.offset){let n=this.fromOffset(e.offset);t=n.line,r=n.col}else t=e.line,r=e.column;if("number"==typeof n.offset){let e=this.fromOffset(n.offset);s=e.line,o=e.col}else s=n.line,o=n.column}else if(!r){let e=this.fromOffset(t);t=e.line,r=e.col}let a=this.origin(t,r,s,o);return i=a?new Li(e,void 0===a.endLine?a.line:{column:a.column,line:a.line},void 0===a.endLine?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,n.plugin):new Li(e,void 0===s?t:{column:r,line:t},void 0===s?r:{column:o,line:s},this.css,this.file,n.plugin),i.input={column:r,endColumn:o,endLine:s,line:t,source:this.css},this.file&&(Ni&&(i.input.url=Ni(this.file).toString()),i.input.file=this.file),i}fromOffset(e){let t,r;if(this[Ui])r=this[Ui];else{let e=this.css.split("\n");r=new Array(e.length);let t=0;for(let n=0,i=e.length;n<i;n++)r[n]=t,t+=e[n].length+1;this[Ui]=r}t=r[r.length-1];let n=0;if(e>=t)n=r.length-1;else{let t,i=r.length-2;for(;n<i;)if(t=n+(i-n>>1),e<r[t])i=t-1;else{if(!(e>=r[t+1])){n=t;break}n=t+1}}return{col:e-r[n]+1,line:n+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Pi(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,n){if(!this.map)return!1;let i,s,o=this.map.consumer(),a=o.originalPositionFor({column:t,line:e});if(!a.source)return!1;"number"==typeof r&&(i=o.originalPositionFor({column:n,line:r})),s=Di(a.source)?Ni(a.source):new URL(a.source,this.map.consumer().sourceRoot||Ni(this.map.mapFile));let c={column:a.column,endColumn:i&&i.column,endLine:i&&i.line,line:a.line,url:s.toString()};if("file:"===s.protocol){if(!Mi)throw new Error("file: protocol is not available in this PostCSS build");c.file=Mi(s)}let l=o.sourceContentFor(a.source);return l&&(c.source=l),c}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Gi=Hi;Hi.default=Hi,Fi&&Fi.registerInput&&Fi.registerInput(Hi);let{SourceMapConsumer:Ki,SourceMapGenerator:Vi}=Jn,{dirname:Xi,relative:Wi,resolve:Zi,sep:Yi}=Jn,{pathToFileURL:qi}=Jn,Ji=Gi,$i=Boolean(Ki&&Vi),Qi=Boolean(Xi&&Zi&&Wi&&Yi);var es=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.originalCSS=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t,r=this.toUrl(this.path(e.file)),n=e.root||Xi(e.file);!1===this.mapOpts.sourcesContent?(t=new Ki(e.text),t.sourcesContent&&(t.sourcesContent=null)):t=e.consumer(),this.map.applySourceMap(t,r,this.toUrl(this.path(n)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),Qi&&$i&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Vi.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Vi({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Vi({file:this.outputFile(),ignoreInvalidMapping:!0});let e,t,r=1,n=1,i="<no source>",s={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((o,a,c)=>{if(this.css+=o,a&&"end"!==c&&(s.generated.line=r,s.generated.column=n-1,a.source&&a.source.start?(s.source=this.sourcePath(a),s.original.line=a.source.start.line,s.original.column=a.source.start.column-1,this.map.addMapping(s)):(s.source=i,s.original.line=1,s.original.column=0,this.map.addMapping(s))),e=o.match(/\n/g),e?(r+=e.length,t=o.lastIndexOf("\n"),n=o.length-t):n+=o.length,a&&"start"!==c){let e=a.parent||{raws:{}};("decl"===a.type||"atrule"===a.type&&!a.nodes)&&a===e.last&&!e.raws.semicolon||(a.source&&a.source.end?(s.source=this.sourcePath(a),s.original.line=a.source.end.line,s.original.column=a.source.end.column-1,s.generated.line=r,s.generated.column=n-2,this.map.addMapping(s)):(s.source=i,s.original.line=1,s.original.column=0,s.generated.line=r,s.generated.column=n-1,this.map.addMapping(s)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?Xi(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(r=Xi(Zi(r,this.mapOpts.annotation)));let n=Wi(r,e);return this.memoizedPaths.set(e,n),n}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new Ji(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(qi){let t=qi(e).toString();return this.memoizedFileURLs.set(e,t),t}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;"\\"===Yi&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};let ts=gi,rs=class extends ts{constructor(e){super(e),this.type="comment"}};var ns=rs;rs.default=rs;let is,ss,os,as,{isClean:cs,my:ls}=ri,us=bi,hs=ns,ds=gi;function ps(e){return e.map((e=>(e.nodes&&(e.nodes=ps(e.nodes)),delete e.source,e)))}function fs(e){if(e[cs]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)fs(t)}let ms=class e extends ds{append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t,r,n=this.getIterator();for(;this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],r=e(this.proxyOf.nodes[t],t),!1!==r);)this.indexes[n]+=1;return delete this.indexes[n],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...r)=>e[t](...r.map((e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e))):"every"===t||"some"===t?r=>e[t](((e,...t)=>r(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0}}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r,n=this.index(e),i=this.normalize(t,this.proxyOf.nodes[n]).reverse();n=this.index(e);for(let e of i)this.proxyOf.nodes.splice(n+1,0,e);for(let e in this.indexes)r=this.indexes[e],n<r&&(this.indexes[e]=r+i.length);return this.markDirty(),this}insertBefore(e,t){let r,n=this.index(e),i=0===n&&"prepend",s=this.normalize(t,this.proxyOf.nodes[n],i).reverse();n=this.index(e);for(let e of s)this.proxyOf.nodes.splice(n,0,e);for(let e in this.indexes)r=this.indexes[e],n<=r&&(this.indexes[e]=r+s.length);return this.markDirty(),this}normalize(t,r){if("string"==typeof t)t=ps(is(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t)){t=t.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if("root"===t.type&&"document"!==this.type){t=t.nodes.slice(0);for(let e of t)e.parent&&e.parent.removeChild(e,"ignore")}else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new us(t)]}else if(t.selector)t=[new ss(t)];else if(t.name)t=[new os(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new hs(t)]}return t.map((t=>(t[ls]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[cs]&&fs(t),void 0===t.raws.before&&r&&void 0!==r.raws.before&&(t.raws.before=r.raws.before.replace(/\S/g,"")),t.parent=this.proxyOf,t)))}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls((n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,r)=>{let n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("atrule"===r.type&&e.test(r.name))return t(r,n)})):this.walk(((r,n)=>{if("atrule"===r.type&&r.name===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("atrule"===e.type)return t(e,r)})))}walkComments(e){return this.walk(((t,r)=>{if("comment"===t.type)return e(t,r)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("decl"===r.type&&e.test(r.prop))return t(r,n)})):this.walk(((r,n)=>{if("decl"===r.type&&r.prop===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("decl"===e.type)return t(e,r)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("rule"===r.type&&e.test(r.selector))return t(r,n)})):this.walk(((r,n)=>{if("rule"===r.type&&r.selector===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("rule"===e.type)return t(e,r)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};ms.registerParse=e=>{is=e},ms.registerRule=e=>{ss=e},ms.registerAtRule=e=>{os=e},ms.registerRoot=e=>{as=e};var gs=ms;ms.default=ms,ms.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,os.prototype):"rule"===e.type?Object.setPrototypeOf(e,ss.prototype):"decl"===e.type?Object.setPrototypeOf(e,us.prototype):"comment"===e.type?Object.setPrototypeOf(e,hs.prototype):"root"===e.type&&Object.setPrototypeOf(e,as.prototype),e[ls]=!0,e.nodes&&e.nodes.forEach((e=>{ms.rebuild(e)}))};let ys,vs,bs=gs,ws=class extends bs{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new ys(new vs,this,e).stringify()}};ws.registerLazyResult=e=>{ys=e},ws.registerProcessor=e=>{vs=e};var Ss=ws;ws.default=ws;let Ts=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Is=Ts;Ts.default=Ts;let Cs=Is,xs=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new Cs(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}};var Rs=xs;xs.default=xs;const Es="'".charCodeAt(0),As='"'.charCodeAt(0),ks="\\".charCodeAt(0),Os="/".charCodeAt(0),Ms="\n".charCodeAt(0),Ns=" ".charCodeAt(0),Ds="\f".charCodeAt(0),Ps="\t".charCodeAt(0),_s="\r".charCodeAt(0),Fs="[".charCodeAt(0),Ls="]".charCodeAt(0),js="(".charCodeAt(0),Us=")".charCodeAt(0),Bs="{".charCodeAt(0),zs="}".charCodeAt(0),Hs=";".charCodeAt(0),Gs="*".charCodeAt(0),Ks=":".charCodeAt(0),Vs="@".charCodeAt(0),Xs=/[\t\n\f\r "#'()/;[\\\]{}]/g,Ws=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Zs=/.[\r\n"'(/\\]/,Ys=/[\da-f]/i;let qs=gs,Js=class extends qs{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var $s=Js;Js.default=Js,qs.registerAtRule(Js);let Qs,eo,to=gs,ro=class extends to{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let n=super.normalize(e);if(t)if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of n)e.raws.before=t.raws.before;return n}removeChild(e,t){let r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new Qs(new eo,this,e).stringify()}};ro.registerLazyResult=e=>{Qs=e},ro.registerProcessor=e=>{eo=e};var no=ro;ro.default=ro,to.registerRoot(ro);let io={comma(e){return io.split(e,[","],!0)},space(e){return io.split(e,[" ","\n","\t"])},split(e,t,r){let n=[],i="",s=!1,o=0,a=!1,c="",l=!1;for(let r of e)l?l=!1:"\\"===r?l=!0:a?r===c&&(a=!1):'"'===r||"'"===r?(a=!0,c=r):"("===r?o+=1:")"===r?o>0&&(o-=1):0===o&&t.includes(r)&&(s=!0),s?(""!==i&&n.push(i.trim()),i="",s=!1):i+=r;return(r||""!==i)&&n.push(i.trim()),n}};var so=io;io.default=io;let oo=gs,ao=so,co=class extends oo{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return ao.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var lo=co;co.default=co,oo.registerRule(co);let uo=bi,ho=function(e,t={}){let r,n,i,s,o,a,c,l,u,h,d=e.css.valueOf(),p=t.ignoreErrors,f=d.length,m=0,g=[],y=[];function v(t){throw e.error("Unclosed "+t,m)}return{back:function(e){y.push(e)},endOfFile:function(){return 0===y.length&&m>=f},nextToken:function(e){if(y.length)return y.pop();if(m>=f)return;let t=!!e&&e.ignoreUnclosed;switch(r=d.charCodeAt(m),r){case Ms:case Ns:case Ps:case _s:case Ds:n=m;do{n+=1,r=d.charCodeAt(n)}while(r===Ns||r===Ms||r===Ps||r===_s||r===Ds);h=["space",d.slice(m,n)],m=n-1;break;case Fs:case Ls:case Bs:case zs:case Ks:case Hs:case Us:{let e=String.fromCharCode(r);h=[e,e,m];break}case js:if(l=g.length?g.pop()[1]:"",u=d.charCodeAt(m+1),"url"===l&&u!==Es&&u!==As&&u!==Ns&&u!==Ms&&u!==Ps&&u!==Ds&&u!==_s){n=m;do{if(a=!1,n=d.indexOf(")",n+1),-1===n){if(p||t){n=m;break}v("bracket")}for(c=n;d.charCodeAt(c-1)===ks;)c-=1,a=!a}while(a);h=["brackets",d.slice(m,n+1),m,n],m=n}else n=d.indexOf(")",m+1),s=d.slice(m,n+1),-1===n||Zs.test(s)?h=["(","(",m]:(h=["brackets",s,m,n],m=n);break;case Es:case As:i=r===Es?"'":'"',n=m;do{if(a=!1,n=d.indexOf(i,n+1),-1===n){if(p||t){n=m+1;break}v("string")}for(c=n;d.charCodeAt(c-1)===ks;)c-=1,a=!a}while(a);h=["string",d.slice(m,n+1),m,n],m=n;break;case Vs:Xs.lastIndex=m+1,Xs.test(d),n=0===Xs.lastIndex?d.length-1:Xs.lastIndex-2,h=["at-word",d.slice(m,n+1),m,n],m=n;break;case ks:for(n=m,o=!0;d.charCodeAt(n+1)===ks;)n+=1,o=!o;if(r=d.charCodeAt(n+1),o&&r!==Os&&r!==Ns&&r!==Ms&&r!==Ps&&r!==_s&&r!==Ds&&(n+=1,Ys.test(d.charAt(n)))){for(;Ys.test(d.charAt(n+1));)n+=1;d.charCodeAt(n+1)===Ns&&(n+=1)}h=["word",d.slice(m,n+1),m,n],m=n;break;default:r===Os&&d.charCodeAt(m+1)===Gs?(n=d.indexOf("*/",m+2)+1,0===n&&(p||t?n=d.length:v("comment")),h=["comment",d.slice(m,n+1),m,n],m=n):(Ws.lastIndex=m+1,Ws.test(d),n=0===Ws.lastIndex?d.length-1:Ws.lastIndex-2,h=["word",d.slice(m,n+1),m,n],g.push(h),m=n)}return m++,h},position:function(){return m}}},po=ns,fo=$s,mo=no,go=lo;const yo={empty:!0,space:!0};let vo=gs,bo=class{constructor(e){this.input=e,this.root=new mo,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t,r,n,i=new fo;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);let s=!1,o=!1,a=[],c=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?c.push("("===t?")":"]"):"{"===t&&c.length>0?c.push("}"):t===c[c.length-1]&&c.pop(),0===c.length){if(";"===t){i.source.end=this.getPosition(e[2]),i.source.end.offset++,this.semicolon=!0;break}if("{"===t){o=!0;break}if("}"===t){if(a.length>0){for(n=a.length-1,r=a[n];r&&"space"===r[0];)r=a[--n];r&&(i.source.end=this.getPosition(r[3]||r[2]),i.source.end.offset++)}this.end(e);break}a.push(e)}else a.push(e);if(this.tokenizer.endOfFile()){s=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(i.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(i,"params",a),s&&(e=a[a.length-1],i.source.end=this.getPosition(e[3]||e[2]),i.source.end.offset++,this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),o&&(i.nodes=[],this.current=i)}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let r,n=0;for(let i=t-1;i>=0&&(r=e[i],"space"===r[0]||(n+=1,2!==n));i--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}colon(e){let t,r,n,i=0;for(let[s,o]of e.entries()){if(t=o,r=t[0],"("===r&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return s}this.doubleColon(t)}n=t}return!1}comment(e){let t=new po;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let e=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}createTokenizer(){this.tokenizer=ho(this.input)}decl(e,t){let r=new uo;this.init(r,e[0][2]);let n,i=e[e.length-1];for(";"===i[0]&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||function(e){for(let t=e.length-1;t>=0;t--){let r=e[t],n=r[3]||r[2];if(n)return n}}(e)),r.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;r.prop+=e.shift()[1]}for(r.raws.between="";e.length;){if(n=e.shift(),":"===n[0]){r.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s,o=[];for(;e.length&&(s=e[0][0],"space"===s||"comment"===s);)o.push(e.shift());this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if(n=e[t],"!important"===n[1].toLowerCase()){r.important=!0;let n=this.stringFrom(e,t);n=this.spacesFromEnd(e)+n," !important"!==n&&(r.raws.important=n);break}if("important"===n[1].toLowerCase()){let n=e.slice(0),i="";for(let e=t;e>0;e--){let t=n[e][0];if(0===i.trim().indexOf("!")&&"space"!==t)break;i=n.pop()[1]+i}0===i.trim().indexOf("!")&&(r.important=!0,r.raws.important=i,e=n)}if("space"!==n[0]&&"comment"!==n[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(r.raws.between+=o.map((e=>e[1])).join(""),o=[]),this.raw(r,"value",o.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new go;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){let t=!1,r=null,n=!1,i=null,s=[],o=e[1].startsWith("--"),a=[],c=e;for(;c;){if(r=c[0],a.push(c),"("===r||"["===r)i||(i=c),s.push("("===r?")":"]");else if(o&&n&&"{"===r)i||(i=c),s.push("}");else if(0===s.length){if(";"===r){if(n)return void this.decl(a,o);break}if("{"===r)return void this.rule(a);if("}"===r){this.tokenizer.back(a.pop()),t=!0;break}":"===r&&(n=!0)}else r===s[s.length-1]&&(s.pop(),0===s.length&&(i=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),s.length>0&&this.unclosedBracket(i),t&&n){if(!o)for(;a.length&&(c=a[a.length-1][0],"space"===c||"comment"===c);)this.tokenizer.back(a.pop());this.decl(a,o)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,n){let i,s,o,a,c=r.length,l="",u=!0;for(let e=0;e<c;e+=1)i=r[e],s=i[0],"space"!==s||e!==c-1||n?"comment"===s?(a=r[e-1]?r[e-1][0]:"empty",o=r[e+1]?r[e+1][0]:"empty",yo[a]||yo[o]||","===l.slice(-1)?u=!1:l+=i[1]):l+=i[1]:u=!1;if(!u){let n=r.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:n,value:l}}e[t]=l}rule(e){e.pop();let t=new go;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}},wo=Gi;function So(e,t){let r=new wo(e,t),n=new bo(r);try{n.parse()}catch(e){throw e}return n.root}var To=So;So.default=So,vo.registerParse(So);let{isClean:Io,my:Co}=ri,xo=es,Ro=ci,Eo=gs,Ao=Ss,ko=Rs,Oo=To,Mo=no;const No={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Do={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Po={Once:!0,postcssPlugin:!0,prepare:!0},_o=0;function Fo(e){return"object"==typeof e&&"function"==typeof e.then}function Lo(e){let t=!1,r=No[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,_o,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,_o,r+"Exit"]:[r,r+"Exit"]}function jo(e){let t;return t="document"===e.type?["Document",_o,"DocumentExit"]:"root"===e.type?["Root",_o,"RootExit"]:Lo(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function Uo(e){return e[Io]=!1,e.nodes&&e.nodes.forEach((e=>Uo(e))),e}let Bo={},zo=class e{constructor(t,r,n){let i;if(this.stringified=!1,this.processed=!1,"object"!=typeof r||null===r||"root"!==r.type&&"document"!==r.type)if(r instanceof e||r instanceof ko)i=Uo(r.root),r.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=r.map);else{let e=Oo;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{i=e(r,n)}catch(e){this.processed=!0,this.error=e}i&&!i[Co]&&Eo.rebuild(i)}else i=Uo(r);this.result=new ko(t,i,n),this.helpers={...Bo,postcss:Bo,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?r.postcssVersion:(e.plugin=r.postcssPlugin,e.setMessage())}catch(e){console&&console.error}return e}prepareVisitors(){this.listeners={};let e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(let t of this.plugins)if("object"==typeof t)for(let r in t){if(!Do[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Po[r])if("object"==typeof t[r])for(let n in t[r])e(t,"*"===n?r:r+"-"+n.toLowerCase(),t[r][n]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(Fo(r))try{await r}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Io];){e[Io]=!0;let t=[jo(e)];for(;t.length>0;){let e=this.visitTick(t);if(Fo(e))try{await e}catch(e){let r=t[t.length-1].node;throw this.handleError(e,r)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map((e=>r(e,this.helpers)));await Promise.all(t)}else await r(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return Fo(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=Ro;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new xo(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(Fo(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Io];)e[Io]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,n]of e){let e;this.result.lastPlugin=r;try{e=n(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(Fo(e))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:n}=t;if("root"!==r.type&&"document"!==r.type&&!r.parent)return void e.pop();if(n.length>0&&t.visitorIndex<n.length){let[e,i]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return i(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){let n,i=t.iterator;for(;n=r.nodes[r.indexes[i]];)if(r.indexes[i]+=1,!n[Io])return n[Io]=!0,void e.push(jo(n));t.iterator=0,delete r.indexes[i]}let i=t.events;for(;t.eventIndex<i.length;){let e=i[t.eventIndex];if(t.eventIndex+=1,e===_o)return void(r.nodes&&r.nodes.length&&(r[Io]=!0,t.iterator=r.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}walkSync(e){e[Io]=!0;let t=Lo(e);for(let r of t)if(r===_o)e.nodes&&e.each((e=>{e[Io]||this.walkSync(e)}));else{let t=this.listeners[r];if(t&&this.visitSync(t,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};zo.registerPostcss=e=>{Bo=e};var Ho=zo;zo.default=zo,Mo.registerLazyResult(zo),Ao.registerLazyResult(zo);let Go=es,Ko=ci,Vo=To;const Xo=Rs;let Wo=class{constructor(e,t,r){let n;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let i=Ko;this.result=new Xo(this._processor,n,this._opts),this.result.css=t;let s=this;Object.defineProperty(this.result,"root",{get(){return s.root}});let o=new Go(i,n,this._opts,t);if(o.isMap()){let[e,t]=o.generate();e&&(this.result.css=e),t&&(this.result.map=t)}else o.clearAnnotation(),this.result.css=o.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=Vo;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var Zo=Wo;Wo.default=Wo;let Yo=Zo,qo=Ho,Jo=Ss,$o=no,Qo=class{constructor(e=[]){this.version="8.4.38",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else{if("object"!=typeof r||!r.parse&&!r.stringify)throw new Error(r+" is not a PostCSS plugin")}return t}process(e,t={}){return this.plugins.length||t.parser||t.stringifier||t.syntax?new qo(this,e,t):new Yo(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var ea=Qo;Qo.default=Qo,$o.registerProcessor(Qo),Jo.registerProcessor(Qo);let ta=bi,ra=Ai,na=ns,ia=$s,sa=Gi,oa=no,aa=lo;function ca(e,t){if(Array.isArray(e))return e.map((e=>ca(e)));let{inputs:r,...n}=e;if(r){t=[];for(let e of r){let r={...e,__proto__:sa.prototype};r.map&&(r.map={...r.map,__proto__:ra.prototype}),t.push(r)}}if(n.nodes&&(n.nodes=e.nodes.map((e=>ca(e,t)))),n.source){let{inputId:e,...r}=n.source;n.source=r,null!=e&&(n.source.input=t[e])}if("root"===n.type)return new oa(n);if("decl"===n.type)return new ta(n);if("rule"===n.type)return new aa(n);if("comment"===n.type)return new na(n);if("atrule"===n.type)return new ia(n);throw new Error("Unknown node type: "+e.type)}var la=ca;ca.default=ca;let ua=ti,ha=bi,da=Ho,pa=gs,fa=ea,ma=ci,ga=la,ya=Ss,va=Is,ba=ns,wa=$s,Sa=Rs,Ta=Gi,Ia=To,Ca=so,xa=lo,Ra=no,Ea=gi;function Aa(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new fa(e)}Aa.plugin=function(e,t){let r,n=!1;function i(...r){console&&console.warn&&!n&&(n=!0,{NODE_ENV:"production"}.LANG&&{NODE_ENV:"production"}.LANG.startsWith("cn"));let i=t(...r);return i.postcssPlugin=e,i.postcssVersion=(new fa).version,i}return Object.defineProperty(i,"postcss",{get(){return r||(r=i()),r}}),i.process=function(e,t,r){return Aa([i(r)]).process(e,t)},i},Aa.stringify=ma,Aa.parse=Ia,Aa.fromJSON=ga,Aa.list=Ca,Aa.comment=e=>new ba(e),Aa.atRule=e=>new wa(e),Aa.decl=e=>new ha(e),Aa.rule=e=>new xa(e),Aa.root=e=>new Ra(e),Aa.document=e=>new ya(e),Aa.CssSyntaxError=ua,Aa.Declaration=ha,Aa.Container=pa,Aa.Processor=fa,Aa.Document=ya,Aa.Comment=ba,Aa.Warning=va,Aa.AtRule=wa,Aa.Result=Sa,Aa.Input=Ta,Aa.Rule=xa,Aa.Root=Ra,Aa.Node=Ea,da.registerPostcss(Aa);var ka=Aa;Aa.default=Aa;const Oa=Vn(ka);Oa.stringify,Oa.fromJSON,Oa.plugin,Oa.parse,Oa.list,Oa.document,Oa.comment,Oa.atRule,Oa.rule,Oa.decl,Oa.root,Oa.CssSyntaxError,Oa.Declaration,Oa.Container,Oa.Processor,Oa.Document,Oa.Comment,Oa.Warning,Oa.AtRule,Oa.Result,Oa.Input,Oa.Rule,Oa.Root,Oa.Node;class Ma{constructor(...e){Kn(this,"parentElement",null),Kn(this,"parentNode",null),Kn(this,"ownerDocument"),Kn(this,"firstChild",null),Kn(this,"lastChild",null),Kn(this,"previousSibling",null),Kn(this,"nextSibling",null),Kn(this,"ELEMENT_NODE",1),Kn(this,"TEXT_NODE",3),Kn(this,"nodeType"),Kn(this,"nodeName"),Kn(this,"RRNodeType")}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(!(e instanceof Ma))return!1;if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}const Na={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Da={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Pa={},_a=()=>!!globalThis.Zone;function Fa(e){if(Pa[e])return Pa[e];const t=globalThis[e],r=t.prototype,n=e in Na?Na[e]:void 0,i=Boolean(n&&n.every((e=>{var t,n;return Boolean(null==(n=null==(t=Object.getOwnPropertyDescriptor(r,e))?void 0:t.get)?void 0:n.toString().includes("[native code]"))}))),s=e in Da?Da[e]:void 0,o=Boolean(s&&s.every((e=>{var t;return"function"==typeof r[e]&&(null==(t=r[e])?void 0:t.toString().includes("[native code]"))})));if(i&&o&&!_a())return Pa[e]=t.prototype,t.prototype;try{const n=document.createElement("iframe");document.body.appendChild(n);const i=n.contentWindow;if(!i)return t.prototype;const s=i[e].prototype;return document.body.removeChild(n),s?Pa[e]=s:r}catch{return r}}const La={};function ja(e,t,r){var n;const i=`${e}.${String(r)}`;if(La[i])return La[i].call(t);const s=Fa(e),o=null==(n=Object.getOwnPropertyDescriptor(s,r))?void 0:n.get;return o?(La[i]=o,o.call(t)):t[r]}const Ua={};function Ba(e,t,r){const n=`${e}.${String(r)}`;if(Ua[n])return Ua[n].bind(t);const i=Fa(e)[r];return"function"!=typeof i?t[r]:(Ua[n]=i,i.bind(t))}function za(){return Fa("MutationObserver").constructor}const Ha={childNodes:function(e){return ja("Node",e,"childNodes")},parentNode:function(e){return ja("Node",e,"parentNode")},parentElement:function(e){return ja("Node",e,"parentElement")},textContent:function(e){return ja("Node",e,"textContent")},contains:function(e,t){return Ba("Node",e,"contains")(t)},getRootNode:function(e){return Ba("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?ja("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?ja("Element",e,"shadowRoot"):null},querySelector:function(e,t){return ja("Element",e,"querySelector")(t)},querySelectorAll:function(e,t){return ja("Element",e,"querySelectorAll")(t)},mutationObserver:za};function Ga(e,t,r=document){const n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}let Ka={map:{},getId(){return-1},getNode(){return null},removeNodeFromMap(){},has(){return!1},reset(){}};function Va(e,t,r={}){let n=null,i=0;return function(...s){const o=Date.now();i||!1!==r.leading||(i=o);const a=t-(o-i),c=this;a<=0||a>t?(n&&(clearTimeout(n),n=null),i=o,e.apply(c,s)):n||!1===r.trailing||(n=setTimeout((()=>{i=!1===r.leading?0:Date.now(),n=null,e.apply(c,s)}),a))}}function Xa(e,t,r,n,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,n?r:{set(e){setTimeout((()=>{r.set.call(this,e)}),0),s&&s.set&&s.set.call(this,e)}}),()=>Xa(e,t,s||{},!0)}function Wa(e,t,r){try{if(!(t in e))return()=>{};const n=e[t],i=r(n);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=i,()=>{e[t]=n}}catch{return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Ka=new Proxy(Ka,{get(e,t,r){return Reflect.get(e,t,r)}}));let Za=Date.now;function Ya(e){var t,r,n,i;const s=e.document;return{left:s.scrollingElement?s.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:s.documentElement.scrollLeft||(null==s?void 0:s.body)&&(null==(t=Ha.parentElement(s.body))?void 0:t.scrollLeft)||(null==(r=null==s?void 0:s.body)?void 0:r.scrollLeft)||0,top:s.scrollingElement?s.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==s?void 0:s.documentElement.scrollTop)||(null==s?void 0:s.body)&&(null==(n=Ha.parentElement(s.body))?void 0:n.scrollTop)||(null==(i=null==s?void 0:s.body)?void 0:i.scrollTop)||0}}function qa(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ja(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function $a(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:Ha.parentElement(e)}function Qa(e,t,r,n){if(!e)return!1;const i=$a(e);if(!i)return!1;try{if("string"==typeof t){if(i.classList.contains(t))return!0;if(n&&null!==i.closest("."+t))return!0}else if($(i,t,n))return!0}catch(e){}if(r){if(i.matches(r))return!0;if(n&&null!==i.closest(r))return!0}return!1}function ec(e,t){return-1!==t.getId(e)}function tc(e,t,r){return!("TITLE"!==e.tagName||!r.headTitleMutations)||t.getId(e)===B}function rc(e,t){if(w(e))return!1;const r=t.getId(e);if(!t.has(r))return!0;const n=Ha.parentNode(e);return(!n||n.nodeType!==e.DOCUMENT_NODE)&&(!n||rc(n,t))}function nc(e){return Boolean(e.changedTouches)}function ic(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function sc(e){const t={},r=(e,r)=>{const n={value:e,parent:r,children:[]};return t[e.node.id]=n,n},n=[];for(const i of e){const{nextId:e,parentId:s}=i;if(e&&e in t){const s=t[e];if(s.parent){const e=s.parent.children.indexOf(s);s.parent.children.splice(e,0,r(i,s.parent))}else{const e=n.indexOf(s);n.splice(e,0,r(i,null))}}else if(s in t){const e=t[s];e.children.push(r(i,e))}else n.push(r(i,null))}return n}function oc(e,t){t(e.value);for(let r=e.children.length-1;r>=0;r--)oc(e.children[r],t)}function ac(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function cc(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function lc(e,t){var r,n;const i=null==(n=null==(r=e.ownerDocument)?void 0:r.defaultView)?void 0:n.frameElement;if(!i||i===t)return{x:0,y:0,relativeScale:1,absoluteScale:1};const s=i.getBoundingClientRect(),o=lc(i,t),a=s.height/i.clientHeight;return{x:s.x*o.relativeScale+o.x,y:s.y*o.relativeScale+o.y,relativeScale:a,absoluteScale:o.absoluteScale*a}}function uc(e){return!!e&&(e instanceof Ma&&"shadowRoot"in e?Boolean(e.shadowRoot):Boolean(Ha.shadowRoot(e)))}function hc(e,t){const r=e[t[0]];return 1===t.length?r:hc(r.cssRules[t[1]].cssRules,t.slice(2))}function dc(e){const t=[...e],r=t.pop();return{positions:t,index:r}}function pc(e){const t=new Set,r=[];for(let n=e.length;n--;){const i=e[n];t.has(i.id)||(r.push(i),t.add(i.id))}return r}/[1-9][0-9]{12}/.test(Date.now().toString())||(Za=()=>(new Date).getTime());class fc{constructor(){s(this,"id",1),s(this,"styleIDMap",new WeakMap),s(this,"idStyleMap",new Map)}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let r;return r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function mc(e){var t;let r=null;return"getRootNode"in e&&(null==(t=Ha.getRootNode(e))?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&Ha.host(Ha.getRootNode(e))&&(r=Ha.host(Ha.getRootNode(e))),r}function gc(e){let t,r=e;for(;t=mc(r);)r=t;return r}function yc(e){const t=e.ownerDocument;if(!t)return!1;const r=gc(e);return Ha.contains(t,r)}function vc(e){const t=e.ownerDocument;return!!t&&(Ha.contains(t,e)||yc(e))}Symbol.toStringTag;var bc=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(bc||{}),wc=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(wc||{}),Sc=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Sc||{}),Tc=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Tc||{}),Ic=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Ic||{}),Cc=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Cc||{}),xc=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(xc||{});function Rc(e){return"__ln"in e}class Ec{constructor(){s(this,"length",0),s(this,"head",null),s(this,"tail",null)}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let r=0;r<e;r++)t=(null==t?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Rc(e.previousSibling)){const r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else if(e.nextSibling&&Rc(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Ac=(e,t)=>`${e}@${t}`;class kc{constructor(){s(this,"frozen",!1),s(this,"locked",!1),s(this,"texts",[]),s(this,"attributes",[]),s(this,"attributeMap",new WeakMap),s(this,"removes",[]),s(this,"mapRemoves",[]),s(this,"movedMap",{}),s(this,"addedSet",new Set),s(this,"movedSet",new Set),s(this,"droppedSet",new Set),s(this,"removesSubTreeCache",new Set),s(this,"mutationCb"),s(this,"blockClass"),s(this,"blockSelector"),s(this,"maskTextClass"),s(this,"maskTextSelector"),s(this,"inlineStylesheet"),s(this,"maskInputOptions"),s(this,"maskTextFn"),s(this,"maskInputFn"),s(this,"keepIframeSrcFn"),s(this,"recordCanvas"),s(this,"inlineImages"),s(this,"slimDOMOptions"),s(this,"dataURLOptions"),s(this,"doc"),s(this,"mirror"),s(this,"iframeManager"),s(this,"stylesheetManager"),s(this,"shadowDomManager"),s(this,"canvasManager"),s(this,"processedNodeManager"),s(this,"unattachedDoc"),s(this,"processMutations",(e=>{e.forEach(this.processMutation),this.emit()})),s(this,"emit",(()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,r=new Ec,n=e=>{let t=e,r=B;for(;r===B;)t=t&&t.nextSibling,r=t&&this.mirror.getId(t);return r},i=i=>{const s=Ha.parentNode(i);if(!s||!vc(i))return;let o=!1;if(i.nodeType===Node.TEXT_NODE){const e=s.tagName;if("TEXTAREA"===e)return;"STYLE"===e&&this.addedSet.has(s)&&(o=!0)}const a=w(s)?this.mirror.getId(mc(i)):this.mirror.getId(s),c=n(i);if(-1===a||-1===c)return r.addNode(i);const l=re(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{ac(e,this.mirror)&&this.iframeManager.addIframe(e),cc(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),uc(i)&&this.shadowDomManager.addShadowRoot(Ha.shadowRoot(i),this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)},cssCaptured:o});l&&(e.push({parentId:a,nextId:c,node:l}),t.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)Mc(this.removesSubTreeCache,e,this.mirror)&&!this.movedSet.has(Ha.parentNode(e))||i(e);for(const e of this.addedSet)Nc(this.droppedSet,e)||Mc(this.removesSubTreeCache,e,this.mirror)?Nc(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let s=null;for(;r.length;){let e=null;if(s){const t=this.mirror.getId(Ha.parentNode(s.value)),r=n(s.value);-1!==t&&-1!==r&&(e=s)}if(!e){let t=r.tail;for(;t;){const r=t;if(t=t.previous,r){const t=this.mirror.getId(Ha.parentNode(r.value));if(-1===n(r.value))continue;if(-1!==t){e=r;break}{const t=r.value,n=Ha.parentNode(t);if(n&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const t=Ha.host(n);if(-1!==this.mirror.getId(t)){e=r;break}}}}}}if(!e){for(;r.head;)r.removeNode(r.head.value);break}s=e.previous,r.removeNode(e.value),i(e.value)}const o={texts:this.texts.map((e=>{const t=e.node,r=Ha.parentNode(t);return r&&"TEXTAREA"===r.tagName&&this.genTextAreaValueMutation(r),{id:this.mirror.getId(t),value:e.value}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const r=JSON.stringify(e.styleDiff),n=JSON.stringify(e._unchangedStyles);r.length<t.style.length&&(r+n).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(o))})),s(this,"genTextAreaValueMutation",(e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(Ha.childNodes(e),(e=>Ha.textContent(e)||"")).join("")})),s(this,"processMutation",(e=>{if(!tc(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case"characterData":{const t=Ha.textContent(e.target);Qa(e.target,this.blockClass,this.blockSelector,!1)||t===e.oldValue||this.texts.push({value:Q(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,$a(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let r=e.attributeName,n=e.target.getAttribute(r);if("value"===r){const e=k(t);n=R({element:t,maskInputOptions:this.maskInputOptions,tagName:t.tagName,type:e,value:n,maskInputFn:this.maskInputFn})}if(Qa(e.target,this.blockClass,this.blockSelector,!1)||n===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===r&&!this.keepIframeSrcFn(n)){if(t.contentDocument)return;r="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===r&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!J(t.tagName,r))if(i.attributes[r]=q(this.doc,E(t.tagName),E(r),n),"style"===r){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const r=this.unattachedDoc.createElement("span");e.oldValue&&r.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const n=t.style.getPropertyValue(e),s=t.style.getPropertyPriority(e);n!==r.style.getPropertyValue(e)||s!==r.style.getPropertyPriority(e)?i.styleDiff[e]=""===s?n:[n,s]:i._unchangedStyles[e]=[n,s]}for(const e of Array.from(r.style))""===t.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}else"open"===r&&"DIALOG"===t.tagName&&(t.matches("dialog:modal")?i.attributes.rr_open_mode="modal":i.attributes.rr_open_mode="non-modal");break}case"childList":if(Qa(e.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName)return void this.genTextAreaValueMutation(e.target);e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const r=this.mirror.getId(t),n=w(e.target)?this.mirror.getId(Ha.host(e.target)):this.mirror.getId(e.target);Qa(e.target,this.blockClass,this.blockSelector,!1)||tc(t,this.mirror,this.slimDOMOptions)||!ec(t,this.mirror)||(this.addedSet.has(t)?(Oc(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===r||rc(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Ac(r,n)]?Oc(this.movedSet,t):(this.removes.push({parentId:n,id:r,isShadow:!(!w(e.target)||!S(e.target))||void 0}),function(e,t){const r=[e];for(;r.length;){const e=r.pop();t.has(e)||(t.add(e),Ha.childNodes(e).forEach((e=>r.push(e))))}}(t,this.removesSubTreeCache))),this.mapRemoves.push(t))}))}})),s(this,"genAdds",((e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(tc(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);let r=null;t&&this.mirror.hasNode(t)&&(r=this.mirror.getId(t)),r&&-1!==r&&(this.movedMap[Ac(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Qa(e,this.blockClass,this.blockSelector,!1)||(Ha.childNodes(e).forEach((e=>this.genAdds(e))),uc(e)&&Ha.childNodes(Ha.shadowRoot(e)).forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}))}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Oc(e,t){e.delete(t),Ha.childNodes(t).forEach((t=>Oc(e,t)))}function Mc(e,t,r){return 0!==e.size&&function(e,t,r){const n=Ha.parentNode(t);return!!n&&e.has(n)}(e,t)}function Nc(e,t){return 0!==e.size&&Dc(e,t)}function Dc(e,t){const r=Ha.parentNode(t);return!!r&&(!!e.has(r)||Dc(e,r))}let Pc;const _c=e=>{if(!Pc)return e;return(...t)=>{try{return e(...t)}catch(e){if(Pc&&!0===Pc(e))return;throw e}}},Fc=[];function Lc(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function jc(e,t){const r=new kc;Fc.push(r),r.init(e);const n=new(za())(_c(r.processMutations.bind(r)));return n.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),n}function Uc({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const o=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,a=[];let c=null;return Object.keys(Sc).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==o[e])).forEach((s=>{let o=E(s);const l=(t=>s=>{const o=Lc(s);if(Qa(o,n,i,!0))return;let a=null,l=t;if("pointerType"in s){switch(s.pointerType){case"mouse":a=Tc.Mouse;break;case"touch":a=Tc.Touch;break;case"pen":a=Tc.Pen}a===Tc.Touch?Sc[t]===Sc.MouseDown?l="TouchStart":Sc[t]===Sc.MouseUp&&(l="TouchEnd"):Tc.Pen}else nc(s)&&(a=Tc.Touch);null!==a?(c=a,(l.startsWith("Touch")&&a===Tc.Touch||l.startsWith("Mouse")&&a===Tc.Mouse)&&(a=null)):Sc[t]===Sc.Click&&(a=c,c=null);const u=nc(s)?s.changedTouches[0]:s;if(!u)return;const h=r.getId(o),{clientX:d,clientY:p}=u;_c(e)({type:Sc[l],id:h,x:d,y:p,...null!==a&&{pointerType:a}})})(s);if(window.PointerEvent)switch(Sc[s]){case Sc.MouseDown:case Sc.MouseUp:o=o.replace("mouse","pointer");break;case Sc.TouchStart:case Sc.TouchEnd:return}a.push(Ga(o,l,t))})),_c((()=>{a.forEach((e=>e()))}))}function Bc({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,sampling:s}){return Ga("scroll",_c(Va(_c((s=>{const o=Lc(s);if(!o||Qa(o,n,i,!0))return;const a=r.getId(o);if(o===t&&t.defaultView){const r=Ya(t.defaultView);e({id:a,x:r.left,y:r.top})}else e({id:a,x:o.scrollLeft,y:o.scrollTop})})),s.scroll||100)),t)}const zc=["INPUT","TEXTAREA","SELECT"],Hc=new WeakMap;function Gc(e){return function(e,t){if(Wc("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Wc("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Wc("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Wc("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const r=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(r)}else if(e.parentStyleSheet){const r=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(r)}return t}(e,[])}function Kc(e,t,r){let n,i;return e?(e.ownerNode?n=t.getId(e.ownerNode):i=r.getId(e),{styleId:i,id:n}):{}}function Vc({mirror:e,stylesheetManager:t},r){var n,i,s;let o=null;o="#document"===r.nodeName?e.getId(r):e.getId(Ha.host(r));const a="#document"===r.nodeName?null==(n=r.defaultView)?void 0:n.Document:null==(s=null==(i=r.ownerDocument)?void 0:i.defaultView)?void 0:s.ShadowRoot,c=(null==a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null==a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==o&&-1!==o&&a&&c?(Object.defineProperty(r,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var e;return null==(e=c.get)?void 0:e.call(this)},set(e){var r;const n=null==(r=c.set)?void 0:r.call(this,e);if(null!==o&&-1!==o)try{t.adoptStyleSheets(e,o)}catch(e){}return n}}),_c((()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))):()=>{}}function Xc(e,t={}){const r=e.doc.defaultView;if(!r)return()=>{};let n;!function(e,t){const{mutationCb:r,mousemoveCb:n,mouseInteractionCb:i,scrollCb:s,viewportResizeCb:o,inputCb:a,mediaInteractionCb:c,styleSheetRuleCb:l,styleDeclarationCb:u,canvasMutationCb:h,fontCb:d,selectionCb:p,customElementCb:f}=e;e.mutationCb=(...e)=>{t.mutation&&t.mutation(...e),r(...e)},e.mousemoveCb=(...e)=>{t.mousemove&&t.mousemove(...e),n(...e)},e.mouseInteractionCb=(...e)=>{t.mouseInteraction&&t.mouseInteraction(...e),i(...e)},e.scrollCb=(...e)=>{t.scroll&&t.scroll(...e),s(...e)},e.viewportResizeCb=(...e)=>{t.viewportResize&&t.viewportResize(...e),o(...e)},e.inputCb=(...e)=>{t.input&&t.input(...e),a(...e)},e.mediaInteractionCb=(...e)=>{t.mediaInteaction&&t.mediaInteaction(...e),c(...e)},e.styleSheetRuleCb=(...e)=>{t.styleSheetRule&&t.styleSheetRule(...e),l(...e)},e.styleDeclarationCb=(...e)=>{t.styleDeclaration&&t.styleDeclaration(...e),u(...e)},e.canvasMutationCb=(...e)=>{t.canvasMutation&&t.canvasMutation(...e),h(...e)},e.fontCb=(...e)=>{t.font&&t.font(...e),d(...e)},e.selectionCb=(...e)=>{t.selection&&t.selection(...e),p(...e)},e.customElementCb=(...e)=>{t.customElement&&t.customElement(...e),f(...e)}}(e,t),e.recordDOM&&(n=jc(e,e.doc));const i=function({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(!1===t.mousemove)return()=>{};const i="number"==typeof t.mousemove?t.mousemove:50,s="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let o,a=[];const c=Va(_c((t=>{const r=Date.now()-o;e(a.map((e=>(e.timeOffset-=r,e))),t),a=[],o=null})),s),l=_c(Va(_c((e=>{const t=Lc(e),{clientX:r,clientY:i}=nc(e)?e.changedTouches[0]:e;o||(o=Za()),a.push({x:r,y:i,id:n.getId(t),timeOffset:Za()-o}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?wc.Drag:e instanceof MouseEvent?wc.MouseMove:wc.TouchMove)})),i,{trailing:!1})),u=[Ga("mousemove",l,r),Ga("touchmove",l,r),Ga("drag",l,r)];return _c((()=>{u.forEach((e=>e()))}))}(e),s=Uc(e),o=Bc(e),a=function({viewportResizeCb:e},{win:t}){let r=-1,n=-1;return Ga("resize",_c(Va(_c((()=>{const t=qa(),i=Ja();r===t&&n===i||(e({width:Number(i),height:Number(t)}),r=t,n=i)})),200)),t)}(e,{win:r}),c=function({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,ignoreClass:s,ignoreSelector:o,maskInputOptions:a,maskInputFn:c,sampling:l,userTriggeredOnInput:u}){function h(e){let r=Lc(e);const l=e.isTrusted,h=r&&r.tagName;if(r&&"OPTION"===h&&(r=Ha.parentElement(r)),!r||!h||zc.indexOf(h)<0||Qa(r,n,i,!0))return;if(r.classList.contains(s)||o&&r.matches(o))return;let p=r.value,f=!1;const m=k(r)||"";"radio"===m||"checkbox"===m?f=r.checked:(a[h.toLowerCase()]||a[m])&&(p=R({element:r,maskInputOptions:a,tagName:h,type:m,value:p,maskInputFn:c})),d(r,u?{text:p,isChecked:f,userTriggered:l}:{text:p,isChecked:f});const g=r.name;"radio"===m&&g&&f&&t.querySelectorAll(`input[type="radio"][name="${g}"]`).forEach((e=>{if(e!==r){const t=e.value;d(e,u?{text:t,isChecked:!f,userTriggered:!1}:{text:t,isChecked:!f})}}))}function d(t,n){const i=Hc.get(t);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){Hc.set(t,n);const i=r.getId(t);_c(e)({...n,id:i})}}const p=("last"===l.input?["change"]:["input","change"]).map((e=>Ga(e,_c(h),t))),f=t.defaultView;if(!f)return()=>{p.forEach((e=>e()))};const m=f.Object.getOwnPropertyDescriptor(f.HTMLInputElement.prototype,"value"),g=[[f.HTMLInputElement.prototype,"value"],[f.HTMLInputElement.prototype,"checked"],[f.HTMLSelectElement.prototype,"value"],[f.HTMLTextAreaElement.prototype,"value"],[f.HTMLSelectElement.prototype,"selectedIndex"],[f.HTMLOptionElement.prototype,"selected"]];return m&&m.set&&p.push(...g.map((e=>Xa(e[0],e[1],{set(){_c(h)({target:this,isTrusted:!1})}},!1,f)))),_c((()=>{p.forEach((e=>e()))}))}(e),l=function({mediaInteractionCb:e,blockClass:t,blockSelector:r,mirror:n,sampling:i,doc:s}){const o=_c((s=>Va(_c((i=>{const o=Lc(i);if(!o||Qa(o,t,r,!0))return;const{currentTime:a,volume:c,muted:l,playbackRate:u,loop:h}=o;e({type:s,id:n.getId(o),currentTime:a,volume:c,muted:l,playbackRate:u,loop:h})})),i.media||500))),a=[Ga("play",o(Cc.Play),s),Ga("pause",o(Cc.Pause),s),Ga("seeked",o(Cc.Seeked),s),Ga("volumechange",o(Cc.VolumeChange),s),Ga("ratechange",o(Cc.RateChange),s)];return _c((()=>{a.forEach((e=>e()))}))}(e);let u=()=>{},h=()=>{},d=()=>{},p=()=>{};e.recordDOM&&(u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const i=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:_c(((n,i,s)=>{const[o,a]=s,{id:c,styleId:l}=Kc(i,t,r.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:o,index:a}]}),n.apply(i,s)}))}),n.CSSStyleSheet.prototype.addRule=function(e,t,r=this.cssRules.length){const i=`${e} { ${t} }`;return n.CSSStyleSheet.prototype.insertRule.apply(this,[i,r])};const s=n.CSSStyleSheet.prototype.deleteRule;let o,a;n.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:_c(((n,i,s)=>{const[o]=s,{id:a,styleId:c}=Kc(i,t,r.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:o}]}),n.apply(i,s)}))}),n.CSSStyleSheet.prototype.removeRule=function(e){return n.CSSStyleSheet.prototype.deleteRule.apply(this,[e])},n.CSSStyleSheet.prototype.replace&&(o=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:_c(((n,i,s)=>{const[o]=s,{id:a,styleId:c}=Kc(i,t,r.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replace:o}),n.apply(i,s)}))})),n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:_c(((n,i,s)=>{const[o]=s,{id:a,styleId:c}=Kc(i,t,r.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replaceSync:o}),n.apply(i,s)}))}));const c={};Zc("CSSGroupingRule")?c.CSSGroupingRule=n.CSSGroupingRule:(Zc("CSSMediaRule")&&(c.CSSMediaRule=n.CSSMediaRule),Zc("CSSConditionRule")&&(c.CSSConditionRule=n.CSSConditionRule),Zc("CSSSupportsRule")&&(c.CSSSupportsRule=n.CSSSupportsRule));const l={};return Object.entries(c).forEach((([n,i])=>{l[n]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(l[n].insertRule,{apply:_c(((n,i,s)=>{const[o,a]=s,{id:c,styleId:l}=Kc(i.parentStyleSheet,t,r.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:o,index:[...Gc(i),a||0]}]}),n.apply(i,s)}))}),i.prototype.deleteRule=new Proxy(l[n].deleteRule,{apply:_c(((n,i,s)=>{const[o]=s,{id:a,styleId:c}=Kc(i.parentStyleSheet,t,r.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:[...Gc(i),o]}]}),n.apply(i,s)}))})})),_c((()=>{n.CSSStyleSheet.prototype.insertRule=i,n.CSSStyleSheet.prototype.deleteRule=s,o&&(n.CSSStyleSheet.prototype.replace=o),a&&(n.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach((([e,t])=>{t.prototype.insertRule=l[e].insertRule,t.prototype.deleteRule=l[e].deleteRule}))}))}(e,{win:r}),h=Vc(e,e.doc),d=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:_c(((i,o,a)=>{var c;const[l,u,h]=a;if(r.has(l))return s.apply(o,[l,u,h]);const{id:d,styleId:p}=Kc(null==(c=o.parentRule)?void 0:c.parentStyleSheet,t,n.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:l,value:u,priority:h},index:Gc(o.parentRule)}),i.apply(o,a)}))});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:_c(((i,s,a)=>{var c;const[l]=a;if(r.has(l))return o.apply(s,[l]);const{id:u,styleId:h}=Kc(null==(c=s.parentRule)?void 0:c.parentStyleSheet,t,n.styleMirror);return(u&&-1!==u||h&&-1!==h)&&e({id:u,styleId:h,remove:{property:l},index:Gc(s.parentRule)}),i.apply(s,a)}))}),_c((()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o}))}(e,{win:r}),e.collectFonts&&(p=function({fontCb:e,doc:t}){const r=t.defaultView;if(!r)return()=>{};const n=[],i=new WeakMap,s=r.FontFace;r.FontFace=function(e,t,r){const n=new s(e,t,r);return i.set(n,{family:e,buffer:"string"!=typeof t,descriptors:r,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),n};const o=Wa(t.fonts,"add",(function(t){return function(r){return setTimeout(_c((()=>{const t=i.get(r);t&&(e(t),i.delete(r))})),0),t.apply(this,[r])}}));return n.push((()=>{r.FontFace=s})),n.push(o),_c((()=>{n.forEach((e=>e()))}))}(e)));const f=function(e){const{doc:t,mirror:r,blockClass:n,blockSelector:i,selectionCb:s}=e;let o=!0;const a=_c((()=>{const e=t.getSelection();if(!e||o&&(null==e?void 0:e.isCollapsed))return;o=e.isCollapsed||!1;const a=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const s=e.getRangeAt(t),{startContainer:o,startOffset:c,endContainer:l,endOffset:u}=s;Qa(o,n,i,!0)||Qa(l,n,i,!0)||a.push({start:r.getId(o),startOffset:c,end:r.getId(l),endOffset:u})}s({ranges:a})}));return a(),Ga("selectionchange",a)}(e),m=function({doc:e,customElementCb:t}){const r=e.defaultView;return r&&r.customElements?Wa(r.customElements,"define",(function(e){return function(r,n,i){try{t({define:{name:r}})}catch(e){}return e.apply(this,[r,n,i])}})):()=>{}}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,r,t.options));return _c((()=>{Fc.forEach((e=>e.reset())),null==n||n.disconnect(),i(),s(),o(),a(),c(),l(),u(),h(),d(),p(),f(),m(),g.forEach((e=>e()))}))}function Wc(e){return void 0!==window[e]}function Zc(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Yc{constructor(e){s(this,"iframeIdToRemoteIdMap",new WeakMap),s(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}getId(e,t,r,n){const i=r||this.getIdToRemoteIdMap(e),s=n||this.getRemoteIdToIdMap(e);let o=i.get(t);return o||(o=this.generateIdFn(),i.set(t,o),s.set(o,t)),o}getIds(e,t){const r=this.getIdToRemoteIdMap(e),n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,r,n)))}getRemoteId(e,t,r){const n=r||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const i=n.get(t);return i||-1}getRemoteIds(e,t){const r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,r)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class qc{constructor(e){s(this,"iframes",new WeakMap),s(this,"crossOriginIframeMap",new WeakMap),s(this,"crossOriginIframeMirror",new Yc(z)),s(this,"crossOriginIframeStyleMirror"),s(this,"crossOriginIframeRootIdMap",new WeakMap),s(this,"mirror"),s(this,"mutationCb"),s(this,"wrappedEmit"),s(this,"loadListener"),s(this,"stylesheetManager"),s(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Yc(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var r,n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(r=e.contentWindow)||r.addEventListener("message",this.handleMessage.bind(this))),null==(n=this.loadListener)||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const r=this.crossOriginIframeMap.get(e.source);if(!r)return;const n=this.transformCrossOriginEvent(r,t.data.event);n&&this.wrappedEmit(n,t.data.isCheckout)}transformCrossOriginEvent(e,t){var r;switch(t.type){case bc.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const r=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(t.data.node,r),{timestamp:t.timestamp,type:bc.IncrementalSnapshot,data:{source:wc.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case bc.Meta:case bc.Load:case bc.DomContentLoaded:return!1;case bc.Plugin:return t;case bc.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case bc.IncrementalSnapshot:switch(t.data.source){case wc.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const r=this.crossOriginIframeRootIdMap.get(e);r&&this.patchRootIdOnNode(t.node,r)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case wc.Drag:case wc.TouchMove:case wc.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case wc.ViewportResize:return!1;case wc.MediaInteraction:case wc.MouseInteraction:case wc.Scroll:case wc.CanvasMutation:case wc.Input:return this.replaceIds(t.data,e,["id"]),t;case wc.StyleSheetRule:case wc.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case wc.Font:return t;case wc.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case wc.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null==(r=t.data.styles)||r.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}return!1}replace(e,t,r,n){for(const i of n)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(r,t[i]):t[i]=e.getId(r,t[i]));return t}replaceIds(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}replaceStyleIds(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===xc.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class Jc{constructor(e){s(this,"shadowDoms",new WeakSet),s(this,"mutationCb"),s(this,"scrollCb"),s(this,"bypassOptions"),s(this,"mirror"),s(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!S(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const r=jc({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>r.disconnect())),this.restoreHandlers.push(Bc({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(Ha.host(e))),this.restoreHandlers.push(Vc({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const r=this;this.restoreHandlers.push(Wa(e.prototype,"attachShadow",(function(e){return function(n){const i=e.call(this,n),s=Ha.shadowRoot(this);return s&&vc(this)&&r.addShadowRoot(s,t),i}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var $c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qc="undefined"==typeof Uint8Array?[]:new Uint8Array(256),el=0;el<64;el++)Qc[$c.charCodeAt(el)]=el;const tl=new Map;const rl=(e,t,r)=>{if(!e||!sl(e,t)&&"object"!=typeof e)return;const n=function(e,t){let r=tl.get(e);return r||(r=new Map,tl.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}(r,e.constructor.name);let i=n.indexOf(e);return-1===i&&(i=n.length,n.push(e)),i};function nl(e,t,r){if(e instanceof Array)return e.map((e=>nl(e,t,r)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){return{rr_type:e.constructor.name,base64:function(e){var t,r=new Uint8Array(e),n=r.length,i="";for(t=0;t<n;t+=3)i+=$c[r[t]>>2],i+=$c[(3&r[t])<<4|r[t+1]>>4],i+=$c[(15&r[t+1])<<2|r[t+2]>>6],i+=$c[63&r[t+2]];return n%3==2?i=i.substring(0,i.length-1)+"=":n%3==1&&(i=i.substring(0,i.length-2)+"=="),i}(e)}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[nl(e.buffer,t,r),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:r}=e;return{rr_type:t,src:r}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[nl(e.data,t,r),e.width,e.height]}}if(sl(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:rl(e,t,r)}}return e}const il=(e,t,r)=>e.map((e=>nl(e,t,r))),sl=(e,t)=>{const r=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(r.find((r=>e instanceof t[r])))};function ol(e,t,r,n){const i=[];try{const s=Wa(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(i,...s){if(!Qa(this,t,r,!0)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(i);if("__context"in this||(this.__context=e),n&&["webgl","webgl2"].includes(e))if(s[0]&&"object"==typeof s[0]){const e=s[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else s.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[i,...s])}}));i.push(s)}catch{}return()=>{i.forEach((e=>e()))}}function al(e,t,r,n,i,s){const o=[],a=Object.getOwnPropertyNames(e);for(const c of a)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(c))try{if("function"!=typeof e[c])continue;const a=Wa(e,c,(function(e){return function(...o){const a=e.apply(this,o);if(rl(a,s,this),"tagName"in this.canvas&&!Qa(this.canvas,n,i,!0)){const e=il(o,s,this),n={type:t,property:c,args:e};r(this.canvas,n)}return a}}));o.push(a)}catch{const n=Xa(e,c,{set(e){r(this.canvas,{type:t,property:c,args:[e],setter:!0})}});o.push(n)}return o}const cl="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",ll="undefined"!=typeof window&&window.Blob&&new Blob([(ul=cl,Uint8Array.from(atob(ul),(e=>e.charCodeAt(0))))],{type:"text/javascript;charset=utf-8"});var ul;function hl(e){let t;try{if(t=ll&&(window.URL||window.webkitURL).createObjectURL(ll),!t)throw"";const r=new Worker(t,{name:null==e?void 0:e.name});return r.addEventListener("error",(()=>{(window.URL||window.webkitURL).revokeObjectURL(t)})),r}catch(t){return new Worker("data:text/javascript;base64,"+cl,{name:null==e?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}class dl{constructor(e){s(this,"pendingCanvasMutations",new Map),s(this,"rafStamps",{latestId:0,invokeId:null}),s(this,"mirror"),s(this,"mutationCb"),s(this,"resetObservers"),s(this,"frozen",!1),s(this,"locked",!1),s(this,"processMutation",((e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)}));const{sampling:t="all",win:r,blockClass:n,blockSelector:i,recordCanvas:o,dataURLOptions:a}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,o&&"all"===t&&this.initCanvasMutationObserver(r,n,i),o&&"number"==typeof t&&this.initCanvasFPSObserver(t,r,n,i,{dataURLOptions:a})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(e,t,r,n,i){const s=ol(t,r,n,!0),o=new Map,a=new hl;a.onmessage=e=>{const{id:t}=e.data;if(o.set(t,!1),!("base64"in e.data))return;const{base64:r,type:n,width:i,height:s}=e.data;this.mutationCb({id:t,type:Ic["2D"],commands:[{property:"clearRect",args:[0,0,i,s]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:n}]},0,0]}]})};const c=1e3/e;let l,u=0;const h=e=>{u&&e-u<c||(u=e,(()=>{const e=[];return t.document.querySelectorAll("canvas").forEach((t=>{Qa(t,r,n,!0)||e.push(t)})),e})().forEach((async e=>{var t;const r=this.mirror.getId(e);if(o.get(r))return;if(0===e.width||0===e.height)return;if(o.set(r,!0),["webgl","webgl2"].includes(e.__context)){const r=e.getContext(e.__context);!1===(null==(t=null==r?void 0:r.getContextAttributes())?void 0:t.preserveDrawingBuffer)&&r.clear(r.COLOR_BUFFER_BIT)}const n=await createImageBitmap(e);a.postMessage({id:r,bitmap:n,width:e.width,height:e.height,dataURLOptions:i.dataURLOptions},[n])}))),l=requestAnimationFrame(h)};l=requestAnimationFrame(h),this.resetObservers=()=>{s(),cancelAnimationFrame(l)}}initCanvasMutationObserver(e,t,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const n=ol(e,t,r,!1),i=function(e,t,r,n){const i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const o of s)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[o])continue;const s=Wa(t.CanvasRenderingContext2D.prototype,o,(function(i){return function(...s){return Qa(this.canvas,r,n,!0)||setTimeout((()=>{const r=il(s,t,this);e(this.canvas,{type:Ic["2D"],property:o,args:r})}),0),i.apply(this,s)}}));i.push(s)}catch{const r=Xa(t.CanvasRenderingContext2D.prototype,o,{set(t){e(this.canvas,{type:Ic["2D"],property:o,args:[t],setter:!0})}});i.push(r)}return()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,r),s=function(e,t,r,n){const i=[];return i.push(...al(t.WebGLRenderingContext.prototype,Ic.WebGL,e,r,n,t)),void 0!==t.WebGL2RenderingContext&&i.push(...al(t.WebGL2RenderingContext.prototype,Ic.WebGL2,e,r,n,t)),()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,r);this.resetObservers=()=>{n(),i(),s()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const r=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,r)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(e);if(!r||-1===t)return;const n=r.map((e=>{const{type:t,...r}=e;return r})),{type:i}=r[0];this.mutationCb({id:t,type:i,commands:n}),this.pendingCanvasMutations.delete(e)}}class pl{constructor(e){s(this,"trackedLinkElements",new WeakSet),s(this,"mutationCb"),s(this,"adoptedStyleSheetCb"),s(this,"styleMirror",new fc),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const r={id:t,styleIds:[]},n=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),n.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,r)=>({rule:I(e,t.href),index:r})))})),r.styleIds.push(e)}n.length>0&&(r.styles=n),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class fl{constructor(){s(this,"nodeMap",new WeakMap),s(this,"active",!1)}inOtherBuffer(e,t){const r=this.nodeMap.get(e);return r&&Array.from(r).some((e=>e!==t))}add(e,t){this.active||(this.active=!0,requestAnimationFrame((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let ml,gl,yl,vl=!1;try{if(2!==Array.from([1],(e=>2*e))[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=(null==(n=e.contentWindow)?void 0:n.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){}const bl=x();function wl(e={}){const{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:i="rr-block",blockSelector:s=null,ignoreClass:o="rr-ignore",ignoreSelector:a=null,maskTextClass:c="rr-mask",maskTextSelector:l=null,inlineStylesheet:u=!0,maskAllInputs:h,maskInputOptions:d,slimDOMOptions:p,maskInputFn:f,maskTextFn:m,hooks:g,packFn:y,sampling:v={},dataURLOptions:b={},mousemoveWait:w,recordDOM:S=!0,recordCanvas:T=!1,recordCrossOriginIframes:I=!1,recordAfter:x=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:R=!1,collectFonts:E=!1,inlineImages:A=!1,plugins:k,keepIframeSrcFn:O=(()=>!1),ignoreCSSAttributes:M=new Set([]),errorHandler:N}=e;Pc=N;const D=!I||window.parent===window;let P=!1;if(!D)try{window.parent.document&&(P=!1)}catch(e){P=!0}if(D&&!t)throw new Error("emit function is required");if(!D&&!P)return()=>{};void 0!==w&&void 0===v.mousemove&&(v.mousemove=w),bl.reset();const _=!0===h?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==d?d:{password:!0},F=!0===p||"all"===p?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===p,headMetaDescKeywords:"all"===p,headTitleMutations:"all"===p}:p||{};let L;ic();let j=0;const U=e=>{for(const t of k||[])t.eventProcessor&&(e=t.eventProcessor(e));return y&&!P&&(e=y(e)),e};ml=(e,i)=>{var s;const o=e;if(o.timestamp=Za(),!(null==(s=Fc[0])?void 0:s.isFrozen())||o.type===bc.FullSnapshot||o.type===bc.IncrementalSnapshot&&o.data.source===wc.Mutation||Fc.forEach((e=>e.unfreeze())),D)null==t||t(U(o),i);else if(P){const e={type:"rrweb",event:U(o),origin:window.location.origin,isCheckout:i};window.parent.postMessage(e,"*")}if(o.type===bc.FullSnapshot)L=o,j=0;else if(o.type===bc.IncrementalSnapshot){if(o.data.source===wc.Mutation&&o.data.isAttachIframe)return;j++;const e=n&&j>=n,t=r&&o.timestamp-L.timestamp>r;(e||t)&&gl(!0)}};const B=e=>{ml({type:bc.IncrementalSnapshot,data:{source:wc.Mutation,...e}})},z=e=>ml({type:bc.IncrementalSnapshot,data:{source:wc.Scroll,...e}}),H=e=>ml({type:bc.IncrementalSnapshot,data:{source:wc.CanvasMutation,...e}}),G=new pl({mutationCb:B,adoptedStyleSheetCb:e=>ml({type:bc.IncrementalSnapshot,data:{source:wc.AdoptedStyleSheet,...e}})}),K=new qc({mirror:bl,mutationCb:B,stylesheetManager:G,recordCrossOriginIframes:I,wrappedEmit:ml});for(const e of k||[])e.getMirror&&e.getMirror({nodeMirror:bl,crossOriginIframeMirror:K.crossOriginIframeMirror,crossOriginIframeStyleMirror:K.crossOriginIframeStyleMirror});const V=new fl;yl=new dl({recordCanvas:T,mutationCb:H,win:window,blockClass:i,blockSelector:s,mirror:bl,sampling:v.canvas,dataURLOptions:b});const X=new Jc({mutationCb:B,scrollCb:z,bypassOptions:{blockClass:i,blockSelector:s,maskTextClass:c,maskTextSelector:l,inlineStylesheet:u,maskInputOptions:_,dataURLOptions:b,maskTextFn:m,maskInputFn:f,recordCanvas:T,inlineImages:A,sampling:v,slimDOMOptions:F,iframeManager:K,stylesheetManager:G,canvasManager:yl,keepIframeSrcFn:O,processedNodeManager:V},mirror:bl});gl=(e=!1)=>{if(!S)return;ml({type:bc.Meta,data:{href:window.location.href,width:Ja(),height:qa()}},e),G.reset(),X.init(),Fc.forEach((e=>e.lock()));const t=function(e,t){const{mirror:r=new C,blockClass:n="rr-block",blockSelector:i=null,maskTextClass:s="rr-mask",maskTextSelector:o=null,inlineStylesheet:a=!0,inlineImages:c=!1,recordCanvas:l=!1,maskAllInputs:u=!1,maskTextFn:h,maskInputFn:d,slimDOM:p=!1,dataURLOptions:f,preserveWhiteSpace:m,onSerialize:g,onIframeLoad:y,iframeLoadTimeout:v,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:S=(()=>!1)}=t||{};return re(e,{doc:e,mirror:r,blockClass:n,blockSelector:i,maskTextClass:s,maskTextSelector:o,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===u?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===u?{password:!0}:u,maskTextFn:h,maskInputFn:d,slimDOMOptions:!0===p||"all"===p?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===p,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===p?{}:p,dataURLOptions:f,inlineImages:c,recordCanvas:l,preserveWhiteSpace:m,onSerialize:g,onIframeLoad:y,iframeLoadTimeout:v,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:S,newlyAddedElement:!1})}(document,{mirror:bl,blockClass:i,blockSelector:s,maskTextClass:c,maskTextSelector:l,inlineStylesheet:u,maskAllInputs:_,maskTextFn:m,maskInputFn:f,slimDOM:F,dataURLOptions:b,recordCanvas:T,inlineImages:A,onSerialize:e=>{ac(e,bl)&&K.addIframe(e),cc(e,bl)&&G.trackLinkElement(e),uc(e)&&X.addShadowRoot(Ha.shadowRoot(e),document)},onIframeLoad:(e,t)=>{K.attachIframe(e,t),X.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{G.attachLinkElement(e,t)},keepIframeSrcFn:O});t&&(ml({type:bc.FullSnapshot,data:{node:t,initialOffset:Ya(window)}},e),Fc.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&G.adoptStyleSheets(document.adoptedStyleSheets,bl.getId(document)))};try{const e=[],t=e=>{var t;return _c(Xc)({mutationCb:B,mousemoveCb:(e,t)=>ml({type:bc.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>ml({type:bc.IncrementalSnapshot,data:{source:wc.MouseInteraction,...e}}),scrollCb:z,viewportResizeCb:e=>ml({type:bc.IncrementalSnapshot,data:{source:wc.ViewportResize,...e}}),inputCb:e=>ml({type:bc.IncrementalSnapshot,data:{source:wc.Input,...e}}),mediaInteractionCb:e=>ml({type:bc.IncrementalSnapshot,data:{source:wc.MediaInteraction,...e}}),styleSheetRuleCb:e=>ml({type:bc.IncrementalSnapshot,data:{source:wc.StyleSheetRule,...e}}),styleDeclarationCb:e=>ml({type:bc.IncrementalSnapshot,data:{source:wc.StyleDeclaration,...e}}),canvasMutationCb:H,fontCb:e=>ml({type:bc.IncrementalSnapshot,data:{source:wc.Font,...e}}),selectionCb:e=>{ml({type:bc.IncrementalSnapshot,data:{source:wc.Selection,...e}})},customElementCb:e=>{ml({type:bc.IncrementalSnapshot,data:{source:wc.CustomElement,...e}})},blockClass:i,ignoreClass:o,ignoreSelector:a,maskTextClass:c,maskTextSelector:l,maskInputOptions:_,inlineStylesheet:u,sampling:v,recordDOM:S,recordCanvas:T,inlineImages:A,userTriggeredOnInput:R,collectFonts:E,doc:e,maskInputFn:f,maskTextFn:m,keepIframeSrcFn:O,blockSelector:s,slimDOMOptions:F,dataURLOptions:b,mirror:bl,iframeManager:K,stylesheetManager:G,shadowDomManager:X,processedNodeManager:V,canvasManager:yl,ignoreCSSAttributes:M,plugins:(null==(t=null==k?void 0:k.filter((e=>e.observer)))?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>ml({type:bc.Plugin,data:{plugin:e.name,payload:t}})}))))||[]},g)};K.addLoadListener((r=>{try{e.push(t(r.contentDocument))}catch(e){}}));const r=()=>{gl(),e.push(t(document)),vl=!0};return"interactive"===document.readyState||"complete"===document.readyState?r():(e.push(Ga("DOMContentLoaded",(()=>{ml({type:bc.DomContentLoaded,data:{}}),"DOMContentLoaded"===x&&r()}))),e.push(Ga("load",(()=>{ml({type:bc.Load,data:{}}),"load"===x&&r()}),window))),()=>{e.forEach((e=>e())),V.destroy(),vl=!1,Pc=void 0}}catch(e){}}function Sl(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map((function(e){e(r)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,r)}))}}}wl.addCustomEvent=(e,t)=>{if(!vl)throw new Error("please add custom event after start recording");ml({type:bc.Custom,data:{tag:e,payload:t}})},wl.freezePage=()=>{Fc.forEach((e=>e.freeze()))},wl.takeFullSnapshot=e=>{if(!vl)throw new Error("please take full snapshot after start recording");gl(e)},wl.mirror=bl;Symbol.toStringTag;var Tl,Il;(Il=Tl||(Tl={}))[Il.NotStarted=0]="NotStarted",Il[Il.Running=1]="Running",Il[Il.Stopped=2]="Stopped";const{addCustomEvent:Cl}=wl,{freezePage:xl}=wl,{takeFullSnapshot:Rl}=wl;var El=r(4155),Al=r(1838),kl=r(2493);class Ol{#l=new kl.X(1/0);cycleTimestamp=Date.now();hasSnapshot=!1;hasMeta=!1;hasError=!1;inlinedAllStylesheets=!0;add(e){this.#l.add(e)}get events(){return this.#l.get()}get payloadBytesEstimation(){return this.#l.byteSize()}}var Ml=r(9181),Nl=r(8345),Dl=r(5300),Pl=r(4716),_l=r(4663),Fl=r(4219),Ll=r(6314),jl=r(2745);class Ul{#l;#u;#h;#d=!1;constructor(e){this.#l=new Ol,this.#u=new Ol,this.#h=[new Ol],this.recording=!1,this.currentBufferTarget=this.#l,this.hasSeenSnapshot=!1,this.lastMeta=!1,this.parent=e,this.shouldFix=this.parent.agentRef.init.session_replay.fix_stylesheets,this.stopRecording=()=>{}}getEvents(){return this.#h[0]?.events.length?{...this.#h[0],events:this.#h[0].events,payloadBytesEstimation:this.#h[0].payloadBytesEstimation,type:"preloaded"}:{events:[...this.#u.events,...this.#l.events].filter((e=>e)),type:"standard",cycleTimestamp:Math.min(this.#u.cycleTimestamp,this.#l.cycleTimestamp),payloadBytesEstimation:this.#u.payloadBytesEstimation+this.#l.payloadBytesEstimation,hasError:this.#u.hasError||this.#l.hasError,hasMeta:this.#u.hasMeta||this.#l.hasMeta,hasSnapshot:this.#u.hasSnapshot||this.#l.hasSnapshot,inlinedAllStylesheets:!!this.#u.events.length&&this.#u.inlinedAllStylesheets||this.#l.inlinedAllStylesheets}}clearBuffer(){this.#h[0]?.events.length?this.#h.shift():this.parent.mode===Ml.IK.ERROR?this.#u=this.#l:this.#u=new Ol,this.#l=new Ol}startRecording(){this.recording=!0;const{block_class:e,ignore_class:t,mask_text_class:r,block_selector:n,mask_input_options:i,mask_text_selector:s,mask_all_inputs:o,inline_images:a,collect_fonts:c}=this.parent.agentRef.init.session_replay,l=(e,t)=>{try{if("string"==typeof t?.type&&"password"!==t.type.toLowerCase()&&(void 0!==t?.dataset?.nrUnmask||t?.classList?.contains("nr-unmask")))return e}catch(e){}return"*".repeat(e?.length||0)},u=wl({emit:this.audit.bind(this),blockClass:e,ignoreClass:t,maskTextClass:r,blockSelector:n,maskInputOptions:i,maskTextSelector:s,maskTextFn:l,maskAllInputs:o,maskInputFn:l,inlineStylesheet:!0,inlineImages:a,collectFonts:c,checkoutEveryNms:Al.u0[this.parent.mode],recordAfter:"DOMContentLoaded"});this.stopRecording=()=>{this.recording=!1,this.parent.ee.emit(Al.Ef.REPLAY_RUNNING,[!1,this.parent.mode]),u?.()}}audit(e,t){const r=Nl.j.evaluate(),n="SessionReplay/Payload/Missing-Inline-Css/";if(!this.shouldFix)return r>0&&(this.currentBufferTarget.inlinedAllStylesheets=!1,(0,Dl.p)(Pl.xS,[n+"Skipped",r],void 0,_l.DT.metrics,this.parent.ee)),this.store(e,t);!r&&this.#d&&e.type===Al.i9.Meta&&(this.#d=!1),r>0&&(Nl.j.fix().then((e=>{e>0&&(this.currentBufferTarget.inlinedAllStylesheets=!1,this.shouldFix=!1),(0,Dl.p)(Pl.xS,[n+"Failed",e],void 0,_l.DT.metrics,this.parent.ee),(0,Dl.p)(Pl.xS,[n+"Fixed",r-e],void 0,_l.DT.metrics,this.parent.ee),this.takeFullSnapshot()})),e.type!==Al.i9.FullSnapshot&&e.type!==Al.i9.Meta||(this.#d=!0)),this.#d||this.store(e,t)}store(e,t){if(!e)return;if(this.parent instanceof jl.m||!this.#h.length?this.currentBufferTarget=this.#l:this.currentBufferTarget=this.#h[this.#h.length-1],this.parent.blocked)return;this.notified||(this.parent.ee.emit(Al.Ef.REPLAY_RUNNING,[!0,this.parent.mode]),this.notified=!0),this.parent.timeKeeper?.ready&&!e.__newrelic&&(e.__newrelic=(0,Fl.wi)(e.timestamp,this.parent.timeKeeper),e.timestamp=this.parent.timeKeeper.correctAbsoluteTimestamp(e.timestamp)),e.__serialized=(0,El.P)(e);const r=e.__serialized.length,n=this.getPayloadSize(r);this.parent.mode===Ml.IK.ERROR&&t&&e.type===Al.i9.Meta&&this.clearBuffer(),e.type===Al.i9.Meta&&(this.currentBufferTarget.hasMeta=!0),e.type===Al.i9.FullSnapshot&&(this.currentBufferTarget.hasSnapshot=!0,this.hasSeenSnapshot=!0),this.currentBufferTarget.add(e),(e.type===Al.i9.FullSnapshot&&this.currentBufferTarget.hasMeta||n>Ll.f)&&this.parent.mode===Ml.IK.FULL&&(this.parent instanceof jl.m?this.parent.agentRef.runtime.harvester.triggerHarvestFor(this.parent):this.#h.push(new Ol))}takeFullSnapshot(){try{if(!this.recording)return;wl.takeFullSnapshot()}catch(e){}}clearTimestamps(){this.currentBufferTarget.cycleTimestamp=void 0}getPayloadSize(e=0){return this.estimateCompression(this.currentBufferTarget.payloadBytesEstimation+e)+Al.J0}estimateCompression(e){return this.parent.gzipper&&this.parent.u8?e*Al.Vb:e}}},8345:function(e,t,r){r.d(t,{j:function(){return s}});var n=r(3131),i=r(9152);const s=new class{#p=new WeakSet;#f=[];invalidStylesheetsDetected=!1;failedToFix=0;evaluate(){let e=0;if(this.#f=[],i.il)for(let t=0;t<Object.keys(document.styleSheets).length;t++)if(!this.#p.has(document.styleSheets[t])){this.#p.add(document.styleSheets[t]);try{document.styleSheets[t].cssRules}catch(r){if(!document.styleSheets[t].href)return;e++,this.#f.push(document.styleSheets[t])}}return e&&(this.invalidStylesheetsDetected=!0),e}async fix(){await Promise.all(this.#f.map((e=>this.#m(e)))),this.#f=[];const e=this.failedToFix;return this.failedToFix=0,e}async#m(e){if(e?.href)try{const t=await(0,n.mF)().o.FETCH.bind(window)(e.href);if(!t.ok)return void this.failedToFix++;const r=await t.text();try{const t=new CSSStyleSheet;await t.replace(r),Object.defineProperty(e,"cssRules",{get(){return t.cssRules}}),Object.defineProperty(e,"rules",{get(){return t.rules}})}catch(t){Object.defineProperty(e,"cssText",{get(){return r}}),this.failedToFix++}}catch(e){this.failedToFix++}}}},4219:function(e,t,r){r.d(t,{Rc:function(){return a},rU:function(){return c},wi:function(){return l}});var n=r(3131),i=r(4613),s=r(9334),o=r(9152);function a(e){return!!(0,n.mF)().o.MO&&(0,s.H)(e)&&!0===(0,i.Mt)(e,"session_trace.enabled")}function c(e){return!0===(0,i.Mt)(e,"session_replay.preload")&&a(e)}function l(e,t){const r=t.correctAbsoluteTimestamp(e);return{originalTimestamp:e,correctedTimestamp:r,timestampDiff:e-r,originTime:o.sK,correctedOriginTime:t.correctedOriginTime,originTimeDiff:Math.floor(o.sK-t.correctedOriginTime)}}},543:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return v}});var n=r(5992),i=r(2613),s=r(2745),o=r(9152),a=r(9181),c=r(1595),l=r(8490);class u{constructor(e,t,r,n,i){this.n=e,this.s=t,this.e=r,this.o=n,this.t=i}}const h="function"==typeof o._A.PerformanceObserver,d={global:{mouseup:!0,mousedown:!0},window:{load:!0,pagehide:!0},xhrOriginMissing:{ignoreAll:!0}},p={typing:[1e3,2e3],scrolling:[100,1e3],mousing:[1e3,2e3],touching:[1e3,2e3]};class f{nodeCount=0;trace={};earliestTimeStamp=1/0;latestTimeStamp=0;prevStoredEvents=new Set;#g;constructor(e){this.parent=e}storeSTN(e){if(!this.parent.blocked){if(this.nodeCount>=i.c){if(this.parent.mode!==a.IK.ERROR)return;if(0===this.trimSTNs(3e4))return}this.trace[e.n]?this.trace[e.n].push(e):this.trace[e.n]=[e],e.s<this.earliestTimeStamp&&(this.earliestTimeStamp=e.s),e.s>this.latestTimeStamp&&(this.latestTimeStamp=e.s),this.nodeCount++}}trimSTNs(e){let t=0;const r=Math.max((0,c.z)()-e,0);return Object.keys(this.trace).forEach((e=>{const n=this.trace[e];let i=n.findIndex((e=>r<=e.e));0!==i&&(i<0?(i=n.length,delete this.trace[e]):n.splice(0,i),this.nodeCount-=i,t+=i)})),t}takeSTNs(){h||this.storeResources(o._A.performance?.getEntriesByType?.("resource"));return{stns:Object.entries(this.trace).flatMap((([e,t])=>{if(!(e in p))return t;const r=this.smearEvtsByOrigin(e),n=t.sort(((e,t)=>e.s-t.s)).reduce(r,{});return Object.values(n).flat()}),this),earliestTimeStamp:this.earliestTimeStamp,latestTimeStamp:this.latestTimeStamp}}smearEvtsByOrigin(e){const t=p[e][0],r=p[e][1],n={};return(i,s)=>{let o=i[s.o];o||(o=i[s.o]=[]);const a=n[s.o];return"scrolling"!==e||function(e){const t=4;return!!(e&&"number"==typeof e.e&&"number"==typeof e.s&&e.e-e.s<t)}(s)?a&&s.s-a.s<r&&a.e>s.s-t?a.e=s.e:(n[s.o]=s,o.push(s)):(n[s.o]=null,s.n="scroll",o.push(s)),i}}processPVT(e,t,r){this.storeTiming({[e]:t}),function(e,t){return"fi"===e&&!!t&&"number"==typeof t.fid}(e,r)&&this.storeEvent({type:"fid",target:"document"},"document",t,t+r.fid)}storeTiming(e,t=!1){if(e)for(let r in e){let n=e[r];const i=r.toLowerCase();i.indexOf("size")>=0||i.indexOf("status")>=0||"number"==typeof n&&n>=0&&(n=Math.round(n),this.parent.timeKeeper&&this.parent.timeKeeper.ready&&t&&(n=this.parent.timeKeeper.convertAbsoluteTimestamp(Math.floor(this.parent.timeKeeper.correctAbsoluteTimestamp(n)))),this.storeSTN(new u(r,n,n,"document","timing")))}}storeEvent(e,t,r,n){if(this.shouldIgnoreEvent(e,t))return;if(this.prevStoredEvents.has(e))return;this.prevStoredEvents.add(e);const i=new u(this.evtName(e.type),r,n,void 0,"event");try{i.o=this.evtOrigin(e.target,t)}catch(e){i.o=this.evtOrigin(null,t)}this.storeSTN(i)}shouldIgnoreEvent(e,t){const r=this.evtOrigin(e.target,t);return e.type in d.global||(!(!d[r]||!d[r].ignoreAll)||!(!d[r]||!(e.type in d[r])))}evtName(e){switch(e){case"keydown":case"keyup":case"keypress":return"typing";case"mousemove":case"mouseenter":case"mouseleave":case"mouseover":case"mouseout":return"mousing";case"scroll":return"scrolling";case"touchstart":case"touchmove":case"touchend":case"touchcancel":case"touchenter":case"touchleave":return"touching";default:return e}}evtOrigin(e,t){let r="unknown";if(e&&e instanceof XMLHttpRequest){const t=this.parent.ee.context(e).params;if(!(t&&t.status&&t.method&&t.host&&t.pathname))return"xhrOriginMissing";r=t.status+" "+t.method+": "+t.host+t.pathname}else if(e&&"string"==typeof e.tagName&&(r=e.tagName.toLowerCase(),e.id&&(r+="#"+e.id),e.className))for(let t=0;t<e.classList.length;t++)r+="."+e.classList[t];return"unknown"===r&&("string"==typeof t?r=t:t===document?r="document":t===window?r="window":t instanceof FileReader&&(r="FileReader")),r}storeHist(e,t,r){this.storeSTN(new u("history.pushState",r,r,e,t))}#y=0;storeResources(e){e&&0!==e.length&&(e.forEach((e=>{if((0|e.fetchStart)<=this.#y)return;const{initiatorType:t,fetchStart:r,responseEnd:n,entryType:i}=e,{protocol:s,hostname:o,port:a,pathname:c}=(0,l.e)(e.name),h=new u(t,0|r,0|n,"".concat(s,"://").concat(o,":").concat(a).concat(c),i);this.storeSTN(h)})),this.#y=0|e[e.length-1].fetchStart)}storeErrorAgg(e,t,r,n){"err"===e&&this.storeSTN(new u("error",n.time,n.time,r.message,r.stackHash))}storeXhrAgg(e,t,r,n){"xhr"===e&&this.storeSTN(new u("Ajax",n.time,n.time+n.duration,"".concat(r.status," ").concat(r.method,": ").concat(r.host).concat(r.pathname),"ajax"))}isEmpty(){return 0===this.nodeCount}save(){this.#g=this.trace}get(){return[{targetApp:this.parent.agentRef.mainAppKey,data:this.takeSTNs()}]}clear(){this.trace={},this.nodeCount=0,this.prevStoredEvents.clear(),this.earliestTimeStamp=1/0,this.latestTimeStamp=0}reloadSave(){Object.values(this.#g).forEach((e=>e.forEach((e=>this.storeSTN(e)))))}clearSave(){this.#g=void 0}}var m=r(9306),g=r(3403),y=r(1478);class v extends s.m{static featureName=i.FEATURE_NAME;constructor(e){super(e,i.FEATURE_NAME),this.harvestOpts.raw=!0,this.entitled=void 0,this.everHarvested=!1,this.harvesting=!1,this.events=new f(this),this.waitForFlags(["sts","st"]).then((([e,t])=>this.initialize(e,t)))}initialize(e,t,r){return this.entitled??=t,this.entitled||(this.blocked=!0),this.blocked?this.deregisterDrain():(this.initialized||(this.initialized=!0,this.ptid=this.agentRef.runtime.ptid,this.sessionId=this.agentRef.runtime.session?.state.value,this.ee.on(a.wO.RESET,(()=>{this.blocked||this.abort(1)})),this.ee.on(a.wO.UPDATE,((e,t)=>{this.blocked||(this.mode===a.IK.FULL||t.sessionReplayMode!==a.IK.FULL&&t.sessionTraceMode!==a.IK.FULL||this.switchToFull(),(this.sessionId!==t.value||"cross-tab"===e&&t.sessionTraceMode===a.IK.OFF)&&this.abort(2))})),"undefined"!=typeof PerformanceNavigationTiming?this.events.storeTiming(o._A.performance?.getEntriesByType?.("navigation")[0]):this.events.storeTiming(o._A.performance?.timing,!0)),this.agentRef.runtime.session.isNew||r?this.mode=e:this.mode=this.agentRef.runtime.session.state.sessionTraceMode,this.mode===a.IK.OFF?this.deregisterDrain():(this.timeKeeper??=this.agentRef.runtime.timeKeeper,(0,n.X)("bst",((...e)=>this.events.storeEvent(...e)),this.featureName,this.ee),(0,n.X)("bstResource",((...e)=>this.events.storeResources(...e)),this.featureName,this.ee),(0,n.X)("bstHist",((...e)=>this.events.storeHist(...e)),this.featureName,this.ee),(0,n.X)("bstXhrAgg",((...e)=>this.events.storeXhrAgg(...e)),this.featureName,this.ee),(0,n.X)("bstApi",((...e)=>this.events.storeSTN(...e)),this.featureName,this.ee),(0,n.X)("trace-jserror",((...e)=>this.events.storeErrorAgg(...e)),this.featureName,this.ee),(0,n.X)("pvtAdded",((...e)=>this.events.processPVT(...e)),this.featureName,this.ee),this.mode!==a.IK.FULL&&(0,n.X)("trace-jserror",(()=>{this.mode===a.IK.ERROR&&this.switchToFull()}),this.featureName,this.ee),this.agentRef.runtime.session.write({sessionTraceMode:this.mode}),void this.drain()))}preHarvestChecks(){if(this.mode===a.IK.FULL&&this.timeKeeper?.ready&&this.agentRef.runtime.session){if(this.sessionId===this.agentRef.runtime.session.state.value&&this.ptid===this.agentRef.runtime.ptid)return!0;this.abort(3)}}serializer({stns:e}){if(e.length)return this.everHarvested=!0,(0,g.R)(e,this.obfuscator.obfuscateString.bind(this.obfuscator),"string")}queryStringsBuilder({stns:e,earliestTimeStamp:t,latestTimeStamp:r}){const n=!this.agentRef.runtime.session.state.traceHarvestStarted;n&&this.agentRef.runtime.session.write({traceHarvestStarted:!0});const i=1===this.agentRef.runtime.session.state.sessionReplayMode,s=this.agentRef.info.jsAttributes["enduser.id"],o=this.agentRef.runtime.appMetadata.agents?.[0]?.entityGuid;return{browser_monitoring_key:this.agentRef.info.licenseKey,type:"BrowserSessionChunk",app_id:this.agentRef.info.applicationID,protocol_version:"0",timestamp:Math.floor(this.timeKeeper.correctRelativeTimestamp(t)),attributes:(0,m.j6)({...o&&{entityGuid:o},harvestId:"".concat(this.agentRef.runtime.session.state.value,"_").concat(this.agentRef.runtime.ptid,"_").concat(this.agentRef.runtime.harvestCount),"trace.firstTimestamp":Math.floor(this.timeKeeper.correctRelativeTimestamp(t)),"trace.lastTimestamp":Math.floor(this.timeKeeper.correctRelativeTimestamp(r)),"trace.nodes":e.length,"trace.originTimestamp":this.timeKeeper.correctedOriginTime,agentVersion:this.agentRef.runtime.version,...n&&{firstSessionHarvest:n},...i&&{hasReplay:i},ptid:"".concat(this.ptid),session:"".concat(this.sessionId),...s&&{"enduser.id":this.obfuscator.obfuscateString(s)},currentUrl:this.obfuscator.obfuscateString((0,y.f)(""+location))},5e3).substring(1)}}switchToFull(){if(this.mode===a.IK.FULL||!this.entitled||this.blocked)return;const e=this.mode;if(this.mode=a.IK.FULL,this.agentRef.runtime.session.write({sessionTraceMode:this.mode}),e===a.IK.OFF||!this.initialized)return this.initialize(this.mode,this.entitled);this.initialized&&(this.events.trimSTNs(3e4),this.agentRef.runtime.harvester.triggerHarvestFor(this))}abort(){this.blocked=!0,this.mode=a.IK.OFF,this.agentRef.runtime.session.write({sessionTraceMode:this.mode}),this.events.clear()}}},2613:function(e,t,r){r.d(t,{BST_RESOURCE:function(){return i},END:function(){return a},FEATURE_NAME:function(){return n},FN_END:function(){return l},FN_START:function(){return c},PUSH_STATE:function(){return u},RESOURCE:function(){return s},START:function(){return o},c:function(){return h}});const n=r(4663).DT.sessionTrace,i="bstResource",s="resource",o="-start",a="-end",c="fn"+o,l="fn"+a,u="pushState",h=1e3},6352:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return _}});var n=r(5300),i=r(5992),s=r(8597),o=r(755),a=r(4663),c=r(4716),l=r(2745);const u=["click","keydown","submit","popstate"],h="initialPageLoad",d=a.DT.softNav,p="",f=1,m=2,g=1,y=2,v="in progress",b="finished",w="cancelled";var S=r(6834);let T=0;class I{belType;children=[];start;end;callbackEnd=0;callbackDuration=0;nodeId=++T;constructor(e){if(!e)throw new Error("Interaction is missing core attributes");this.agentIdentifier=e}addChild(e){this.children.push(e)}serialize(){}}class C extends I{constructor(e,t){super(e),this.belType=y,this.method=t.method,this.status=t.status,this.domain=t.domain,this.path=t.path,this.txSize=t.requestSize,this.rxSize=t.responseSize,this.requestedWith="fetch"===t.type?1:"",this.spanId=t.spanId,this.traceId=t.traceId,this.spanTimestamp=t.spanTimestamp,this.gql=t.gql,this.start=t.startTime,this.end=t.endTime}serialize(e){const t=(0,S.FX)(this.agentIdentifier),r=[],n=[(0,S.uR)(this.belType),0,(0,S.uR)(this.start-e),(0,S.uR)(this.end-this.start),(0,S.uR)(this.callbackEnd),(0,S.uR)(this.callbackDuration),t(this.method),(0,S.uR)(this.status),t(this.domain),t(this.path),(0,S.uR)(this.txSize),(0,S.uR)(this.rxSize),this.requestedWith,t(this.nodeId),(0,S.AG)(this.spanId,t,!0)+(0,S.AG)(this.traceId,t,!0)+(0,S.AG)(this.spanTimestamp,S.uR)];let i=[];return"object"==typeof this.gql&&(i=(0,S.n1)(this.gql,t)),this.children.forEach((e=>i.push(e.serialize()))),n[1]=(0,S.uR)(i.length),r.push(n),i.length&&r.push(i.join(";")),r.join(";")}}var x=r(1131),R=r(8312),E=r(9152),A=r(765),k=r(1595),O=r(1478);class M extends I{id=(0,A.Rl)();initialPageURL=E.FN;customName;customAttributes={};customDataByApi={};queueTime;appTime;newRoute;status=v;domTimestamp=0;historyTimestamp=0;createdByApi=!1;keepOpenUntilEndApi=!1;onDone=[];cancellationTimer;constructor(e,t,r,n,i){super(e),this.belType=g,this.trigger=t,this.start=r,this.oldRoute=n,this.eventSubscription=new Map([["finished",[]],["cancelled",[]]]),this.forceSave=this.forceIgnore=!1,"api"===this.trigger&&(this.createdByApi=!0),this.newURL=this.oldURL=i||E._A?.location.href}updateDom(e){this.domTimestamp=e||(0,k.z)()}updateHistory(e,t){this.newURL=t||""+E._A?.location,this.historyTimestamp=e||(0,k.z)()}seenHistoryAndDomChange(){return this.historyTimestamp>0&&this.domTimestamp>this.historyTimestamp}on(e,t){if(!this.eventSubscription.has(e))throw new Error("Cannot subscribe to non pre-defined events.");if("function"!=typeof t)throw new Error("Must supply function as callback.");this.eventSubscription.get(e).push(t)}done(e){return(!this.keepOpenUntilEndApi||void 0!==e)&&(this.status!==v||(this.onDone.forEach((e=>e(this.customDataByApi))),this.forceIgnore?this.#v():this.seenHistoryAndDomChange()?this.#b(e):this.forceSave?this.#b(e||performance.now()):this.#v()),!0)}#b(e=0){clearTimeout(this.cancellationTimer),this.end=Math.max(this.domTimestamp,this.historyTimestamp,e),this.customAttributes={...(0,R.C5)(this.agentIdentifier).jsAttributes,...this.customAttributes},this.status=b;this.eventSubscription.get("finished").forEach((e=>e()))}#v(){clearTimeout(this.cancellationTimer),this.status=w;this.eventSubscription.get("cancelled").forEach((e=>e()))}isActiveDuring(e){return this.status===v?this.start<=e:this.status===b&&this.start<=e&&this.end>e}get firstPaint(){}get firstContentfulPaint(){}get navTiming(){}serialize(e){const t=void 0===e,r=(0,S.FX)(this.agentIdentifier),n=[];let i;i=this.trigger===h?p:this.newURL!==this.oldURL?f:m;const s=[(0,S.uR)(this.belType),0,(0,S.uR)(this.start-(t?0:e)),(0,S.uR)(this.end-this.start),(0,S.uR)(this.callbackEnd),(0,S.uR)(this.callbackDuration),r(this.trigger),r((0,O.f)(this.initialPageURL,!0)),r((0,O.f)(this.oldURL,!0)),r((0,O.f)(this.newURL,!0)),r(this.customName),i,(0,S.AG)(this.queueTime,S.uR,!0)+(0,S.AG)(this.appTime,S.uR,!0)+(0,S.AG)(this.oldRoute,r,!0)+(0,S.AG)(this.newRoute,r,!0)+r(this.id),r(this.nodeId),(0,S.AG)(this.firstPaint,S.uR,!0)+(0,S.AG)(this.firstContentfulPaint,S.uR)],o=(0,S.n1)(this.customAttributes||{},r);return(0,R.C5)(this.agentIdentifier).atts&&o.push("a,"+r((0,R.C5)(this.agentIdentifier).atts)),this.children.forEach((r=>o.push(r.serialize(t?this.start:e)))),s[1]=(0,S.uR)(o.length),n.push(s),o.length&&n.push(o.join(";")),this.navTiming?n.push(this.navTiming):n.push(""),n.join(";")}}var N=r(3600),D=r(3892);class P extends M{constructor(e){super(e,h,0,null);const t=(0,R.C5)(e);this.queueTime=t.queueTime,this.appTime=t.applicationTime}get firstPaint(){return N.U.current.value}get firstContentfulPaint(){return D.y.current.value}get navTiming(){if(!x.zJ.length)return;let e=",",t="b",r=0;return x.zJ.slice(1,21).forEach((n=>{void 0!==n?(t+=e+(0,S.uR)(n-r),e=",",r=n):(t+=e+"!",e="")})),t}}class _ extends l.m{static featureName=d;constructor(e,{domObserver:t}){super(e,d),this.interactionsToHarvest=this.events,this.domObserver=t,this.initialPageLoadInteraction=new P(e.agentIdentifier),this.initialPageLoadInteraction.onDone.push((()=>{this.initialPageLoadInteraction.forceSave=!0,this.interactionsToHarvest.add(this.initialPageLoadInteraction),this.initialPageLoadInteraction=null})),o.P.subscribe((({attrs:e})=>{const t=e.navigationEntry.loadEventEnd;this.initialPageLoadInteraction.done(t),(0,n.p)(c.xS,["SoftNav/Interaction/InitialPageLoad/Duration/Ms",Math.round(t)],void 0,a.DT.metrics,this.ee)})),this.latestRouteSetByApi=null,this.interactionInProgress=null,this.latestHistoryUrl=null,this.harvestOpts.beforeUnload=()=>this.interactionInProgress?.done(),this.waitForFlags(["spa"]).then((([t])=>{t?(this.drain(),setTimeout((()=>e.runtime.harvester.triggerHarvestFor(this)),0)):(this.blocked=!0,this.deregisterDrain())})),(0,i.X)("newUIEvent",(e=>this.startUIInteraction(e.type,Math.floor(e.timeStamp),e.target)),this.featureName,this.ee),(0,i.X)("newURL",((e,t)=>{this.latestHistoryUrl=t,this.interactionInProgress?.updateHistory(e,t)}),this.featureName,this.ee),(0,i.X)("newDom",(e=>{this.interactionInProgress?.updateDom(e),this.interactionInProgress?.seenHistoryAndDomChange()&&this.interactionInProgress.done()}),this.featureName,this.ee),this.#w(),(0,i.X)("ajax",this.#S.bind(this),this.featureName,this.ee),(0,i.X)("jserror",this.#T.bind(this),this.featureName,this.ee)}serializer(e){let t;const r=[];for(const n of e)r.push(n.serialize(t)),void 0===t&&(t=Math.floor(n.start));return"bel.7;".concat(r.join(";"))}startUIInteraction(e,t,r){if(this.interactionInProgress?.createdByApi)return;if(!1===this.interactionInProgress?.done())return;const i=e===u[3]?this.latestHistoryUrl:void 0;if(this.interactionInProgress=new M(this.agentIdentifier,e,t,this.latestRouteSetByApi,i),e===u[0]){const e=function(e){const t=e.tagName.toLowerCase();if(["a","button","input"].includes(t))return e.title||e.value||e.innerText}(r);e&&(this.interactionInProgress.customAttributes.actionText=e)}this.interactionInProgress.cancellationTimer=setTimeout((()=>{this.interactionInProgress.done(),(0,n.p)(c.xS,["SoftNav/Interaction/TimeOut"],void 0,a.DT.metrics,this.ee)}),3e4),this.setClosureHandlers()}setClosureHandlers(){this.interactionInProgress.on("finished",(()=>{const e=this.interactionInProgress;this.interactionsToHarvest.add(this.interactionInProgress),this.interactionInProgress=null,this.domObserver.disconnect(),(0,n.p)(c.xS,["SoftNav/Interaction/".concat(e.newURL!==e.oldURL?"RouteChange":"Custom","/Duration/Ms"),Math.round(e.end-e.start)],void 0,a.DT.metrics,this.ee)})),this.interactionInProgress.on("cancelled",(()=>{this.interactionInProgress=null,this.domObserver.disconnect()}))}getInteractionFor(e){if(this.interactionInProgress?.isActiveDuring(e))return this.interactionInProgress;let t;const r=this.interactionsToHarvest.get(this.agentRef.mainAppKey)[0].data;for(let n=r.length-1;n>=0;n--){const i=r[n];if(i.isActiveDuring(e)){if(i.trigger!==h)return i;t=i}}return t||(this.initialPageLoadInteraction?.isActiveDuring(e)?this.initialPageLoadInteraction:void 0)}#S(e){const t=this.getInteractionFor(e.startTime);function r(e,t,r){const n=new C(e,t);r.addChild(n)}t?t.status===b?r(this.agentIdentifier,e,t):(t.on("finished",(()=>r(this.agentIdentifier,e,t))),t.on("cancelled",(()=>(0,n.p)("returnAjax",[e],void 0,a.DT.ajax,this.ee)))):(0,n.p)("returnAjax",[e],void 0,a.DT.ajax,this.ee)}#T(e,t){const r=this.getInteractionFor(t);r&&(e.browserInteractionId=r.id,r.status===b?(e._softNavFinished=!0,e._softNavAttributes=r.customAttributes):(r.on("finished",(0,s.Z)((()=>(0,n.p)("softNavFlush",[r.id,!0,r.customAttributes],void 0,a.DT.jserrors,this.ee)))),r.on("cancelled",(0,s.Z)((()=>(0,n.p)("softNavFlush",[r.id,!1,void 0],void 0,a.DT.jserrors,this.ee))))))}#w(){const e="api-ixn-",t=this;(0,i.X)(e+"get",(function(e,{waitForEnd:r}={}){this.associatedInteraction=t.getInteractionFor(e),this.associatedInteraction?.trigger===h&&(this.associatedInteraction=null),this.associatedInteraction||(this.associatedInteraction=t.interactionInProgress=new M(t.agentIdentifier,"api",e,t.latestRouteSetByApi),t.domObserver.observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),t.setClosureHandlers()),!0===r&&(this.associatedInteraction.keepOpenUntilEndApi=!0)}),t.featureName,t.ee),(0,i.X)(e+"end",(function(e){this.associatedInteraction.done(e)}),t.featureName,t.ee),(0,i.X)(e+"save",(function(){this.associatedInteraction.forceSave=!0}),t.featureName,t.ee),(0,i.X)(e+"ignore",(function(){this.associatedInteraction.forceIgnore=!0}),t.featureName,t.ee),(0,i.X)(e+"getContext",(function(e,t){"function"==typeof t&&setTimeout((()=>t(this.associatedInteraction.customDataByApi)),0)}),t.featureName,t.ee),(0,i.X)(e+"onEnd",(function(e,t){"function"==typeof t&&this.associatedInteraction.onDone.push(t)}),t.featureName,t.ee),(0,i.X)(e+"actionText",(function(e,t){t&&(this.associatedInteraction.customAttributes.actionText=t)}),t.featureName,t.ee),(0,i.X)(e+"setName",(function(e,t,r){t&&(this.associatedInteraction.customName=t),r&&(this.associatedInteraction.trigger=r)}),t.featureName,t.ee),(0,i.X)(e+"setAttribute",(function(e,t,r){this.associatedInteraction.customAttributes[t]=r}),t.featureName,t.ee),(0,i.X)(e+"routeName",(function(e,r){t.latestRouteSetByApi=r,t.interactionInProgress&&(t.interactionInProgress.newRoute=r)}),t.featureName,t.ee)}}},6478:function(e,t,r){r.r(t),r.d(t,{Aggregate:function(){return pe}});var n={};r.r(n),r.d(n,{CB_START:function(){return P},FEATURE_NAME:function(){return k},FETCH_BODY:function(){return H},FETCH_DONE:function(){return z},FETCH_START:function(){return B},FN_END:function(){return D},FN_START:function(){return N},INTERACTION:function(){return L},INTERACTION_API:function(){return _},INTERACTION_EVENTS:function(){return O},JSONP_END:function(){return G},JSONP_NODE:function(){return U},MAX_TIMER_BUDGET:function(){return M},REMAINING:function(){return F},SPA_NODE:function(){return j},originalSetTimeout:function(){return K}});var i=r(5992),s=r(8490),o=r(4741),a=r(1131),c=r(765),l=r(8312),u=r(9152),h=r(3131),d=r(5891),p=0;function f(e,t,r,n){Object.defineProperty(this,"interaction",{value:e,writable:!0}),this.parent=t,this.id=++p,this.type=r,this.children=[],this.end=null,this.jsEnd=this.start=n,this.jsTime=0,this.attrs={},this.cancelled=!1}var m=f.prototype;m.child=function(e,t,r,n){var i=this.interaction;if(i.end||i.nodes>=128)return null;i.onNodeAdded(this);var s=new f(i,this,e,t);return s.attrs.name=r,i.nodes++,n||i.remaining++,s},m.callback=function(e,t){var r=this;r.jsTime+=e,t>r.jsEnd&&(r.jsEnd=t,r.interaction.lastCb=t)},m.cancel=function(){this.cancelled=!0,this.interaction.remaining--},m.finish=function(e){var t=this;if(t.end)return;t.end=e;let r=t.parent;for(;r?.cancelled;)r=r.parent;r&&r.children.push(t),t.parent=null;var n=this.interaction;n.remaining--,n.lastFinish=e,n.checkFinish()};var g=(0,h.mF)().o.ST,y=(0,h.mF)().o.CT,v={};function b(e,t,r,n,i,s){this.agentIdentifier=s,this.ee=d.ee.get(s),v[s]=0,this.id=++v[s],this.eventName=e,this.nodes=0,this.remaining=0,this.finishTimer=null,this.checkingFinish=!1,this.lastCb=this.lastFinish=t,this.handlers=[],this.onFinished=i,this.done=!1;var o=(this.root=new f(this,null,"interaction",t)).attrs;o.trigger=e,o.initialPageURL=u.FN,o.oldRoute=n,o.newURL=o.oldURL=r,o.custom={},o.store={}}var w=b.prototype;w.checkFinish=function(){var e=this;e.remaining>0?e._resetFinishCheck():e.checkingFinish||null===e.root.end&&(e._resetFinishCheck(),e.checkingFinish=!0,e.finishTimer=g((()=>{e.checkingFinish=!1,e.finishTimer=g((()=>{e.finishTimer=null,e.remaining<=0&&e.finish()}),1)}),0))},w.setNewURL=function(e){this.root.attrs.newURL=e},w.setNewRoute=function(e){this.root.attrs.newRoute=e},w.onNodeAdded=function(){this._resetFinishCheck()},w._resetFinishCheck=function(){this.finishTimer&&(y(this.finishTimer),this.finishTimer=null,this.checkingFinish=!1)},w.finish=function(){var e=this,t=e.root;if(null===t.end){var r=Math.max(e.lastCb,e.lastFinish),n=t.attrs.custom;this.onFinished&&this.onFinished(this),Object.entries((0,l.C5)(e.agentIdentifier).jsAttributes||{}).forEach((([e,t])=>{e in n||(n[e]=t)})),t.end=r,e.ee.emit("interaction",[this])}};var S=r(5944),T=r(1478),I=r(6834),C=r(1639);const x={agentIdentifier:"",ee:void 0};class R{constructor(e){try{if("object"!=typeof e)return(0,C.Z)(8);this.sharedContext={},Object.assign(this.sharedContext,x),Object.entries(e).forEach((([e,t])=>{Object.keys(x).includes(e)&&(this.sharedContext[e]=t)}))}catch(e){(0,C.Z)(9,e)}}}class E extends R{constructor(e){super(e),this.firstTimestamp=void 0}serializeMultiple(e,t,r){const n=(0,l.C5)(this.sharedContext.agentIdentifier);var i=(0,I.FX)(this.sharedContext.agentIdentifier),s="bel.7";return e.forEach((e=>{s+=";"+this.serializeInteraction(e.root,t,r,e.routeChange,i,n)})),this.firstTimestamp=void 0,s}serializeSingle(e,t,r,n){const i=(0,l.C5)(this.sharedContext.agentIdentifier);var s=(0,I.FX)(this.sharedContext.agentIdentifier),o="bel.7;"+this.serializeInteraction(e,t,r,n,s,i);return this.firstTimestamp=void 0,o}serializeInteraction(e,t,r,n,i,s){t=t||0;var o="initialPageLoad"===e.attrs.trigger,a={interaction:1,ajax:2,customTracer:4},c=!0;const l=(e,u)=>{if("customEnd"===e.type)return u.push([3,(0,I.uR)(e.end-this.firstTimestamp)]);var h=e.type,d=a[h],p=e.start,f=e.children.length,m=0,g=s.atts,y=o&&r.length&&1===d,v=[],b=e.attrs,w=b.metrics,S=b.params,C=s.queueTime,x=s.applicationTime;void 0===this.firstTimestamp?(p+=t,this.firstTimestamp=p):p-=this.firstTimestamp;var R=[(0,I.uR)(p),(0,I.uR)(e.end-e.start),(0,I.uR)(e.jsEnd-e.end),(0,I.uR)(e.jsTime)];switch(d){case 1:R[2]=(0,I.uR)(e.jsEnd-this.firstTimestamp),R.push(i(b.trigger),i((0,T.f)(b.initialPageURL,c)),i((0,T.f)(b.oldURL,c)),i((0,T.f)(b.newURL,c)),i(b.customName),o?"":n?1:2,(0,I.AG)(o&&C,I.uR,!0)+(0,I.AG)(o&&x,I.uR,!0)+(0,I.AG)(b.oldRoute,i,!0)+(0,I.AG)(b.newRoute,i,!0)+i(b.id),i(e.id),(0,I.AG)(b.firstPaint,I.uR,!0)+(0,I.AG)(b.firstContentfulPaint,I.uR,!1));var E=(0,I.n1)(b.custom,i);v=v.concat(E),m=E.length,g&&(f++,v.push("a,"+i(g)));break;case 2:if(R.push(i(S.method),(0,I.uR)(S.status),i(S.host),i(S.pathname),(0,I.uR)(w.txSize),(0,I.uR)(w.rxSize),b.isFetch?1:b.isJSONP?2:"",i(e.id),(0,I.AG)(e.dt&&e.dt.spanId,i,!0)+(0,I.AG)(e.dt&&e.dt.traceId,i,!0)+(0,I.AG)(e.dt&&e.dt.timestamp,I.uR,!1)),Object.keys(S?.gql||{}).length){var A=(0,I.n1)(S.gql,i);v=v.concat(A),m=A.length}break;case 4:var k=b.tracedTime;R.push(i(b.name),(0,I.AG)(k,I.uR,!0)+i(e.id))}for(var O=0;O<e.children.length;O++)l(e.children[O],v);if(R.unshift((0,I.uR)(d),(0,I.uR)(f+=m)),u.push(R),f&&u.push(v.join(";")),y){var M=",",N="b",D=0;Object.values(r.slice(1,21)||{}).forEach((e=>{void 0!==e?(N+=M+(0,I.uR)(e-D),M=",",D=e):(N+=M+"!",M="")})),u.push(N)}else 1===d&&u.push("");return u};return l(e,[]).join(";")}}var A=r(4663);const k=A.DT.spa,O=["click","submit","keypress","keydown","keyup","change"],M=999,N="fn-start",D="fn-end",P="cb-start",_="api-ixn-",F="remaining",L="interaction",j="spaNode",U="jsonpNode",B="fetch-start",z="fetch-done",H="fetch-body-",G="jsonp-end",K=(0,h.mF)().o.ST;var V=r(2745),X=r(3892),W=r(3600),Z=r(2965),Y=r(5300),q=r(4716);const{FEATURE_NAME:J,INTERACTION_EVENTS:$,MAX_TIMER_BUDGET:Q,FN_START:ee,FN_END:te,CB_START:re,INTERACTION_API:ne,REMAINING:ie,INTERACTION:se,SPA_NODE:oe,JSONP_NODE:ae,FETCH_START:ce,FETCH_DONE:le,FETCH_BODY:ue,JSONP_END:he,originalSetTimeout:de}=n;class pe extends V.m{static featureName=J;constructor(e){super(e,J);const t=this.state={initialPageURL:u.FN,lastSeenUrl:u.FN,lastSeenRouteName:null,timerMap:{},timerBudget:Q,currentNode:null,prevNode:null,nodeOnLastHashUpdate:null,initialPageLoad:null,pageLoaded:!1,childTime:0,depth:0,disableSpaFix:(e.init.feature_flags||[]).indexOf("disable-spa-fix")>-1};this.spaSerializerClass=new E(this);const r=this,n=d.ee.get(e.agentIdentifier),a=n.get("mutation"),l=n.get("promise"),h=n.get("history"),p=n.get("events"),f=n.get("timer"),m=n.get("fetch"),g=n.get("jsonp"),y=n.get("xhr"),v=n.get("tracer");let w;if(this.waitForFlags(["spa"]).then((([t])=>{t?(w=e.runtime.harvester,this.drain()):(this.blocked=!0,this.deregisterDrain())})),!0===e.init.spa.enabled){t.initialPageLoad=new b("initialPageLoad",0,t.lastSeenUrl,t.lastSeenRouteName,N,e.agentIdentifier),t.initialPageLoad.save=!0,t.prevInteraction=t.initialPageLoad,t.currentNode=t.initialPageLoad.root,t.initialPageLoad[ie]++,(0,i.X)(ee,I,this.featureName,n),(0,i.X)(re,I,this.featureName,l);var T={getCurrentNode:function(){return t.currentNode},setCurrentNode:M};(0,i.X)("spa-register",(function(e){"function"==typeof e&&e(T)}),A.DT.spa,n),(0,i.X)(te,x,this.featureName,n),(0,i.X)("cb-end",x,this.featureName,l),(0,i.X)(ee,(function(r,i){var s=r[0],o=s.type,a=s["__nrNode:".concat(Z.a)];if(!t.pageLoaded&&("load"===o&&i===window||u.LW)&&(t.pageLoaded=!0,this.prevNode=t.currentNode=null,t.initialPageLoad&&(a=t.initialPageLoad.root,t.initialPageLoad[ie]=0,de((function(){$.push("popstate")})))),a)M(a);else if("hashchange"===o)M(t.nodeOnLastHashUpdate),t.nodeOnLastHashUpdate=null;else if(i instanceof XMLHttpRequest)M(n.context(i).spaNode);else if(!t.currentNode&&-1!==$.indexOf(o)){var c=new b(o,this[ee],t.lastSeenUrl,t.lastSeenRouteName,N,e.agentIdentifier);if(t.prevInteraction=c,M(c.root),"click"===o){var l=function(e){var t=e.tagName.toLowerCase();if(-1!==["a","button","input"].indexOf(t))return e.title||e.value||e.innerText}(s.target);l&&(t.currentNode.attrs.custom.actionText=l)}}s["__nrNode:".concat(Z.a)]=t.currentNode}),this.featureName,p),(0,i.X)("setTimeout-end",(function(e,r,n){!t.currentNode||t.timerBudget-this.timerDuration<0||(!e||e[0]instanceof Function)&&(t.currentNode[se][ie]++,this.timerId=n,t.timerMap[n]=t.currentNode,this.timerBudget=t.timerBudget-50)}),this.featureName,f),(0,i.X)("clearTimeout-start",(function(e){var r=e[0],n=t.timerMap[r];if(n){var i=n[se];i[ie]--,i.checkFinish(),delete t.timerMap[r]}}),this.featureName,f),(0,i.X)(ee,(function(){t.timerBudget=this.timerBudget||Q;var e=this.timerId,r=t.timerMap[e];M(r),delete t.timerMap[e],r&&r[se][ie]--}),this.featureName,f),(0,i.X)(ee,(function(){M(this[oe])}),this.featureName,y),(0,i.X)("new-xhr",(function(){if(!t.disableSpaFix&&!t.currentNode&&t.prevInteraction&&!t.prevInteraction.ignored){const e=t.prevInteraction;t.currentNode=e.root,e.root.end=null}t.currentNode&&(this[oe]=t.currentNode.child("ajax",null,null,!0))}),this.featureName,y),(0,i.X)("send-xhr-start",(function(){var t=this[oe];t&&!this.sent&&(this.sent=!0,t.dt=this.dt,t.dt?.timestamp&&(t.dt.timestamp=e.runtime.timeKeeper.correctAbsoluteTimestamp(t.dt.timestamp)),t.jsEnd=t.start=this.startTime,t[se][ie]++)}),this.featureName,y),(0,i.X)("xhr-resolved",(function(){var e=this[oe];if(e){if(!(0,o.zR)(this.params))return void e.cancel();var t=e.attrs;t.params=this.params,t.metrics=this.metrics,e.finish(this.endTime),this.currentNode&&this.currentNode.interaction&&this.currentNode.interaction.checkFinish()}}),this.featureName,n),(0,i.X)("new-jsonp",(function(e){t.currentNode&&((this[ae]=t.currentNode.child("ajax",this[ce])).start=this["new-jsonp"],this.url=e,this.status=null)}),this.featureName,g),(0,i.X)("cb-start",(function(e){var t=this[ae];t&&(M(t),this.status=200)}),this.featureName,g),(0,i.X)("jsonp-error",(function(){var e=this[ae];e&&(M(e),this.status=0)}),this.featureName,g),(0,i.X)(he,(function(){var e=this[ae];if(e){if(null===this.status)return void e.cancel();var t=e.attrs,r=t.params={},n=(0,s.e)(this.url);r.method="GET",r.pathname=n.pathname,r.host=n.hostname+":"+n.port,r.status=this.status,t.metrics={txSize:0,rxSize:0},t.isJSONP=!0,e.jsEnd=this[he],e.jsTime=this[re]?this[he]-this[re]:0,e.finish(e.jsEnd)}}),this.featureName,g),(0,i.X)(ce,(function(r,n){if(r){if(!t.disableSpaFix&&!t.currentNode&&t.prevInteraction&&!t.prevInteraction.ignored){const e=t.prevInteraction;t.currentNode=e.root,e.root.end=null}t.currentNode&&(this[oe]=t.currentNode.child("ajax",this[ce]),n&&this[oe]&&(this[oe].dt=n,this[oe].dt?.timestamp&&(this[oe].dt.timestamp=e.runtime.timeKeeper.correctAbsoluteTimestamp(this[oe].dt.timestamp))))}}),this.featureName,m),(0,i.X)(ue+"start",(function(e){t.currentNode&&(this[oe]=t.currentNode,t.currentNode[se][ie]++)}),this.featureName,m),(0,i.X)(ue+"end",(function(e,t,r){var n=this[oe];n&&n[se][ie]--}),this.featureName,m),(0,i.X)(le,(function(e,t){var r=this[oe];if(r){if(e||!(0,o.zR)(this.params))return void r.cancel();var n=r.attrs;n.params=this.params,n.metrics={txSize:this.txSize,rxSize:this.rxSize},n.isFetch=!0,r.finish(this[le])}}),this.featureName,m),(0,i.X)("newURL",(function(e,r){if(t.currentNode)t.currentNode[se].setNewURL(e);else if(t.prevInteraction&&!t.prevInteraction.ignored){const r=t.prevInteraction;r.setNewURL(e),r.root.end=null,M(r.root)}t.currentNode&&(t.lastSeenUrl!==e&&(t.currentNode[se].routeChange=!0),r&&(t.nodeOnLastHashUpdate=t.currentNode)),t.lastSeenUrl=e}),this.featureName,h),g.on("dom-start",(function(e){if(t.currentNode){var r=e[0],n=r&&"SCRIPT"===r.nodeName&&""!==r.src,i=t.currentNode.interaction;n&&(i[ie]++,r.addEventListener("load",(function(){i[ie]--,i.checkFinish()}),(0,S.m$)(!1)),r.addEventListener("error",(function(){i[ie]--,i.checkFinish()}),(0,S.m$)(!1)))}})),(0,i.X)(ee,(function(){M(t.prevNode)}),this.featureName,a),(0,i.X)("resolve-start",O,this.featureName,l),(0,i.X)("executor-err",O,this.featureName,l),(0,i.X)("propagate",(function(e,r){!r&&this[oe]||(this[oe]=t.currentNode)}),this.featureName,l),(0,i.X)(re,(function(){M((this.getCtx?this.getCtx():this)[oe])}),this.featureName,l),(0,i.X)(ne+"get",(function(r){var n;n=this.ixn=t?.currentNode?.[se]?t.currentNode[se]:null===t?.prevNode?.end&&"initialPageLoad"!==t?.prevNode?.[se]?.root?.[se]?.eventName?t.prevNode[se]:new b("api",r,t.lastSeenUrl,t.lastSeenRouteName,N,e.agentIdentifier),t.currentNode||(n.checkFinish(),t.depth&&M(n.root))}),this.featureName,n),(0,i.X)(ne+"actionText",(function(e,t){var r=this.ixn.root.attrs.custom;t&&(r.actionText=t)}),this.featureName,n),(0,i.X)(ne+"setName",(function(e,t,r){var n=this.ixn.root.attrs;t&&(n.customName=t),r&&(n.trigger=r)}),this.featureName,n),(0,i.X)(ne+"setAttribute",(function(e,t,r){this.ixn.root.attrs.custom[t]=r}),this.featureName,n),(0,i.X)(ne+"end",(function(e){var t=this.ixn,r=k(t);M(null),r.child("customEnd",e)?.finish(e),t.finish()}),this.featureName,n),(0,i.X)(ne+"ignore",(function(e){this.ixn.ignored=!0}),this.featureName,n),(0,i.X)(ne+"save",(function(e){this.ixn.save=!0}),this.featureName,n),(0,i.X)(ne+"tracer",(function(e,t,r){var i=this.ixn,s=k(i),o=n.context(r);if(!t)return o.inc=++i[ie],o[oe]=s;o[oe]=s.child("customTracer",e,t)}),this.featureName,n),(0,i.X)(ee,R,this.featureName,v),(0,i.X)("no-"+ee,R,this.featureName,v),(0,i.X)(ne+"getContext",(function(e,t){var r=this.ixn.root.attrs.store;setTimeout((function(){t(r)}),0)}),this.featureName,n),(0,i.X)(ne+"onEnd",(function(e,t){this.ixn.handlers.push(t)}),this.featureName,n),(0,i.X)("api-routeName",(function(e,r){t.lastSeenRouteName=r,t.currentNode&&t.currentNode[se].setNewRoute(r)}),this.featureName,n),n.on("spa-jserror",(function(e,r,n,i){t.currentNode&&(n._interactionId=t.currentNode.interaction.id,t.currentNode.type&&"interaction"!==t.currentNode.type&&(n._interactionNodeId=t.currentNode.id))})),(0,i.X)("function-err",(function(r,n,i){t.currentNode&&(i.__newrelic??={},i.__newrelic[e.agentIdentifier]={interactionId:t.currentNode.interaction.id},t.currentNode.type&&"interaction"!==t.currentNode.type&&(i.__newrelic[e.agentIdentifier].interactionNodeId=t.currentNode.id))}),this.featureName,n),n.on("interaction",(function(e){if(e.ignored||!e.save&&!e.routeChange)return void n.emit("interactionDone",[e,!1]);t.prevInteraction===e&&(t.prevInteraction=null);e.root.attrs.id=(0,c.Rl)(),"initialPageLoad"===e.root.attrs.trigger&&(e.root.attrs.firstPaint=W.U.current.value,e.root.attrs.firstContentfulPaint=X.y.current.value);let i;n.emit("interactionDone",[e,!0]),r.events.add(e),i="initialPageLoad"===e.root?.attrs?.trigger?"InitialPageLoad":e.routeChange?"RouteChange":"Custom";if((0,Y.p)(q.xS,["Spa/Interaction/".concat(i,"/Duration/Ms"),Math.max((e.root?.end||0)-(e.root?.start||0),0)],void 0,A.DT.metrics,n),!w)return void(0,C.Z)(19);w.triggerHarvestFor(r)}))}function I(){t.depth++,this.prevNode=t.currentNode,this.ct=t.childTime,t.childTime=0,t.timerBudget=Q}function x(){t.depth--;var e=this.jsTime||0,r=e-t.childTime;t.childTime=this.ct+e,t.currentNode&&(t.currentNode.callback(r,this[te]),this.isTraced&&(t.currentNode.attrs.tracedTime=r)),this.jsTime=t.currentNode?0:r,M(this.prevNode),this.prevNode=null,t.timerBudget=Q}function R(e,t,r){var n=this[oe];if(n){var i=n[se],s=this.inc;this.isTraced=!0,s?i[ie]--:n&&n.finish(e),r?M(n):i.checkFinish()}}function k(e){return t.currentNode&&t.currentNode[se]===e?t.currentNode:e.root}function O(){this.resolved||(this.resolved=!0,this[oe]=t.currentNode)}function M(e){t.pageLoaded||e||!t.initialPageLoad||(e=t.initialPageLoad.root),t.currentNode&&t.currentNode[se].checkFinish(),t.prevNode=t.currentNode,t.currentNode=e&&!e[se].root.end?e:null}function N(e){e===t.initialPageLoad&&(t.initialPageLoad=null);var r=e.root,n=r.attrs;t.currentNode=r,Object.values(e.handlers||{}).forEach((function(e){e(n.store)})),M(null)}}serializer(e){return this.spaSerializerClass.serializeMultiple(e,0,a.zJ)}}},7173:function(e,t,r){r.d(t,{setupAgentSession:function(){return C}});var n=r(1019),i=r(5891),s=r(5992),o=r(765),a=r(1639),c=r(4155);class l{constructor(e,t){if(!e.onEnd)throw new Error("onEnd handler is required");if(!t)throw new Error("ms duration is required");this.onEnd=e.onEnd,this.initialMs=t,this.startTimestamp=Date.now(),this.timer=this.create(this.onEnd,t)}create(e,t){return this.timer&&this.clear(),setTimeout((()=>e?e():this.onEnd()),t||this.initialMs)}clear(){clearTimeout(this.timer),this.timer=null}end(){this.clear(),this.onEnd()}isValid(){return this.initialMs-(Date.now()-this.startTimestamp)>0}}var u=r(9152),h=r(9181),d=r(7973),p=r(8597);class f extends l{constructor(e,t){super(e,t),this.onPause="function"==typeof e.onPause?e.onPause:()=>{},this.onRefresh="function"==typeof e.onRefresh?e.onRefresh:()=>{},this.onResume="function"==typeof e.onResume?e.onResume:()=>{},this.readStorage=e.readStorage,this.remainingMs=void 0,e.refreshEvents||(e.refreshEvents=["click","keydown","scroll"]);try{this.abortController=new AbortController}catch(e){}if(u.il&&e.ee){if(e.ee){this.ee=e.ee;const t=(0,p.D)(this.refresh.bind(this),500,{leading:!0});this.refreshHandler=r=>{e.refreshEvents.includes(r?.[0]?.type)&&t()},e.ee.on("fn-end",this.refreshHandler)}(0,d.N)((e=>{"hidden"===e?this.pause():this.resume()}),!1,!1,this.abortController?.signal)}}abort(){this.clear(),this.abortController?.abort(),this.refreshHandler&&(this.ee.removeEventListener("fn-end",this.refreshHandler),this.refreshHandler=this.ee=null)}pause(){this.onPause(),clearTimeout(this.timer),this.remainingMs=this.initialMs-(Date.now()-this.startTimestamp)}resume(){try{const t=this.readStorage(),r="string"==typeof t?JSON.parse(t):t;e(r.expiresAt)||e(r.inactiveAt)?this.end():(this.refresh(),this.onResume())}catch(e){this.end()}function e(e){return Date.now()>e}}refresh(e,t){this.clear(),this.timer=this.create(e,t),this.startTimestamp=Date.now(),this.remainingMs=void 0,this.onRefresh()}}var m=r(1520),g=r(56),y=r(5300),v=r(4716),b=r(4663),w=r(5944);const S={value:"",inactiveAt:0,expiresAt:0,updatedAt:Date.now(),sessionReplayMode:h.IK.OFF,sessionReplaySentFirstChunk:!1,sessionTraceMode:h.IK.OFF,traceHarvestStarted:!1,serverTimeDiff:null,custom:{}};class T{constructor(e){const{agentIdentifier:t,key:r,storage:n}=e;if(!t||!r||!n)throw new Error("Missing required field(s):".concat(t?"":" agentID").concat(r?"":" key").concat(n?"":" storage"));this.agentIdentifier=t,this.storage=n,this.state={},this.key=r,this.ee=i.ee.get(t),(0,m.e)(this.ee),this.setup(e),u.il&&(0,w.bP)("storage",(e=>{if(e.key===this.lookupKey){const t="string"==typeof e.newValue?JSON.parse(e.newValue):e.newValue;this.sync(t),this.ee.emit(h.wO.UPDATE,[h.uT.CROSS_TAB,this.state])}}))}setup({value:e=(0,o.ky)(16),expiresMs:t=h.oD,inactiveMs:r=h.Hb}){const n={serverTimeDiff:this.state.serverTimeDiff||S.serverTimeDiff};this.state={},this.sync({...S,...n}),this.state.value=e,this.expiresMs=t,this.inactiveMs=r;const i=this.read();t?(this.state.expiresAt=i?.expiresAt||this.getFutureTimestamp(t),this.expiresTimer=new l({onEnd:()=>{this.collectSM("expired"),this.collectSM("duration"),this.reset()}},this.state.expiresAt-Date.now())):this.state.expiresAt=1/0,r?(this.state.inactiveAt=i?.inactiveAt||this.getFutureTimestamp(r),this.inactiveTimer=new f({onEnd:()=>{this.collectSM("inactive"),this.collectSM("duration"),this.reset()},onRefresh:this.refresh.bind(this),onResume:()=>{this.ee.emit(h.wO.RESUME)},onPause:()=>{this.initialized&&this.ee.emit(h.wO.PAUSE),this.write((0,g.D)(this.state,S))},ee:this.ee,refreshEvents:["click","keydown","scroll"],readStorage:()=>this.storage.get(this.lookupKey)},this.state.inactiveAt-Date.now())):this.state.inactiveAt=1/0,this.isNew||=!Object.keys(i).length,this.isNew?this.write((0,g.D)(this.state,S),!0):this.sync(i),this.initialized=!0,this.ee.emit(h.wO.STARTED,[this.isNew])}get lookupKey(){return"".concat(h.Bq,"_").concat(this.key)}sync(e){Object.assign(this.state,e)}read(){try{const e=this.storage.get(this.lookupKey);if(!e)return{};const t="string"==typeof e?JSON.parse(e):e;return this.isInvalid(t)?{}:this.isExpired(t.expiresAt)?(this.collectSM("expired"),this.collectSM("duration",t,!0),this.reset()):this.isExpired(t.inactiveAt)?(this.collectSM("inactive"),this.collectSM("duration",t,!0),this.reset()):t}catch(e){return(0,a.Z)(10,e),{}}}write(e){try{if(!e||"object"!=typeof e)return;return e.updatedAt=Date.now(),this.sync(e),this.storage.set(this.lookupKey,(0,c.P)(this.state)),this.ee.emit(h.wO.UPDATE,[h.uT.SAME_TAB,this.state]),e}catch(e){return(0,a.Z)(11,e),null}}reset(){try{return this.initialized&&this.ee.emit(h.wO.RESET),this.storage.remove(this.lookupKey),this.inactiveTimer?.abort?.(),this.expiresTimer?.clear?.(),delete this.isNew,this.setup({agentIdentifier:this.agentIdentifier,key:this.key,storage:this.storage,expiresMs:this.expiresMs,inactiveMs:this.inactiveMs}),this.read()}catch(e){return{}}}refresh(){const e=this.read();this.write({...e,inactiveAt:this.getFutureTimestamp(this.inactiveMs)})}isExpired(e){return Date.now()>e}isInvalid(e){return!Object.keys(S).every((t=>Object.keys(e).includes(t)))}collectSM(e,t,r){let n,i;"duration"===e&&(n=this.getDuration(t,r),i="Session/Duration/Ms"),"expired"===e&&(i="Session/Expired/Seen"),"inactive"===e&&(i="Session/Inactive/Seen"),i&&(0,y.p)(v.xS,[i,n],void 0,b.DT.metrics,this.ee)}getDuration(e=this.state,t){const r=e.expiresAt-this.expiresMs;return(t?Date.now():e.updatedAt)-r}getFutureTimestamp(e){return Date.now()+e}syncCustomAttribute(e,t){if(u.il)if(null===t){const t=this.read();t.custom&&(delete t.custom[e],this.write({...t}))}else{const r=this.read();this.custom={...r?.custom||{},[e]:t},this.write({...r,custom:this.custom})}}}class I{get(e){try{return localStorage.getItem(e)||void 0}catch(e){return""}}set(e,t){try{return null==t?this.remove(e):localStorage.setItem(e,t)}catch(e){}}remove(e){try{localStorage.removeItem(e)}catch(e){}}}function C(e){if(e.runtime.session)return e.runtime.session;const t=e.init.session;e.runtime.session=new T({agentIdentifier:e.agentIdentifier,key:h.K4,storage:new I,expiresMs:t?.expiresMs,inactiveMs:t?.inactiveMs});const r=e.runtime.session.state.custom;r&&(e.info.jsAttributes={...e.info.jsAttributes,...r});const o=i.ee.get(e.agentIdentifier);return(0,s.X)("api-setCustomAttribute",((t,r,n)=>{e.runtime.session.syncCustomAttribute(r,n)}),"session",o),(0,s.X)("api-setUserId",((t,r,n)=>{e.runtime.session.syncCustomAttribute(r,n)}),"session",o),(0,n.LP)(e.agentIdentifier,"session"),e.runtime.session}},2745:function(e,t,r){r.d(t,{m:function(){return _}});var n=r(3400),i=r(8312),s=r(4807),o=r(3131),a=r(1019),c=r(7918),l=r(8584),u=r(1639);class h{constructor(e){this.agentRef=e,this.warnedRegexMissing=!1,this.warnedInvalidRegex=!1,this.warnedInvalidReplacement=!1}get obfuscateConfigRules(){return this.agentRef.init.obfuscate||[]}obfuscateString(e){if("string"!=typeof e||0===e.trim().length)return e;const t=this.obfuscateConfigRules.map((e=>this.validateObfuscationRule(e)));return(0,l.V)()&&t.push({regex:/^file:\/\/(.*)/,replacement:atob("ZmlsZTovL09CRlVTQ0FURUQ=")}),t.filter((e=>e.isValid)).reduce(((e,t)=>{const{rule:r}=t;return e.replace(r.regex,r.replacement||"*")}),e)}validateObfuscationRule(e){const t=Boolean(void 0===e.regex),r=Boolean(void 0!==e.regex&&"string"!=typeof e.regex&&!(e.regex instanceof RegExp)),n=Boolean(e.replacement&&"string"!=typeof e.replacement);return t&&!this.warnedRegexMissing?((0,u.Z)(12,e),this.warnedRegexMissing=!0):r&&!this.warnedInvalidRegex&&((0,u.Z)(13,e),this.warnedInvalidRegex=!0),n&&!this.warnedInvalidReplacement&&((0,u.Z)(14,e),this.warnedInvalidReplacement=!0),{rule:e,isValid:!t&&!r&&!n,errors:{regexMissingDetected:t,invalidRegexDetected:r,invalidReplacementDetected:n}}}}var d=r(4663);class p{constructor(){this.aggregatedData={}}store(e,t,r,n,i){var s=this.#I(e,t,r,i);return s.metrics=function(e,t){t||(t={count:0});return t.count+=1,Object.entries(e||{}).forEach((([e,r])=>{t[e]=f(r,t[e])})),t}(n,s.metrics),s}merge(e,t,r,n,i,s=!1){var o=this.#I(e,t,n,i);if(s&&(o.params=n),o.metrics){var a=o.metrics;a.count+=r.count,Object.keys(r||{}).forEach((e=>{if("count"!==e){var t=a[e],n=r[e];n&&!n.c?a[e]=f(n.t,t):a[e]=function(e,t){if(!t)return e;t.c||(t=m(t.t));return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t.t+=e.t,t.sos+=e.sos,t.c+=e.c,t}(n,a[e])}}))}else o.metrics=r}storeMetric(e,t,r,n){var i=this.#I(e,t,r);return i.stats=f(n,i.stats),i}take(e,t=!0){for(var r={},n="",i=!1,s=0;s<e.length;s++)r[n=e[s]]=Object.values(this.aggregatedData[n]||{}),r[n].length&&(i=!0),t&&delete this.aggregatedData[n];return i?r:null}#I(e,t,r,n){this.aggregatedData[e]||(this.aggregatedData[e]={});var i=this.aggregatedData[e][t];return i||(i=this.aggregatedData[e][t]={params:r||{}},n&&(i.custom=n)),i}}function f(e,t){return null==e?function(e){e?e.c++:e={c:1};return e}(t):t?(t.c||(t=m(t.t)),t.c+=1,t.t+=e,t.sos+=e*e,e>t.max&&(t.max=e),e<t.min&&(t.min=e),t):{t:e}}function m(e){return{t:e,min:e,max:e,sos:e*e,c:1}}class g{#C=new p;#x={};isEmpty({aggregatorTypes:e}){return e?e.every((e=>!this.#C.aggregatedData[e])):0===Object.keys(this.#C.aggregatedData).length}add([e,t,r,n,i]){return this.#C.store(e,t,r,n,i),!0}addMetric(e,t,r,n){return this.#C.storeMetric(e,t,r,n),!0}save({aggregatorTypes:e}){const t=e.toString(),r={};e.forEach((e=>r[e]=this.#C.aggregatedData[e])),this.#x[t]=r}get(e){const t=Array.isArray(e)?e:e.aggregatorTypes;return this.#C.take(t,!1)}clear({aggregatorTypes:e}={}){e?e.forEach((e=>delete this.#C.aggregatedData[e])):this.#C.aggregatedData={}}reloadSave({aggregatorTypes:e}){const t=e.toString(),r=this.#x[t];e.forEach((e=>{Object.keys(r[e]||{}).forEach((t=>{const n=r[e][t];this.#C.merge(e,t,n.metrics,n.params,n.custom,!0)}))}))}clearSave({aggregatorTypes:e}){const t=e.toString();delete this.#x[t]}}var y=r(2493);class v{constructor(e,t){this.mainApp=e,this.StorageClass=1===t?y.X:g,this.appStorageMap=new Map,this.appStorageMap.set(e,new this.StorageClass)}isEmpty(e,t){if(t)return!this.appStorageMap.has(t)||this.appStorageMap.get(t).isEmpty(e);for(const t of this.appStorageMap.values())if(!t.isEmpty(e))return!1;return!0}add(e,t){return t&&!this.appStorageMap.has(t)&&this.appStorageMap.set(t,new this.StorageClass),this.appStorageMap.get(t||this.mainApp).add(e)}addMetric(e,t,r,n){return this.appStorageMap.get(this.mainApp).addMetric(e,t,r,n)}get(e,t){if(t)return[{targetApp:t,data:this.appStorageMap.get(t)?.get(e)}];const r=[];return this.appStorageMap.forEach(((t,n)=>{r.push({targetApp:n,data:t.get(e)})})),r}byteSize(e){return this.appStorageMap.get(e||this.mainApp).byteSize()}wouldExceedMaxSize(e,t){return this.appStorageMap.get(t||this.mainApp).wouldExceedMaxSize(e)}save(e,t){if(t)return this.appStorageMap.get(t)?.save(e);this.appStorageMap.forEach((t=>t.save(e)))}clear(e,t){if(t)return this.appStorageMap.get(t)?.clear(e);this.appStorageMap.forEach((t=>t.clear(e)))}reloadSave(e,t){if(t)return this.appStorageMap.get(t)?.reloadSave(e);this.appStorageMap.forEach((t=>t.reloadSave(e)))}clearSave(e,t){if(t)return this.appStorageMap.get(t)?.clearSave(e);this.appStorageMap.forEach((t=>t.clearSave(e)))}}var b=r(4716),w=r(8445),S=r(9152),T=r(5300),I=r(5944),C=r(9181),x=r(1595),R=r(7973);if(S.v6){S._A.cleanupTasks=[];const e=S._A.close;S._A.close=()=>{for(let e of S._A.cleanupTasks)e();e()}}var E=r(1478),A=r(9306),k=r(4155);function O({url:e,body:t=null,method:r="POST",headers:n=[{key:"content-type",value:"text/plain"}]}){const i={};for(const e of n)i[e.key]=e.value;return fetch(e,{headers:i,method:r,body:t,credentials:"include"})}function M({url:e,body:t=null,sync:r,method:n="POST",headers:i=[{key:"content-type",value:"text/plain"}]}){const s=new XMLHttpRequest;s.open(n,e,!r);try{"withCredentials"in s&&(s.withCredentials=!0)}catch(e){}return i.forEach((e=>{s.setRequestHeader(e.key,e.value)})),s.send(t),s}function N({url:e,body:t}){try{return window.navigator.sendBeacon.bind(window.navigator)(e,t)}catch(e){return!1}}class D{#R=!1;initializedAggregates=[];constructor(e){var t,r;this.agentRef=e,t=()=>{this.initializedAggregates.forEach((e=>{"function"==typeof e.harvestOpts.beforeUnload&&e.harvestOpts.beforeUnload()})),this.initializedAggregates.forEach((e=>this.triggerHarvestFor(e,{isFinalHarvest:!0})))},r=!1,S.il?(0,R.N)(t,!0,r):S.v6&&S._A.cleanupTasks.push(t),e.ee.on(C.wO.RESET,(()=>this.initializedAggregates.forEach((e=>this.triggerHarvestFor(e,{forceNoRetry:!0})))))}startTimer(e=this.agentRef.init.harvest.interval){if(this.#R)return;this.#R=!0;const t=()=>{this.initializedAggregates.forEach((e=>this.triggerHarvestFor(e))),setTimeout(t,1e3*e)};setTimeout(t,1e3*e)}triggerHarvestFor(e,t={}){if(e.blocked)return!1;const r=function({isFinalHarvest:e=!1}={}){return e&&S.il?N:"undefined"!=typeof XMLHttpRequest?M:O}(t);if(!r)return!1;const n=!t.isFinalHarvest&&r===M;let i,s=!1;if(t.directSend)i=[t.directSend];else if(i=e.makeHarvestPayload(n,t),!i)return!1;return i.forEach((({targetApp:n,payload:i})=>{i&&(!function(e,{endpoint:t,targetApp:r,payload:n,localOpts:i={},submitMethod:s,cbFinished:o,raw:a}){if(!e.info.errorBeacon)return!1;let{body:c,qs:l}=function(e={}){const t=e=>"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||Array.isArray(e)?e:"string"==typeof e?e.length>0?e:null:Object.entries(e||{}).reduce(((e,[t,r])=>(("number"==typeof r||"string"==typeof r&&r.length>0||"object"==typeof r&&Object.keys(r||{}).length>0)&&(e[t]=r),e)),{});return{body:t(e.body),qs:t(e.qs)}}(n);if(0===Object.keys(c).length&&!i.sendEmptyBody)return o&&o({sent:!1,targetApp:r}),!1;const h=!1===e.init.ssl?"http":"https",p=e.init.proxy.beacon||e.info.errorBeacon,f=a?"".concat(h,"://").concat(p,"/").concat(t):"".concat(h,"://").concat(p).concat(t!==d.tr?"/"+t:"","/1/").concat(r.licenseKey),m=a?"":function(e,t,r,n){const i=e.runtime.obfuscator.obfuscateString((0,E.f)(""+S._A.location)),s=1===e.runtime.session?.state.sessionReplayMode&&r!==d.Mg,o=["a="+n,(0,A.wu)("sa",e.info.sa?""+e.info.sa:""),(0,A.wu)("v",w.q4),a(),(0,A.wu)("ct",e.runtime.customTransaction),"&rst="+(0,x.z)(),"&ck=0","&s="+(e.runtime.session?.state.value||"0"),(0,A.wu)("ref",i),(0,A.wu)("ptid",e.runtime.ptid?""+e.runtime.ptid:"")];s&&o.push((0,A.wu)("hr","1",t));return o.join("");function a(){return e.info.transactionName?(0,A.wu)("to",e.info.transactionName):(0,A.wu)("t",e.info.tNamePlain||"Unnamed Transaction")}}(e,l,t,r.appId);let g=(0,A.j6)(l,e.runtime.maxBytes);""===m&&g.startsWith("&")&&(g=g.substring(1));const y="".concat(f,"?").concat(m).concat(g);l?.attributes?.includes("gzip")||(t!==d.FP&&(c=(0,k.P)(c)),c.length>75e4&&1===(P[t]=(P[t]||0)+1)&&(0,u.Z)(28,t));c&&0!==c.length&&"{}"!==c&&"[]"!==c||(c="");const v=[{key:"content-type",value:"text/plain"}];let b=s({url:y,body:c,sync:i.isFinalHarvest&&S.v6,headers:v});!i.isFinalHarvest&&o&&(s===M?b.addEventListener("loadend",(function(){const e={sent:0!==this.status,status:this.status,retry:T(this.status),xhr:this,fullUrl:y,targetApp:r};i.needResponse&&(e.responseText=this.responseText),o(e)}),(0,I.m$)(!1)):s===O&&b.then((async function(e){const t=e.status,n={sent:!0,status:t,retry:T(t),fullUrl:y,fetchResponse:e,targetApp:r};i.needResponse&&(n.responseText=await e.text()),o(n)})));return!0;function T(e){switch(e){case 408:case 429:case 500:return!0}return e>=502&&e<=504||e>=512&&e<=530}}(this.agentRef,{endpoint:d.r3[e.featureName],targetApp:n,payload:i,localOpts:t,submitMethod:r,cbFinished:o,raw:e.harvestOpts.raw}),s=!0)})),s;function o(r){e.harvestOpts.prevAttemptCode&&((0,T.p)(b.xS,[(r.retry?"Harvester/Retry/Failed/":"Harvester/Retry/Succeeded/")+e.harvestOpts.prevAttemptCode],void 0,d.DT.metrics,e.ee),delete e.harvestOpts.prevAttemptCode),r.retry&&(e.harvestOpts.prevAttemptCode=r.status),t.forceNoRetry&&(r.retry=!1),e.postHarvestCleanup(r)}}}const P={};class _ extends n.W{constructor(e,t){switch(super(e.agentIdentifier,t),this.agentRef=e,this.checkConfiguration(e),this.doOnceForAllAggregate(e),this.featureName){case d.DT.sessionTrace:case d.DT.sessionReplay:break;case d.DT.jserrors:case d.DT.metrics:this.events=e.sharedAggregator;break;default:this.events=new v(e.mainAppKey,1)}this.harvestOpts={}}waitForFlags(e=[]){return new Promise(((t,r)=>{function n(t){return e.map((e=>t[e]?t[e]:0))}c.T[this.agentIdentifier]?t(n(c.T[this.agentIdentifier])):this.ee.on("rumresp",((e={})=>{t(n(e))}))})).catch((e=>{this.ee.emit("internal-error",[e]),this.blocked=!0,this.deregisterDrain()}))}drain(){(0,a.LP)(this.agentIdentifier,this.featureName),this.drained=!0}makeHarvestPayload(e=!1,t={}){if(this.events.isEmpty(this.harvestOpts,t.target))return;if(this.preHarvestChecks&&!this.preHarvestChecks(t))return;e&&this.events.save(this.harvestOpts,t.target);const r=this.events.get(this.harvestOpts,t.target);if(!r.length)throw new Error("Unexpected problem encountered. There should be at least one app for harvest!");return this.events.clear(this.harvestOpts,t.target),r.map((({targetApp:e,data:t})=>{const r={body:this.serializer?this.serializer(t):t};return this.queryStringsBuilder&&(r.qs=this.queryStringsBuilder(t)),{targetApp:e,payload:r}}))}postHarvestCleanup(e={}){e.sent&&e.retry&&this.events.reloadSave(this.harvestOpts,e.targetApp),this.events.clearSave(this.harvestOpts,e.targetApp)}checkConfiguration(e){if(!(0,i.JY)(this.agentIdentifier)){const t=(0,o.gG)();let r={...t.info?.jsAttributes};try{r={...r,...e.info?.jsAttributes}}catch(e){}(0,s.j)({agentIdentifier:this.agentIdentifier},{...t,info:{...t.info,jsAttributes:r},runtime:e.runtime})}}doOnceForAllAggregate(e){e.runtime.obfuscator||(e.runtime.obfuscator=new h(e)),this.obfuscator=e.runtime.obfuscator,e.mainAppKey||(e.mainAppKey={licenseKey:e.info.licenseKey,appId:e.info.applicationID}),e.sharedAggregator||(e.sharedAggregator=new v(e.mainAppKey,2)),e.runtime.harvester||(e.runtime.harvester=new D(e))}}},2493:function(e,t,r){r.d(t,{X:function(){return s}});var n=r(4155),i=r(6314);class s{#E=[];#A=0;#k;#O;constructor(e=i.Y){this.maxPayloadSize=e}isEmpty(){return 0===this.#E.length}get(){return this.#E}byteSize(){return this.#A}wouldExceedMaxSize(e){return this.#A+e>this.maxPayloadSize}add(e){const t=(0,n.P)(e)?.length||0;return!(this.#A+t>this.maxPayloadSize)&&(this.#E.push(e),this.#A+=t,!0)}clear(){this.#E=[],this.#A=0}save(){this.#k=this.#E,this.#O=this.#A}clearSave(){this.#k=void 0,this.#O=void 0}reloadSave(){this.#k&&(this.#O+this.#A>this.maxPayloadSize||(this.#E=[...this.#k,...this.#E],this.#A=this.#O+this.#A))}}},3400:function(e,t,r){r.d(t,{W:function(){return s}});var n=r(5891),i=r(1019);class s{constructor(e,t){this.agentIdentifier=e,this.ee=n.ee.get(e),this.featureName=t,this.blocked=!1}deregisterDrain(){(0,i.o5)(this.agentIdentifier,this.featureName)}}},9334:function(e,t,r){r.d(t,{H:function(){return s}});var n=r(4613),i=r(9152);const s=e=>i.il&&!0===(0,n.Mt)(e,"privacy.cookies_enabled")},5925:function(e,t,r){r.d(t,{lazyFeatureLoader:function(){return i}});var n=r(4663);function i(e,t){if("aggregate"===t)switch(e){case n.DT.ajax:return Promise.resolve().then(r.bind(r,7430));case n.DT.jserrors:return Promise.resolve().then(r.bind(r,4150));case n.DT.genericEvents:return Promise.resolve().then(r.bind(r,5364));case n.DT.logging:return Promise.resolve().then(r.bind(r,8051));case n.DT.metrics:return Promise.resolve().then(r.bind(r,7814));case n.DT.pageViewEvent:return Promise.resolve().then(r.bind(r,8982));case n.DT.pageViewTiming:return Promise.resolve().then(r.bind(r,544));case n.DT.sessionReplay:return Promise.resolve().then(r.bind(r,9568));case n.DT.sessionTrace:return Promise.resolve().then(r.bind(r,543));case n.DT.spa:return Promise.resolve().then(r.bind(r,6478));case n.DT.softNav:return Promise.resolve().then(r.bind(r,6352));default:throw new Error("Attempted to load unsupported agent feature: ".concat(e," ").concat(t))}}},725:function(e,t,r){r.r(t),r.d(t,{setAPI:function(){return h}});var n=r(4663),i=r(3807),s=r(5891),o=r(5300),a=r(5992),c=r(8597),l=r(4716),u=r(9152);function h(e){var t=s.ee.get(e),r={finished:(0,c.Z)((function(e,r){var i=r?r-u.sK:e;(0,o.p)(l.vz,["finished",{time:i}],void 0,n.DT.metrics,t),h(e,{name:"finished",start:i+u.sK,origin:"nr"}),(0,o.p)("api-addPageAction",[i,"finished"],void 0,n.DT.genericEvents,t)})),setErrorHandler:function(t,r){(0,i.O)(e).onerror=r},addToTrace:h,addRelease:function(t,r,n){if(++d>10)return;(0,i.O)(e).releaseIds[r.slice(-200)]=(""+n).slice(-200)}};function h(e,r){if(r&&"object"==typeof r&&r.name&&r.start){var i={n:r.name,s:r.start-u.sK,e:(r.end||r.start)-u.sK,o:r.origin||"",t:"api"};(0,o.p)("bstApi",[i],void 0,n.DT.sessionTrace,t)}}Object.entries(r).forEach((([e,r])=>(0,a.X)("api-"+e,r,"api",t)));var d=0}},4807:function(e,t,r){r.d(t,{j:function(){return N}});var n=r(4663),i=r(8312),s=r(3807),o=r(5300),a=r(5891),c=r(1019),l=r(2277),u=r(9152),h=r(1639),d=r(4716),p=r(3131),f=r(1838);const m=["setErrorHandler","finished","addToTrace","addRelease","recordCustomEvent","addPageAction","setCurrentRouteName","setPageViewName","setCustomAttribute","interaction","noticeError","setUserId","setApplicationVersion","start",f.Ef.RECORD,f.Ef.PAUSE,"log","wrapLogger"],g=["setErrorHandler","finished","addToTrace","addRelease"];var y=r(1595),v=r(9181),b=r(5146),w=r(598),S=r(5783),T=r(6371);const I=new Map;function C(e,t,r,n){if("object"!=typeof t||!t||"string"!=typeof r||!r||"function"!=typeof t[r])return(0,h.Z)(29);const i=function(e){return(e||a.ee).get("logger")}(e),s=(0,T.xJ)(i),o=new S.A(a.A);o.level=n.level,o.customAttributes=n.customAttributes;const c=t[r]?.[T.Cc]||t[r];return I.set(c,o),s.inPlace(t,[r],"wrap-logger-",(()=>I.get(c))),i}function x(){const e=(0,p.gG)();m.forEach((t=>{e[t]=(...r)=>function(t,...r){let n=[];return Object.values(e.initializedAgents).forEach((e=>{e&&e.api?e.exposed&&e.api[t]&&n.push(e.api[t](...r)):(0,h.Z)(38,t)})),n.length>1?n:n[0]}(t,...r)}))}const R={};var E=r(4613),A=r(6910),k=r(7918);const O=()=>{};let M=!1;function N(e,t={},m,S){let{init:T,info:I,loader_config:N,runtime:D={},exposed:P=!0}=t;D.loaderType=m;const _=(0,p.gG)();I||(T=_.init,I=_.info,N=_.loader_config),(0,E.Dg)(e.agentIdentifier,T||{}),(0,A.G)(e.agentIdentifier,N||{}),I.jsAttributes??={},u.v6&&(I.jsAttributes.isWorker=!0),(0,i.CX)(e.agentIdentifier,I);const F=(0,E.P_)(e.agentIdentifier),L=[I.beacon,I.errorBeacon];M||(F.proxy.assets&&(O(F.proxy.assets),L.push(F.proxy.assets)),F.proxy.beacon&&L.push(F.proxy.beacon),x(),(0,p.EZ)("activatedFeatures",k.T),e.runSoftNavOverSpa&&=!0===F.soft_navigations.enabled&&F.feature_flags.includes("soft_nav")),D.denyList=[...F.ajax.deny_list||[],...F.ajax.block_internal?L:[]],D.ptid=e.agentIdentifier,(0,s.s)(e.agentIdentifier,D),e.ee=a.ee.get(e.agentIdentifier),void 0===e.api&&(e.api=function(e,t,p=!1){t||(0,c.RP)(e,"api");const m={};var S=a.ee.get(e),T=S.get("tracer");R[e]=v.IK.OFF,S.on(f.Ef.REPLAY_RUNNING,(t=>{R[e]=t}));var I="api-",x=I+"ixn-";function E(t,r,n,s){const o=(0,i.C5)(e);return null===r?delete o.jsAttributes[t]:(0,i.CX)(e,{...o,jsAttributes:{...o.jsAttributes,[t]:r}}),O(I,n,!0,s||null===r?"session":void 0)(t,r)}function A(){}m.log=function(e,{customAttributes:t={},level:r=b.yK.INFO}={}){(0,o.p)(d.xS,["API/log/called"],void 0,n.DT.metrics,S),(0,w.M)(S,e,t,r)},m.wrapLogger=(e,t,{customAttributes:r={},level:i=b.yK.INFO}={})=>{(0,o.p)(d.xS,["API/wrapLogger/called"],void 0,n.DT.metrics,S),C(S,e,t,{customAttributes:r,level:i})},g.forEach((e=>{m[e]=O(I,e,!0,"api")})),m.addPageAction=O(I,"addPageAction",!0,n.DT.genericEvents),m.recordCustomEvent=O(I,"recordCustomEvent",!0,n.DT.genericEvents),m.setPageViewName=function(t,r){if("string"==typeof t)return"/"!==t.charAt(0)&&(t="/"+t),(0,s.O)(e).customTransaction=(r||"http://custom.transaction")+t,O(I,"setPageViewName",!0)()},m.setCustomAttribute=function(e,t,r=!1){if("string"==typeof e){if(["string","number","boolean"].includes(typeof t)||null===t)return E(e,t,"setCustomAttribute",r);(0,h.Z)(40,typeof t)}else(0,h.Z)(39,typeof e)},m.setUserId=function(e){if("string"==typeof e||null===e)return E("enduser.id",e,"setUserId",!0);(0,h.Z)(41,typeof e)},m.setApplicationVersion=function(e){if("string"==typeof e||null===e)return E("application.version",e,"setApplicationVersion",!1);(0,h.Z)(42,typeof e)},m.start=()=>{try{(0,o.p)(d.xS,["API/start/called"],void 0,n.DT.metrics,S),S.emit("manual-start-all")}catch(e){(0,h.Z)(23,e)}},m[f.Ef.RECORD]=function(){(0,o.p)(d.xS,["API/recordReplay/called"],void 0,n.DT.metrics,S),(0,o.p)(f.Ef.RECORD,[],void 0,n.DT.sessionReplay,S)},m[f.Ef.PAUSE]=function(){(0,o.p)(d.xS,["API/pauseReplay/called"],void 0,n.DT.metrics,S),(0,o.p)(f.Ef.PAUSE,[],void 0,n.DT.sessionReplay,S)},m.interaction=function(e){return(new A).get("object"==typeof e?e:{})};const k=A.prototype={createTracer:function(e,t){var r={},i=this,s="function"==typeof t;return(0,o.p)(d.xS,["API/createTracer/called"],void 0,n.DT.metrics,S),p||(0,o.p)(x+"tracer",[(0,y.z)(),e,r],i,n.DT.spa,S),function(){if(T.emit((s?"":"no-")+"fn-start",[(0,y.z)(),i,s],r),s)try{return t.apply(this,arguments)}catch(e){const t="string"==typeof e?new Error(e):e;throw T.emit("fn-err",[arguments,this,t],r),t}finally{T.emit("fn-end",[(0,y.z)()],r)}}}};function O(e,t,r,i){return function(){return(0,o.p)(d.xS,["API/"+t+"/called"],void 0,n.DT.metrics,S),i&&(0,o.p)(e+t,[r?(0,y.z)():performance.now(),...arguments],r?null:this,i,S),r?void 0:this}}function M(){Promise.resolve().then(r.bind(r,725)).then((({setAPI:t})=>{t(e),(0,c.LP)(e,"api")})).catch((e=>{(0,h.Z)(27,e),S.abort()}))}return["actionText","setName","setAttribute","save","ignore","onEnd","getContext","end","get"].forEach((e=>{k[e]=O(x,e,void 0,p?n.DT.softNav:n.DT.spa)})),m.setCurrentRouteName=p?O(x,"routeName",void 0,n.DT.softNav):O(I,"routeName",!0,n.DT.spa),m.noticeError=function(t,r){"string"==typeof t&&(t=new Error(t)),(0,o.p)(d.xS,["API/noticeError/called"],void 0,n.DT.metrics,S),(0,o.p)("err",[t,(0,y.z)(),!1,r,!!R[e]],void 0,n.DT.jserrors,S)},u.il?(0,l.b2)((()=>M()),!0):M(),m}(e.agentIdentifier,S,e.runSoftNavOverSpa)),void 0===e.exposed&&(e.exposed=P),M=!0}},4663:function(e,t,r){r.d(t,{DT:function(){return a},FP:function(){return n},Mg:function(){return i},pQ:function(){return c},r3:function(){return l},tr:function(){return o}});const n="events",i="jserrors",s="browser/blobs",o="rum",a={ajax:"ajax",genericEvents:"generic_events",jserrors:i,logging:"logging",metrics:"metrics",pageAction:"page_action",pageViewEvent:"page_view_event",pageViewTiming:"page_view_timing",sessionReplay:"session_replay",sessionTrace:"session_trace",softNav:"soft_navigations",spa:"spa"},c={[a.pageViewEvent]:1,[a.pageViewTiming]:2,[a.metrics]:3,[a.jserrors]:4,[a.spa]:5,[a.ajax]:6,[a.sessionTrace]:7,[a.softNav]:8,[a.sessionReplay]:9,[a.logging]:10,[a.genericEvents]:11},l={[a.pageViewEvent]:o,[a.pageViewTiming]:n,[a.ajax]:n,[a.spa]:n,[a.softNav]:n,[a.metrics]:i,[a.jserrors]:i,[a.sessionTrace]:s,[a.sessionReplay]:s,[a.logging]:"browser/logs",[a.genericEvents]:"ins"}},3778:function(e,t,r){r.d(t,{gzipSync:function(){return H},strToU8:function(){return V}});var n=Uint8Array,i=Uint16Array,s=Int32Array,o=new n([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new n([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new n([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(e,t){for(var r=new i(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var o=new s(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)o[a]=a-r[n]<<5|n;return{b:r,r:o}},u=l(o,2),h=u.b,d=u.r;h[28]=258,d[258]=28;for(var p=l(a,0),f=(p.b,p.r),m=new i(32768),g=0;g<32768;++g){var y=(43690&g)>>1|(21845&g)<<1;y=(61680&(y=(52428&y)>>2|(13107&y)<<2))>>4|(3855&y)<<4,m[g]=((65280&y)>>8|(255&y)<<8)>>1}var v=function(e,t,r){for(var n=e.length,s=0,o=new i(t);s<n;++s)e[s]&&++o[e[s]-1];var a,c=new i(t);for(s=1;s<t;++s)c[s]=c[s-1]+o[s-1]<<1;if(r){a=new i(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],h=t-e[s],d=c[e[s]-1]++<<h,p=d|(1<<h)-1;d<=p;++d)a[m[d]>>l]=u}else for(a=new i(n),s=0;s<n;++s)e[s]&&(a[s]=m[c[e[s]-1]++]>>15-e[s]);return a},b=new n(288);for(g=0;g<144;++g)b[g]=8;for(g=144;g<256;++g)b[g]=9;for(g=256;g<280;++g)b[g]=7;for(g=280;g<288;++g)b[g]=8;var w=new n(32);for(g=0;g<32;++g)w[g]=5;var S=v(b,9,0),T=v(w,5,0),I=function(e){return(e+7)/8|0},C=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new n(e.subarray(t,r))},x=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},R=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},E=function(e,t){for(var r=[],s=0;s<e.length;++s)e[s]&&r.push({s:s,f:e[s]});var o=r.length,a=r.slice();if(!o)return{t:P,l:0};if(1==o){var c=new n(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var l=r[0],u=r[1],h=0,d=1,p=2;for(r[0]={s:-1,f:l.f+u.f,l:l,r:u};d!=o-1;)l=r[r[h].f<r[p].f?h++:p++],u=r[h!=d&&r[h].f<r[p].f?h++:p++],r[d++]={s:-1,f:l.f+u.f,l:l,r:u};var f=a[0].s;for(s=1;s<o;++s)a[s].s>f&&(f=a[s].s);var m=new i(f+1),g=A(r[d-1],m,0);if(g>t){s=0;var y=0,v=g-t,b=1<<v;for(a.sort((function(e,t){return m[t.s]-m[e.s]||e.f-t.f}));s<o;++s){var w=a[s].s;if(!(m[w]>t))break;y+=b-(1<<g-m[w]),m[w]=t}for(y>>=v;y>0;){var S=a[s].s;m[S]<t?y-=1<<t-m[S]++-1:++s}for(;s>=0&&y;--s){var T=a[s].s;m[T]==t&&(--m[T],++y)}g=t}return{t:new n(m),l:g}},A=function(e,t,r){return-1==e.s?Math.max(A(e.l,t,r+1),A(e.r,t,r+1)):t[e.s]=r},k=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new i(++t),n=0,s=e[0],o=1,a=function(e){r[n++]=e},c=1;c<=t;++c)if(e[c]==s&&c!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(s),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(s);o=1,s=e[c]}return{c:r.subarray(0,n),n:t}},O=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},M=function(e,t,r){var n=r.length,i=I(t+2);e[i]=255&n,e[i+1]=n>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},N=function(e,t,r,n,s,l,u,h,d,p,f){x(t,f++,r),++s[256];for(var m=E(s,15),g=m.t,y=m.l,I=E(l,15),C=I.t,A=I.l,N=k(g),D=N.c,P=N.n,_=k(C),F=_.c,L=_.n,j=new i(19),U=0;U<D.length;++U)++j[31&D[U]];for(U=0;U<F.length;++U)++j[31&F[U]];for(var B=E(j,7),z=B.t,H=B.l,G=19;G>4&&!z[c[G-1]];--G);var K,V,X,W,Z=p+5<<3,Y=O(s,b)+O(l,w)+u,q=O(s,g)+O(l,C)+u+14+3*G+O(j,z)+2*j[16]+3*j[17]+7*j[18];if(d>=0&&Z<=Y&&Z<=q)return M(t,f,e.subarray(d,d+p));if(x(t,f,1+(q<Y)),f+=2,q<Y){K=v(g,y,0),V=g,X=v(C,A,0),W=C;var J=v(z,H,0);x(t,f,P-257),x(t,f+5,L-1),x(t,f+10,G-4),f+=14;for(U=0;U<G;++U)x(t,f+3*U,z[c[U]]);f+=3*G;for(var $=[D,F],Q=0;Q<2;++Q){var ee=$[Q];for(U=0;U<ee.length;++U){var te=31&ee[U];x(t,f,J[te]),f+=z[te],te>15&&(x(t,f,ee[U]>>5&127),f+=ee[U]>>12)}}}else K=S,V=b,X=T,W=w;for(U=0;U<h;++U){var re=n[U];if(re>255){R(t,f,K[(te=re>>18&31)+257]),f+=V[te+257],te>7&&(x(t,f,re>>23&31),f+=o[te]);var ne=31&re;R(t,f,X[ne]),f+=W[ne],ne>3&&(R(t,f,re>>5&8191),f+=a[ne])}else R(t,f,K[re]),f+=V[re]}return R(t,f,K[256]),f+V[256]},D=new s([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),P=new n(0),_=function(e,t,r,c,l,u){var h=u.z||e.length,p=new n(c+h+5*(1+Math.ceil(h/7e3))+l),m=p.subarray(c,p.length-l),g=u.l,y=7&(u.r||0);if(t){y&&(m[0]=u.r>>3);for(var v=D[t-1],b=v>>13,w=8191&v,S=(1<<r)-1,T=u.p||new i(32768),x=u.h||new i(S+1),R=Math.ceil(r/3),E=2*R,A=function(t){return(e[t]^e[t+1]<<R^e[t+2]<<E)&S},k=new s(25e3),O=new i(288),P=new i(32),_=0,F=0,L=u.i||0,j=0,U=u.w||0,B=0;L+2<h;++L){var z=A(L),H=32767&L,G=x[z];if(T[H]=G,x[z]=H,U<=L){var K=h-L;if((_>7e3||j>24576)&&(K>423||!g)){y=N(e,m,0,k,O,P,F,j,B,L-B,y),j=_=F=0,B=L;for(var V=0;V<286;++V)O[V]=0;for(V=0;V<30;++V)P[V]=0}var X=2,W=0,Z=w,Y=H-G&32767;if(K>2&&z==A(L-Y))for(var q=Math.min(b,K)-1,J=Math.min(32767,L),$=Math.min(258,K);Y<=J&&--Z&&H!=G;){if(e[L+X]==e[L+X-Y]){for(var Q=0;Q<$&&e[L+Q]==e[L+Q-Y];++Q);if(Q>X){if(X=Q,W=Y,Q>q)break;var ee=Math.min(Y,Q-2),te=0;for(V=0;V<ee;++V){var re=L-Y+V&32767,ne=re-T[re]&32767;ne>te&&(te=ne,G=re)}}}Y+=(H=G)-(G=T[H])&32767}if(W){k[j++]=268435456|d[X]<<18|f[W];var ie=31&d[X],se=31&f[W];F+=o[ie]+a[se],++O[257+ie],++P[se],U=L+X,++_}else k[j++]=e[L],++O[e[L]]}}for(L=Math.max(L,U);L<h;++L)k[j++]=e[L],++O[e[L]];y=N(e,m,g,k,O,P,F,j,B,L-B,y),g||(u.r=7&y|m[y/8|0]<<3,y-=7,u.h=x,u.p=T,u.i=L,u.w=U)}else{for(L=u.w||0;L<h+g;L+=65535){var oe=L+65535;oe>=h&&(m[y/8|0]=g,oe=h),y=M(m,y+1,e.subarray(L,oe))}u.i=h}return C(p,0,c+I(y)+l)},F=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}return e}(),L=function(){var e=-1;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=F[255&r^t[n]]^r>>>8;e=r},d:function(){return~e}}},j=function(e,t,r,i,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),a=new n(o.length+e.length);a.set(o),a.set(e,o.length),e=a,s.w=o.length}return _(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,i,s)},U=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},B=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&U(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var n=0;n<=r.length;++n)e[n+10]=r.charCodeAt(n)}},z=function(e){return 10+(e.filename?e.filename.length+1:0)};function H(e,t){t||(t={});var r=L(),n=e.length;r.p(e);var i=j(e,t,z(t),8),s=i.length;return B(i,t),U(i,s-8,r.d()),U(i,s-4,n),i}var G="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(P,{stream:!0}),1}catch(e){}function V(e,t){if(t){for(var r=new n(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}if(G)return G.encode(e);var s=e.length,o=new n(e.length+(e.length>>1)),a=0,c=function(e){o[a++]=e};for(i=0;i<s;++i){if(a+5>o.length){var l=new n(a+8+(s-i<<1));l.set(o),o=l}var u=e.charCodeAt(i);u<128||t?c(u):u<2048?(c(192|u>>6),c(128|63&u)):u>55295&&u<57344?(c(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++i))>>18),c(128|u>>12&63),c(128|u>>6&63),c(128|63&u)):(c(224|u>>12),c(128|u>>6&63),c(128|63&u))}return C(o,0,a)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout},5528:function(e,t,r){r.d(t,{Fu:function(){return we},NO:function(){return ce},Yn:function(){return se},a4:function(){return O},mr:function(){return de},mw:function(){return k}});var n,i,s=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},o=function(e){if("loading"===document.readyState)return"loading";var t=s();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},a=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},c=function(e,t){var r="";try{for(;e&&9!==e.nodeType;){var n=e,i=n.id?"#"+n.id:a(n)+(n.classList&&n.classList.value&&n.classList.value.trim()&&n.classList.value.trim().length?"."+n.classList.value.trim().replace(/\s+/g,"."):"");if(r.length+i.length>(t||100)-1)return r||i;if(r=r?i+">"+r:i,n.id)break;e=n.parentNode}}catch(e){}return r},l=-1,u=function(){return l},h=function(e){addEventListener("pageshow",(function(t){t.persisted&&(l=t.timeStamp,e(t))}),!0)},d=function(){var e=s();return e&&e.activationStart||0},p=function(e,t){var r=s(),n="navigate";return u()>=0?n="back-forward-cache":r&&(document.prerendering||d()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},f=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},m=function(e,t,r,n){var i,s;return function(o){t.value>=0&&(o||n)&&((s=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=s,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},g=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},y=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},v=function(e){var t=!1;return function(){t||(e(),t=!0)}},b=-1,w=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},S=function(e){"hidden"===document.visibilityState&&b>-1&&(b="visibilitychange"===e.type?e.timeStamp:0,I())},T=function(){addEventListener("visibilitychange",S,!0),addEventListener("prerenderingchange",S,!0)},I=function(){removeEventListener("visibilitychange",S,!0),removeEventListener("prerenderingchange",S,!0)},C=function(){return b<0&&(b=w(),T(),h((function(){setTimeout((function(){b=w(),T()}),0)}))),{get firstHiddenTime(){return b}}},x=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},R=[1800,3e3],E=function(e,t){t=t||{},x((function(){var r,n=C(),i=p("FCP"),s=f("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-d(),0),i.entries.push(e),r(!0)))}))}));s&&(r=m(e,i,R,t.reportAllChanges),h((function(n){i=p("FCP"),r=m(e,i,R,t.reportAllChanges),g((function(){i.value=performance.now()-n.timeStamp,r(!0)}))})))}))},A=[.1,.25],k=function(e,t){!function(e,t){t=t||{},E(v((function(){var r,n=p("CLS",0),i=0,s=[],o=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=s[0],r=s[s.length-1];i&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,s.push(e)):(i=e.value,s=[e])}})),i>n.value&&(n.value=i,n.entries=s,r())},a=f("layout-shift",o);a&&(r=m(e,n,A,t.reportAllChanges),y((function(){o(a.takeRecords()),r(!0)})),h((function(){i=0,n=p("CLS",0),r=m(e,n,A,t.reportAllChanges),g((function(){return r()}))})),setTimeout(r,0))})))}((function(t){var r=function(e){var t,r={};if(e.entries.length){var n=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(n&&n.sources&&n.sources.length){var i=(t=n.sources).find((function(e){return e.node&&1===e.node.nodeType}))||t[0];i&&(r={largestShiftTarget:c(i.node),largestShiftTime:n.startTime,largestShiftValue:n.value,largestShiftSource:i,largestShiftEntry:n,loadState:o(n.startTime)})}}return Object.assign(e,{attribution:r})}(t);e(r)}),t)},O=function(e,t){E((function(t){var r=function(e){var t={timeToFirstByte:0,firstByteToFCP:e.value,loadState:o(u())};if(e.entries.length){var r=s(),n=e.entries[e.entries.length-1];if(r){var i=r.activationStart||0,a=Math.max(0,r.responseStart-i);t={timeToFirstByte:a,firstByteToFCP:e.value-a,loadState:o(e.entries[0].startTime),navigationEntry:r,fcpEntry:n}}}return Object.assign(e,{attribution:t})}(t);e(r)}),t)},M=0,N=1/0,D=0,P=function(e){e.forEach((function(e){e.interactionId&&(N=Math.min(N,e.interactionId),D=Math.max(D,e.interactionId),M=D?(D-N)/7+1:0)}))},_=function(){return n?M:performance.interactionCount||0},F=function(){"interactionCount"in performance||n||(n=f("event",P,{type:"event",buffered:!0,durationThreshold:0}))},L=[],j=new Map,U=0,B=[],z=function(e){if(B.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=L[L.length-1],r=j.get(e.interactionId);if(r||L.length<10||e.duration>t.latency){if(r)e.duration>r.latency?(r.entries=[e],r.latency=e.duration):e.duration===r.latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};j.set(n.id,n),L.push(n)}L.sort((function(e,t){return t.latency-e.latency})),L.length>10&&L.splice(10).forEach((function(e){return j.delete(e.id)}))}}},H=function(e){var t=self.requestIdleCallback||self.setTimeout,r=-1;return e=v(e),"hidden"===document.visibilityState?e():(r=t(e),y(e)),r},G=[200,500],K=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},x((function(){var r;F();var n,i=p("INP"),s=function(e){H((function(){e.forEach(z);var t=function(){var e=Math.min(L.length-1,Math.floor((_()-U)/50));return L[e]}();t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,n())}))},o=f("event",s,{durationThreshold:null!==(r=t.durationThreshold)&&void 0!==r?r:40});n=m(e,i,G,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),y((function(){s(o.takeRecords()),n(!0)})),h((function(){U=_(),L.length=0,j.clear(),i=p("INP"),n=m(e,i,G,t.reportAllChanges)})))})))},V=[],X=[],W=0,Z=new WeakMap,Y=new Map,q=-1,J=function(e){V=V.concat(e),$()},$=function(){q<0&&(q=H(Q))},Q=function(){Y.size>10&&Y.forEach((function(e,t){j.has(t)||Y.delete(t)}));var e=L.map((function(e){return Z.get(e.entries[0])})),t=X.length-50;X=X.filter((function(r,n){return n>=t||e.includes(r)}));for(var r=new Set,n=0;n<X.length;n++){var i=X[n];ie(i.startTime,i.processingEnd).forEach((function(e){r.add(e)}))}var s=V.length-1-50;V=V.filter((function(e,t){return e.startTime>W&&t>s||r.has(e)})),q=-1};B.push((function(e){e.interactionId&&e.target&&!Y.has(e.interactionId)&&Y.set(e.interactionId,e.target)}),(function(e){var t,r=e.startTime+e.duration;W=Math.max(W,e.processingEnd);for(var n=X.length-1;n>=0;n--){var i=X[n];if(Math.abs(r-i.renderTime)<=8){(t=i).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:r,entries:[e]},X.push(t)),(e.interactionId||"first-input"===e.entryType)&&Z.set(e,t),$()}));var ee,te,re,ne,ie=function(e,t){for(var r,n=[],i=0;r=V[i];i++)if(!(r.startTime+r.duration<e)){if(r.startTime>t)break;n.push(r)}return n},se=function(e,t){i||(i=f("long-animation-frame",J)),K((function(t){var r=function(e){var t=e.entries[0],r=Z.get(t),n=t.processingStart,i=r.processingEnd,s=r.entries.sort((function(e,t){return e.processingStart-t.processingStart})),a=ie(t.startTime,i),l=e.entries.find((function(e){return e.target})),u=l&&l.target||Y.get(t.interactionId),h=[t.startTime+t.duration,i].concat(a.map((function(e){return e.startTime+e.duration}))),d=Math.max.apply(Math,h),p={interactionTarget:c(u),interactionTargetElement:u,interactionType:t.name.startsWith("key")?"keyboard":"pointer",interactionTime:t.startTime,nextPaintTime:d,processedEventEntries:s,longAnimationFrameEntries:a,inputDelay:n-t.startTime,processingDuration:i-n,presentationDelay:Math.max(d-i,0),loadState:o(t.startTime)};return Object.assign(e,{attribution:p})}(t);e(r)}),t)},oe=[2500,4e3],ae={},ce=function(e,t){!function(e,t){t=t||{},x((function(){var r,n=C(),i=p("LCP"),s=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-d(),0),i.entries=[e],r())}))},o=f("largest-contentful-paint",s);if(o){r=m(e,i,oe,t.reportAllChanges);var a=v((function(){ae[i.id]||(s(o.takeRecords()),o.disconnect(),ae[i.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return H(a)}),!0)})),y(a),h((function(n){i=p("LCP"),r=m(e,i,oe,t.reportAllChanges),g((function(){i.value=performance.now()-n.timeStamp,ae[i.id]=!0,r(!0)}))}))}}))}((function(t){var r=function(e){var t={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){var r=s();if(r){var n=r.activationStart||0,i=e.entries[e.entries.length-1],o=i.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===i.url}))[0],a=Math.max(0,r.responseStart-n),l=Math.max(a,o?(o.requestStart||o.startTime)-n:0),u=Math.max(l,o?o.responseEnd-n:0),h=Math.max(u,i.startTime-n);t={element:c(i.element),timeToFirstByte:a,resourceLoadDelay:l-a,resourceLoadDuration:u-l,elementRenderDelay:h-u,navigationEntry:r,lcpEntry:i},i.url&&(t.url=i.url),o&&(t.lcpResourceEntry=o)}}return Object.assign(e,{attribution:t})}(t);e(r)}),t)},le=[800,1800],ue=function e(t){document.prerendering?x((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},he=function(e,t){t=t||{};var r=p("TTFB"),n=m(e,r,le,t.reportAllChanges);ue((function(){var i=s();i&&(r.value=Math.max(i.responseStart-d(),0),r.entries=[i],n(!0),h((function(){r=p("TTFB",0),(n=m(e,r,le,t.reportAllChanges))(!0)})))}))},de=function(e,t){he((function(t){var r=function(e){var t={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(e.entries.length){var r=e.entries[0],n=r.activationStart||0,i=Math.max((r.workerStart||r.fetchStart)-n,0),s=Math.max(r.domainLookupStart-n,0),o=Math.max(r.connectStart-n,0),a=Math.max(r.connectEnd-n,0);t={waitingDuration:i,cacheDuration:s-i,dnsDuration:o-s,connectionDuration:a-o,requestDuration:e.value-a,navigationEntry:r}}return Object.assign(e,{attribution:t})}(t);e(r)}),t)},pe={passive:!0,capture:!0},fe=new Date,me=function(e,t){ee||(ee=t,te=e,re=new Date,ve(removeEventListener),ge())},ge=function(){if(te>=0&&te<re-fe){var e={entryType:"first-input",name:ee.type,target:ee.target,cancelable:ee.cancelable,startTime:ee.timeStamp,processingStart:ee.timeStamp+te};ne.forEach((function(t){t(e)})),ne=[]}},ye=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){me(e,t),i()},n=function(){i()},i=function(){removeEventListener("pointerup",r,pe),removeEventListener("pointercancel",n,pe)};addEventListener("pointerup",r,pe),addEventListener("pointercancel",n,pe)}(t,e):me(t,e)}},ve=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,ye,pe)}))},be=[100,300],we=function(e,t){!function(e,t){t=t||{},x((function(){var r,n=C(),i=p("FID"),s=function(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),r(!0))},o=function(e){e.forEach(s)},a=f("first-input",o);r=m(e,i,be,t.reportAllChanges),a&&(y(v((function(){o(a.takeRecords()),a.disconnect()}))),h((function(){var n;i=p("FID"),r=m(e,i,be,t.reportAllChanges),ne=[],te=-1,ee=null,ve(addEventListener),n=s,ne.push(n),ge()})))}))}((function(t){var r=function(e){var t=e.entries[0],r={eventTarget:c(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:o(t.startTime)};return Object.assign(e,{attribution:r})}(t);e(r)}),t)}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e=function(){return e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)};Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var t=r(3131),n=r(5300),i=r(7047),s=r(9152);let o=1;const a="nr@id";function c(e){const t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===s._A?0:(0,i.X)(e,a,(function(){return o++}))}var l=r(4155);function u(e){if("string"==typeof e&&e.length)return e.length;if("object"==typeof e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if("undefined"!=typeof Blob&&e instanceof Blob&&e.size)return e.size;if(!("undefined"!=typeof FormData&&e instanceof FormData))try{return(0,l.P)(e).length}catch(e){return}}}var h=r(5944),d=r(1520),p=r(5891),f=r(6371),m=r(1639);const g={},y=["open","send"];function v(e){var t=e||p.ee;const r=function(e){return(e||p.ee).get("xhr")}(t);if(void 0===s._A.XMLHttpRequest)return r;if(g[r.debugId]++)return r;g[r.debugId]=1,(0,d.e)(t);var n=(0,f.xJ)(r),i=s._A.XMLHttpRequest,o=s._A.MutationObserver,a=s._A.Promise,c=s._A.setInterval,l="readystatechange",u=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],v=[],b=s._A.XMLHttpRequest=function(e){const t=new i(e),s=r.context(t);try{r.emit("new-xhr",[t],s),t.addEventListener(l,(o=s,function(){var e=this;e.readyState>3&&!o.resolved&&(o.resolved=!0,r.emit("xhr-resolved",[],e)),n.inPlace(e,u,"fn-",x)}),(0,h.m$)(!1))}catch(e){(0,m.Z)(15,e);try{r.emit("internal-error",[e])}catch(e){}}var o;return t};function w(e,t){n.inPlace(t,["onreadystatechange"],"fn-",x)}if(function(e,t){for(var r in e)t[r]=e[r]}(i,b),b.prototype=i.prototype,n.inPlace(b.prototype,y,"-xhr-",x),r.on("send-xhr-start",(function(e,t){w(e,t),function(e){v.push(e),o&&(S?S.then(C):c?c(C):(T=-T,I.data=T))}(t)})),r.on("open-xhr-start",w),o){var S=a&&a.resolve();if(!c&&!a){var T=1,I=document.createTextNode(T);new o(C).observe(I,{characterData:!0})}}else t.on("fn-end",(function(e){e[0]&&e[0].type===l||C()}));function C(){for(var e=0;e<v.length;e++)w(0,v[e]);v.length&&(v=[])}function x(e,t){return t}return r}var b="fetch-",w=b+"body-",S=["arrayBuffer","blob","json","text","formData"],T=s._A.Request,I=s._A.Response,C="prototype";const x={};function R(e){const t=function(e){return(e||p.ee).get("fetch")}(e);if(!(T&&I&&s._A.fetch))return t;if(x[t.debugId]++)return t;function r(e,r,n){var i=e[r];"function"==typeof i&&(e[r]=function(){var e,r=[...arguments],s={};t.emit(n+"before-start",[r],s),s[p.A]&&s[p.A].dt&&(e=s[p.A].dt);var o=i.apply(this,r);return t.emit(n+"start",[r,e],o),o.then((function(e){return t.emit(n+"end",[null,e],o),e}),(function(e){throw t.emit(n+"end",[e],o),e}))})}return x[t.debugId]=1,S.forEach((e=>{r(T[C],e,w),r(I[C],e,w)})),r(s._A,"fetch",b),t.on(b+"end",(function(e,r){var n=this;if(r){var i=r.headers.get("content-length");null!==i&&(n.rxSize=i),t.emit(b+"done",[null,r],n)}else t.emit(b+"done",[e],n)})),t}var E=r(8490),A=r(4613),k=r(6910),O=r(765);class M{constructor(e){this.agentIdentifier=e}generateTracePayload(e){if(!this.shouldGenerateTrace(e))return null;var t=(0,k.D)(this.agentIdentifier);if(!t)return null;var r=(t.accountID||"").toString()||null,n=(t.agentID||"").toString()||null,i=(t.trustKey||"").toString()||null;if(!r||!n)return null;var s=(0,O.M)(),o=(0,O.Ht)(),a=Date.now(),c={spanId:s,traceId:o,timestamp:a};return(e.sameOrigin||this.isAllowedOrigin(e)&&this.useTraceContextHeadersForCors())&&(c.traceContextParentHeader=this.generateTraceContextParentHeader(s,o),c.traceContextStateHeader=this.generateTraceContextStateHeader(s,a,r,n,i)),(e.sameOrigin&&!this.excludeNewrelicHeader()||!e.sameOrigin&&this.isAllowedOrigin(e)&&this.useNewrelicHeaderForCors())&&(c.newrelicHeader=this.generateTraceHeader(s,o,a,r,n,i)),c}generateTraceContextParentHeader(e,t){return"00-"+t+"-"+e+"-01"}generateTraceContextStateHeader(e,t,r,n,i){return i+"@nr=0-1-"+r+"-"+n+"-"+e+"----"+t}generateTraceHeader(e,t,r,n,i,o){if(!("function"==typeof s._A?.btoa))return null;var a={v:[0,1],d:{ty:"Browser",ac:n,ap:i,id:e,tr:t,ti:r}};return o&&n!==o&&(a.d.tk=o),btoa((0,l.P)(a))}shouldGenerateTrace(e){return this.isDtEnabled()&&this.isAllowedOrigin(e)}isAllowedOrigin(e){var t=!1,r={};if((0,A.Mt)(this.agentIdentifier,"distributed_tracing")&&(r=(0,A.P_)(this.agentIdentifier).distributed_tracing),e.sameOrigin)t=!0;else if(r.allowed_origins instanceof Array)for(var n=0;n<r.allowed_origins.length;n++){var i=(0,E.e)(r.allowed_origins[n]);if(e.hostname===i.hostname&&e.protocol===i.protocol&&e.port===i.port){t=!0;break}}return t}isDtEnabled(){var e=(0,A.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.enabled}excludeNewrelicHeader(){var e=(0,A.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.exclude_newrelic_header}useNewrelicHeaderForCors(){var e=(0,A.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!1!==e.cors_use_newrelic_header}useTraceContextHeadersForCors(){var e=(0,A.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.cors_use_tracecontext_headers}}var N=r(1019),D=r(3400),P=r(2277),_=r(4663),F=r(4219),L=r(9334),j=r(8597);class U extends D.W{constructor(e,t,r=!0){super(e.agentIdentifier,t),this.auto=r,this.abortHandler=void 0,this.featAggregate=void 0,this.onAggregateImported=void 0,!1===e.init[this.featureName].autoStart&&(this.auto=!1),this.auto?(0,N.RP)(e.agentIdentifier,t):this.ee.on("manual-start-all",(0,j.Z)((()=>{(0,N.RP)(e.agentIdentifier,this.featureName),this.auto=!0,this.importAggregator(e)})))}importAggregator(e,t={}){if(this.featAggregate||!this.auto)return;let n;this.onAggregateImported=new Promise((e=>{n=e}));const i=async()=>{let i;try{if((0,L.H)(this.agentIdentifier)){const{setupAgentSession:t}=await Promise.resolve().then(r.bind(r,7173));i=t(e)}}catch(e){(0,m.Z)(20,e),this.ee.emit("internal-error",[e]),this.featureName===_.DT.sessionReplay&&this.abortHandler?.()}try{if(!this.#M(this.featureName,i))return(0,N.LP)(this.agentIdentifier,this.featureName),void n(!1);const{lazyFeatureLoader:s}=await Promise.resolve().then(r.bind(r,5925)),{Aggregate:o}=await s(this.featureName,"aggregate");this.featAggregate=new o(e,t),e.runtime.harvester.initializedAggregates.push(this.featAggregate),n(!0)}catch(e){(0,m.Z)(34,e),this.abortHandler?.(),(0,N.LP)(this.agentIdentifier,this.featureName,!0),n(!1),this.ee&&this.ee.abort()}};s.il?(0,P.b2)((()=>i()),!0):i()}#M(e,t){switch(e){case _.DT.sessionReplay:return(0,F.Rc)(this.agentIdentifier)&&!!t;case _.DT.sessionTrace:return!!t;default:return!0}}}var B=r(513),z=r(4716),H=r(1595),G=r(4741),K=["load","error","abort","timeout"],V=K.length,X=(0,t.mF)().o.REQ,W=(0,t.mF)().o.XHR;class Z extends U{static featureName=B.t;constructor(e,t=!0){super(e,B.t,t),this.dt=new M(e.agentIdentifier),this.handler=(e,t,r,i)=>(0,n.p)(e,t,r,i,this.ee);try{const e={xmlhttprequest:"xhr",fetch:"fetch",beacon:"beacon"};s._A?.performance?.getEntriesByType("resource").forEach((t=>{if(t.initiatorType in e&&0!==t.responseStatus){const r={status:t.responseStatus},n={rxSize:t.transferSize,duration:Math.floor(t.duration),cbTime:0};Y(r,t.name),this.handler("xhr",[r,n,t.startTime,t.responseEnd,e[t.initiatorType]],void 0,_.DT.ajax)}}))}catch(e){}R(this.ee),v(this.ee),function(e,t,r,i){function o(e){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=C,t.ended=!1,t.xhrGuids={},t.lastSize=null,t.loadCaptureCalled=!1,t.params=this.params||{},t.metrics=this.metrics||{},e.addEventListener("load",(function(r){x(t,e)}),(0,h.m$)(!1)),s.IF||e.addEventListener("progress",(function(e){t.lastSize=e.loaded}),(0,h.m$)(!1))}function a(e){this.params={method:e[0]},Y(this,e[1]),this.metrics={}}function l(t,r){e.loader_config.xpid&&this.sameOrigin&&r.setRequestHeader("X-NewRelic-ID",e.loader_config.xpid);var n=i.generateTracePayload(this.parsedOrigin);if(n){var s=!1;n.newrelicHeader&&(r.setRequestHeader("newrelic",n.newrelicHeader),s=!0),n.traceContextParentHeader&&(r.setRequestHeader("traceparent",n.traceContextParentHeader),n.traceContextStateHeader&&r.setRequestHeader("tracestate",n.traceContextStateHeader),s=!0),s&&(this.dt=n)}}function d(e,r){var n=this.metrics,i=e[0],s=this;if(n&&i){var o=u(i);o&&(n.txSize=o)}this.startTime=(0,H.z)(),this.body=i,this.listener=function(e){try{"abort"!==e.type||s.loadCaptureCalled||(s.params.aborted=!0),("load"!==e.type||s.called===s.totalCbs&&(s.onloadCalled||"function"!=typeof r.onload)&&"function"==typeof s.end)&&s.end(r)}catch(e){try{t.emit("internal-error",[e])}catch(e){}}};for(var a=0;a<V;a++)r.addEventListener(K[a],this.listener,(0,h.m$)(!1))}function p(e,t,r){this.cbTime+=e,t?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof r.onload||"function"!=typeof this.end||this.end(r)}function f(e,t){var r=""+c(e)+!!t;this.xhrGuids&&!this.xhrGuids[r]&&(this.xhrGuids[r]=!0,this.totalCbs+=1)}function m(e,t){var r=""+c(e)+!!t;this.xhrGuids&&this.xhrGuids[r]&&(delete this.xhrGuids[r],this.totalCbs-=1)}function g(){this.endTime=(0,H.z)()}function y(e,r){r instanceof W&&"load"===e[0]&&t.emit("xhr-load-added",[e[1],e[2]],r)}function v(e,r){r instanceof W&&"load"===e[0]&&t.emit("xhr-load-removed",[e[1],e[2]],r)}function b(e,t,r){t instanceof W&&("onload"===r&&(this.onload=!0),("load"===(e[0]&&e[0].type)||this.onload)&&(this.xhrCbStart=(0,H.z)()))}function w(e,r){this.xhrCbStart&&t.emit("xhr-cb-time",[(0,H.z)()-this.xhrCbStart,this.onload,r],r)}function S(e){var t,r=e[1]||{};if("string"==typeof e[0]?0===(t=e[0]).length&&s.il&&(t=""+s._A.location.href):e[0]&&e[0].url?t=e[0].url:s._A?.URL&&e[0]&&e[0]instanceof URL?t=e[0].href:"function"==typeof e[0].toString&&(t=e[0].toString()),"string"==typeof t&&0!==t.length){t&&(this.parsedOrigin=(0,E.e)(t),this.sameOrigin=this.parsedOrigin.sameOrigin);var n=i.generateTracePayload(this.parsedOrigin);if(n&&(n.newrelicHeader||n.traceContextParentHeader))if(e[0]&&e[0].headers)c(e[0].headers,n)&&(this.dt=n);else{var o={};for(var a in r)o[a]=r[a];o.headers=new Headers(r.headers||{}),c(o.headers,n)&&(this.dt=n),e.length>1?e[1]=o:e.push(o)}}function c(e,t){var r=!1;return t.newrelicHeader&&(e.set("newrelic",t.newrelicHeader),r=!0),t.traceContextParentHeader&&(e.set("traceparent",t.traceContextParentHeader),t.traceContextStateHeader&&e.set("tracestate",t.traceContextStateHeader),r=!0),r}}function T(e,t){this.params={},this.metrics={},this.startTime=(0,H.z)(),this.dt=t,e.length>=1&&(this.target=e[0]),e.length>=2&&(this.opts=e[1]);var r,n=this.opts||{},i=this.target;"string"==typeof i?r=i:"object"==typeof i&&i instanceof X?r=i.url:s._A?.URL&&"object"==typeof i&&i instanceof URL&&(r=i.href),Y(this,r);var o=(""+(i&&i instanceof X&&i.method||n.method||"GET")).toUpperCase();this.params.method=o,this.body=n.body,this.txSize=u(n.body)||0}function I(e,t){if(this.endTime=(0,H.z)(),this.params||(this.params={}),(0,G.zh)(this.params))return;let n;this.params.status=t?t.status:0,"string"==typeof this.rxSize&&this.rxSize.length>0&&(n=+this.rxSize);const i={txSize:this.txSize,rxSize:n,duration:(0,H.z)()-this.startTime};r("xhr",[this.params,i,this.startTime,this.endTime,"fetch"],this,_.DT.ajax)}function C(e){const t=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(let t=0;t<V;t++)e.removeEventListener(K[t],this.listener,!1);t.aborted||(0,G.zh)(t)||(n.duration=(0,H.z)()-this.startTime,this.loadCaptureCalled||4!==e.readyState?null==t.status&&(t.status=0):x(this,e),n.cbTime=this.cbTime,r("xhr",[t,n,this.startTime,this.endTime,"xhr"],this,_.DT.ajax))}}function x(e,r){e.params.status=r.status;var i=function(e,t){var r=e.responseType;return"json"===r&&null!==t?t:"arraybuffer"===r||"blob"===r||"json"===r?u(e.response):"text"===r||""===r||void 0===r?u(e.responseText):void 0}(r,e.lastSize);if(i&&(e.metrics.rxSize=i),e.sameOrigin){var s=r.getResponseHeader("X-NewRelic-App-Data");s&&((0,n.p)(z.mY,["Ajax/CrossApplicationTracing/Header/Seen"],void 0,_.DT.metrics,t),e.params.cat=s.split(", ").pop())}e.loadCaptureCalled=!0}t.on("new-xhr",o),t.on("open-xhr-start",a),t.on("open-xhr-end",l),t.on("send-xhr-start",d),t.on("xhr-cb-time",p),t.on("xhr-load-added",f),t.on("xhr-load-removed",m),t.on("xhr-resolved",g),t.on("addEventListener-end",y),t.on("removeEventListener-end",v),t.on("fn-end",w),t.on("fetch-before-start",S),t.on("fetch-start",T),t.on("fn-start",b),t.on("fetch-done",I)}(e,this.ee,this.handler,this.dt),this.importAggregator(e)}}function Y(e,t){var r=(0,E.e)(t),n=e.params||e;n.hostname=r.hostname,n.port=r.port,n.protocol=r.protocol,n.host=r.hostname+":"+r.port,n.pathname=r.pathname,e.parsedOrigin=r,e.sameOrigin=r.sameOrigin}const q=Z;var J=r(8089);class $ extends U{static featureName=J.t9;constructor(e,t=!0){super(e,J.t9,t);const r=[e.init.page_action.enabled,e.init.performance.capture_marks,e.init.performance.capture_measures,e.init.user_actions.enabled,e.init.performance.resources.enabled];if(s.il&&(e.init.user_actions.enabled&&(J.z5.forEach((e=>(0,h.bP)(e,(e=>(0,n.p)("ua",[e],void 0,this.featureName,this.ee)),!0))),J.jC.forEach((e=>{const t=(0,j.D)((e=>{(0,n.p)("ua",[e],void 0,this.featureName,this.ee)}),500,{leading:!0});(0,h.bP)(e,t)}))),e.init.performance.resources.enabled&&s._A.PerformanceObserver?.supportedEntryTypes.includes("resource"))){new PerformanceObserver((e=>{e.getEntries().forEach((e=>{(0,n.p)("browserPerformance.resource",[e],void 0,this.featureName,this.ee)}))})).observe({type:"resource",buffered:!0})}r.some((e=>e))?this.importAggregator(e):this.deregisterDrain()}}const Q=$;var ee=r(6067),te=r(1838);class re{constructor(e,t,r,n,i){this.name="UncaughtError",this.message="string"==typeof e?e:(0,l.P)(e),this.sourceURL=t,this.line=r,this.column=n,this.__newrelic=i}}function ne(e){return oe(e)?e:new re(void 0!==e?.message?e.message:e,e?.filename||e?.sourceURL,e?.lineno||e?.line,e?.colno||e?.col,e?.__newrelic)}function ie(e){const t="Unhandled Promise Rejection";if(!e?.reason)return;if(oe(e.reason))try{return e.reason.message=t+": "+e.reason.message,ne(e.reason)}catch(t){return ne(e.reason)}const r=ne(e.reason);return r.message=t+": "+r?.message,r}function se(e){if(e.error instanceof SyntaxError&&!/:\d+$/.test(e.error.stack?.trim())){const t=new re(e.message,e.filename,e.lineno,e.colno,e.error.__newrelic);return t.name=SyntaxError.name,t}return oe(e.error)?e.error:ne(e)}function oe(e){return e instanceof Error&&!!e.stack}class ae extends U{static featureName=ee.t;#N=!1;constructor(e,t=!0){super(e,ee.t,t);try{this.removeOnAbort=new AbortController}catch(e){}this.ee.on("internal-error",((e,t)=>{this.abortHandler&&(0,n.p)("ierr",[ne(e),(0,H.z)(),!0,{},this.#N,t],void 0,this.featureName,this.ee)})),this.ee.on(te.Ef.REPLAY_RUNNING,(e=>{this.#N=e})),s._A.addEventListener("unhandledrejection",(e=>{this.abortHandler&&(0,n.p)("err",[ie(e),(0,H.z)(),!1,{unhandledPromiseRejection:1},this.#N],void 0,this.featureName,this.ee)}),(0,h.m$)(!1,this.removeOnAbort?.signal)),s._A.addEventListener("error",(e=>{this.abortHandler&&(0,n.p)("err",[se(e),(0,H.z)(),!1,{},this.#N],void 0,this.featureName,this.ee)}),(0,h.m$)(!1,this.removeOnAbort?.signal)),this.abortHandler=this.#D,this.importAggregator(e)}#D(){this.removeOnAbort?.abort(),this.abortHandler=void 0}}const ce=ae;class le extends U{static featureName=z.t9;constructor(e,t=!0){super(e,z.t9,t),this.importAggregator(e)}}const ue=le;const he=class extends ${constructor(e,t,r=!0){super(e,t,r)}};var de=r(5785);class pe extends U{static featureName=de.t;constructor(e,t=!0){super(e,de.t,t),this.importAggregator(e)}}const fe=pe;var me=r(7973),ge=r(9337);class ye extends U{static featureName=ge.t;constructor(e,t=!0){super(e,ge.t,t),s.il&&((0,me.N)((()=>(0,n.p)("docHidden",[(0,H.z)()],void 0,ge.t,this.ee)),!0),(0,h.bP)("pagehide",(()=>(0,n.p)("winPagehide",[(0,H.z)()],void 0,ge.t,this.ee))),this.importAggregator(e))}}const ve=ye;var be=r(9181);class we extends U{static featureName=te.t9;#P;#_;constructor(e,t=!0){let r;super(e,te.t9,t),this.replayRunning=!1,this.#_=e;try{r=JSON.parse(localStorage.getItem("".concat(be.Bq,"_").concat(be.K4)))}catch(e){}(0,F.Rc)(e.agentIdentifier)&&this.ee.on(te.Ef.RECORD,(()=>this.#F())),this.#L(r)?(this.#P=r?.sessionReplayMode,this.#j()):this.importAggregator(e),this.ee.on("err",(e=>{this.replayRunning&&(this.errorNoticed=!0,(0,n.p)(te.Ef.ERROR_DURING_REPLAY,[e],void 0,this.featureName,this.ee))})),this.ee.on(te.Ef.REPLAY_RUNNING,(e=>{this.replayRunning=e}))}#L(e){return e&&(e.sessionReplayMode===be.IK.FULL||e.sessionReplayMode===be.IK.ERROR)||(0,F.rU)(this.agentIdentifier)}#U=!1;async#j(e){if(!this.#U){this.#U=!0;try{const{Recorder:t}=await Promise.resolve().then(r.bind(r,642));this.recorder??=new t({mode:this.#P,agentIdentifier:this.agentIdentifier,trigger:e,ee:this.ee,agentRef:this.#_}),this.recorder.startRecording(),this.abortHandler=this.recorder.stopRecording}catch(e){}this.importAggregator(this.#_,{recorder:this.recorder,errorNoticed:this.errorNoticed})}}#F(){this.featAggregate?this.featAggregate.mode!==be.IK.FULL&&this.featAggregate.initializeRecording(be.IK.FULL,!0):(this.#P=be.IK.FULL,this.#j(te.pB.API),this.recorder&&this.recorder.parent.mode!==be.IK.FULL&&(this.recorder.parent.mode=be.IK.FULL,this.recorder.stopRecording(),this.recorder.startRecording(),this.abortHandler=this.recorder.stopRecording))}}const Se=we,Te={},Ie=["pushState","replaceState"];function Ce(e){const t=function(e){return(e||p.ee).get("history")}(e);return!s.il||Te[t.debugId]++||(Te[t.debugId]=1,(0,f.xJ)(t).inPlace(window.history,Ie,"-")),t}var xe=r(2613);const{BST_RESOURCE:Re,RESOURCE:Ee,START:Ae,END:ke,FEATURE_NAME:Oe,FN_END:Me,FN_START:Ne,PUSH_STATE:De}=xe;const Pe=class extends U{static featureName=Oe;constructor(e,t=!0){super(e,Oe,t);if(!(0,L.H)(this.agentIdentifier))return void this.deregisterDrain();const r=this.ee;let i;Ce(r),this.eventsEE=(0,d.e)(r),this.eventsEE.on(Ne,(function(e,t){this.bstStart=(0,H.z)()})),this.eventsEE.on(Me,(function(e,t){(0,n.p)("bst",[e[0],t,this.bstStart,(0,H.z)()],void 0,_.DT.sessionTrace,r)})),r.on(De+Ae,(function(e){this.time=(0,H.z)(),this.startPath=location.pathname+location.hash})),r.on(De+ke,(function(e){(0,n.p)("bstHist",[location.pathname+location.hash,this.startPath,this.time],void 0,_.DT.sessionTrace,r)}));try{i=new PerformanceObserver((e=>{const t=e.getEntries();(0,n.p)(Re,[t],void 0,_.DT.sessionTrace,r)})),i.observe({type:Ee,buffered:!0})}catch(e){}this.importAggregator(e,{resourceObserver:i})}};class _e{agentIdentifier;constructor(){this.agentIdentifier=(0,O.ky)(16)}#B(e,...t){if("function"==typeof this.api?.[e])return this.api[e](...t);(0,m.Z)(35,e)}addPageAction(e,t){return this.#B("addPageAction",e,t)}recordCustomEvent(e,t){return this.#B("recordCustomEvent",e,t)}setPageViewName(e,t){return this.#B("setPageViewName",e,t)}setCustomAttribute(e,t,r){return this.#B("setCustomAttribute",e,t,r)}noticeError(e,t){return this.#B("noticeError",e,t)}setUserId(e){return this.#B("setUserId",e)}setApplicationVersion(e){return this.#B("setApplicationVersion",e)}setErrorHandler(e){return this.#B("setErrorHandler",e)}addRelease(e,t){return this.#B("addRelease",e,t)}log(e,t){return this.#B("log",e,t)}}class Fe extends _e{#B(e,...t){if("function"==typeof this.api?.[e])return this.api[e](...t);(0,m.Z)(35,e)}start(){return this.#B("start")}finished(e){return this.#B("finished",e)}recordReplay(){return this.#B(te.Ef.RECORD)}pauseReplay(){return this.#B(te.Ef.PAUSE)}addToTrace(e){return this.#B("addToTrace",e)}setCurrentRouteName(e){return this.#B("setCurrentRouteName",e)}interaction(){return this.#B("interaction")}wrapLogger(e,t,r){return this.#B("wrapLogger",e,t,r)}}const Le=Object.values(_.DT);function je(e){const t={};return Le.forEach((r=>{t[r]=function(e,t){return!0===(0,A.Mt)(t,"".concat(e,".enabled"))}(r,e)})),t}var Ue=r(4807);class Be extends Fe{constructor(e){super(),s._A?(this.features={},(0,t.h5)(this.agentIdentifier,this),this.desiredFeatures=new Set(e.features||[]),this.desiredFeatures.add(pe),this.runSoftNavOverSpa=[...this.desiredFeatures].some((e=>e.featureName===_.DT.softNav)),(0,Ue.j)(this,e,e.loaderType||"agent"),this.run()):(0,m.Z)(21)}get config(){return{info:this.info,init:this.init,loader_config:this.loader_config,runtime:this.runtime}}run(){try{const e=je(this.agentIdentifier),t=[...this.desiredFeatures];t.sort(((e,t)=>_.pQ[e.featureName]-_.pQ[t.featureName])),t.forEach((t=>{if(!e[t.featureName]&&t.featureName!==_.DT.pageViewEvent)return;if(this.runSoftNavOverSpa&&t.featureName===_.DT.spa)return;if(!this.runSoftNavOverSpa&&t.featureName===_.DT.softNav)return;const r=function(e){switch(e){case _.DT.ajax:return[_.DT.jserrors];case _.DT.sessionTrace:return[_.DT.ajax,_.DT.pageViewEvent];case _.DT.sessionReplay:return[_.DT.sessionTrace];case _.DT.pageViewTiming:return[_.DT.pageViewEvent];default:return[]}}(t.featureName).filter((e=>!(e in this.features)));r.length>0&&(0,m.Z)(36,{targetFeature:t.featureName,missingDependencies:r}),this.features[t.featureName]=new t(this)}))}catch(e){(0,m.Z)(22,e);for(const e in this.features)this.features[e].abortHandler?.();const r=(0,t.fP)();delete r.initializedAgents[this.agentIdentifier]?.api,delete r.initializedAgents[this.agentIdentifier]?.features,delete this.sharedAggregator;return r.ee.get(this.agentIdentifier).abort(),!1}}}var ze=/NrErrorSuppressionWrapper/,He=/setTrackingTag/,Ge=/webstore-vg\.js|webstore\.js/,Ke=function(e){return"string"==typeof e||!e.stack||(!!ze.test(e.stack)||(He.test(e.stack)||!Ge.test(e.stack)))},Ve={Ajax:q,GenericEvents:Q,JSErrors:ce,Metrics:ue,PageAction:he,PageViewEvent:fe,PageViewTiming:ve,SessionReplay:Se,SessionTrace:Pe};try{var Xe=function(){var e=new XMLHttpRequest;if(e.open("GET","/shop/js/nr-config.json",!1),e.send(null),200===e.status)return JSON.parse(e.response)}();if(!Xe)throw new Error;!function(t){var r=t.features.reduce((function(e,t){return Ve[t]&&e.push(Ve[t]),e}),[]);new Be(e(e({},t.account),{features:r})).setErrorHandler(Ke)}(Xe)}catch(e){}}()}();